{"version":3,"sources":["contexts/StateReducers.js","contexts/StateContextProvider.jsx","components/SidebarOption/SidebarOption.jsx","firebase.js","components/SidebarAccount/SidebarAccount.jsx","contexts/IsRoomOpenedReducers.js","contexts/IsRoomOpenedContextProvider.jsx","components/Sidebar/Sidebar.jsx","components/StatusInput/StatusInput.jsx","elements/TabbarMenu/TabbarMenu.jsx","helpers/postToCloudinary.js","helpers/getImageDimension.js","helpers/generateAltText.js","elements/Modal/Modal.jsx","elements/Spinner/Spinner.jsx","elements/Slider/Slider.jsx","components/EditPhoto/CropPhotoB.jsx","components/EditPhoto/AddALT.jsx","components/TweetBox/TweetBox.jsx","components/Post/FooterIcon.jsx","helpers/timeDifference.js","helpers/convertTimestampToLocaleString.js","components/Reply/Reply.jsx","components/Post/Like.jsx","server/serverActions.js","components/Post/Post.jsx","components/Posts/Posts.jsx","elements/Loader/Loader.jsx","elements/BottomNav/BottomNav.jsx","components/Feed/Feed.jsx","components/WidgetsTrends/WidgetsTrends.jsx","components/UserItem/UserItemFollow.jsx","components/WidgetsFollow/WidgetsFollow.jsx","elements/SearchWidget/SearchWidget.jsx","components/Widgets/Widgets.jsx","elements/Search/Search.jsx","components/UserItem/UserItem.jsx","components/UserItem/UserExist.jsx","contexts/ChatReducers.js","contexts/ChatContextProvider.jsx","components/SearchUser/SearchUser.jsx","helpers/lastMessageTime.js","components/SidebarChatOption/SidebarChatOption.jsx","components/SidebarChat/SidebarChat.jsx","elements/Modal/ModalImage.jsx","components/MessageItem/MessageItem.jsx","components/Chat/Chat.jsx","components/ConversationInfo/ConversationInfo.jsx","components/Login/Login.jsx","helpers/inputValidator.js","components/EditProfile/EditProfile.jsx","components/FollowingEquality/FollowingEquality.jsx","components/ProfileTheme/ProfileTheme.jsx","components/Profile/Profile.jsx","components/WidgetsPhoto/WidgetsPhoto.jsx","components/ProfileWidgets/ProfileWidgets.jsx","components/ProfileFollow/ProfileFollow.jsx","components/ReplyComment/ReplyComment.jsx","components/Comment/Comment.jsx","components/Comments/Comments.jsx","components/StatusPost/StatusPost.jsx","components/Status/Status.jsx","components/ThreadComment/ThreadComment.jsx","components/ThreadComments/ThreadComments.jsx","components/CommentPost/CommentPost.jsx","components/CommentThread/CommentThread.jsx","components/StatusWidget/StatusWidget.jsx","components/Explore/exploreUser.jsx","components/Explore/Explore.jsx","components/Shorts/VideoFooter.js","components/Shorts/Likes.js","components/Shorts/VideoSidebar.js","components/Shorts/Video.js","components/Shorts/Shorts.js","App.js","index.js"],"names":["initialState","user","actionTypes","stateReducer","state","action","type","Object","objectSpread","StateContext","createContext","useStateValue","useContext","StateContextProvider","_ref","children","react_default","a","createElement","Provider","value","useReducer","StateReducers","SidebarOptions","active","text","Icon","onClick","_useStateValue","slicedToArray","isHome","redirect","concat","toLowerCase","username","react_router_dom","to","exact","className","activeClassName","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","GoogleAuthProvider","SidebarAccount","history","useHistory","_useState","useState","_useState2","profile","setProfile","_useState3","_useState4","anchorEl","setAnchorEl","open","Boolean","id","undefined","useEffect","collection","doc","onSnapshot","res","data","Fragment","Popover","onClose","anchorOrigin","vertical","horizontal","transformOrigin","style","transform","Avatar","src","photoURL","displayName","Check_default","localStorage","clear","push","window","location","reload","aria-describedby","variant","event","currentTarget","ExpandMore_default","isRoomOpened","isRoomOpenededucer","IsRoomOpenedContext","useRoomState","IsRoomOpenedContextProvider","IsRoomOpenedReducers","Sidebar","_useRoomState","_useRoomState2","dispatch","Twitter_default","SidebarOption_SidebarOption","HomeIcon","SearchIcon","VideoLibraryRounded","MailOutlineIcon","NotificationsNoneIcon","ListAltIcon","PermIdentityIcon","MoreHorizIcon","dir","viewBox","fill","d","components_SidebarAccount_SidebarAccount","StatusInput","accept","name","htmlFor","onChange","display","TabPanel","props","index","other","objectWithoutProperties","assign","role","hidden","aria-labelledby","Box","p","Typography","component","useStyles","makeStyles","theme","root","backgroundColor","palette","background","paper","FullWidthTabs","items","classes","useTheme","_React$useState","React","_React$useState2","setValue","AppBar","position","color","Tabs","newValue","indicatorColor","textColor","aria-label","map","item","Tab","key","icon","label","title","aria-controls","lib_default","axis","direction","onChangeIndex","postToCloudinary","file","Promise","resolve","reject","imageUri","console","log","FormData","append","fetch","method","body","then","json","url","catch","err","imageDimensions","img","Image","onload","width","naturalWidth","height","naturalHeight","onerror","URL","createObjectURL","getInfo","_ref2","asyncToGenerator","regenerator_default","mark","_callee","files","_files","wrap","_context","prev","next","target","abrupt","sent","t0","error","stop","_x","apply","this","arguments","generateAltText","imageUrl","t","Date","getMonth","getDate","getFullYear","CommonModal","callback","ButtonText","react_responsive_modal_dist_default","length","Button","Spinner","minWidth","ContinuousSlider","val","setVal","Grid","container","spacing","RemoveCircleOutlineOutlined_default","xs","Slider","min","max","AddCircleOutlineOutlined_default","CreatePost","crop","unit","aspect","originalImageSize","croppedImageUrl","zoomScale","onImageLoaded","image","_this","imageRef","onCropChange","setState","onCropComplete","getCroppedImg","onChangeAspectRatio","num","onChangeZoomScale","_this2","canvas","document","scaleX","scaleY","getContext","drawImage","x","y","reader","FileReader","toBlob","blob","readAsDataURL","onloadend","dataURLtoFile","result","dataurl","filename","arr","split","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","croppedImage","File","_this$props","initialAspectRatio","prevProps","prevState","setCroppedImageResult","newScale","querySelector","_this3","_this$state","ReactCrop_min_default","ruleOfThirds","onComplete","CropPortrait_default","Crop169_default","Crop32_default","PureComponent","AddALT","altText","setAltText","alt","cols","rows","e","TweetBox","tweetMessage","setTweetMessage","_useState5","_useState6","_useState7","_useState8","setSrc","_useState9","_useState10","imageToSend","setImageToSend","_useState11","_useState12","isOpenModal","setIsOpenModal","_useState13","_useState14","initialImageSize","setinitialImageSize","_useState15","_useState16","setinitialAspectRatio","_useState17","_useState18","croppedImageResult","_useState19","_useState20","_useState21","_useState22","isLoading","setIsloading","snapshot","Crop_default","CropPhotoB","components_EditPhoto_AddALT","addEventListener","el","setTimeout","cssText","scrollHeight","Modal_Modal","ArrowBackOutlinedIcon","onSubmit","preventDefault","add","likes","senderId","timestamp","FieldValue","serverTimestamp","placeholder","Cancel_default","components_StatusInput_StatusInput","ImageOutlinedIcon","fileReader","GifOutlinedIcon","EqualizerOutlinedIcon","SentimentSatisfiedOutlinedIcon","borderRadius","dist_default","onEmojiClick","emojiObject","newMessage","emoji","EventNoteSharpIcon","elements_Spinner_Spinner","FooterIcon","timeDifference","postedTime","_postedTime$split","_postedTime$split2","date","time","_date$split","_date$split2","month","day","year","_time$split","_time$split2","_map","i","parseInt","_map2","year1","month1","day1","hour1","minute1","second1","today","year2","month2","day2","hour2","getHours","minute2","getMinutes","second2","getSeconds","isLeap","yy","secs","mo","h","mi","s","sd","days","monthList","del","Math","trunc","disp","y1","mo1","d1","h1","mi1","s1","y2","mo2","d2","h2","mi2","s2","secs1","secs2","gap","D","dif","convertTimestampToLocaleString","toDate","toLocaleString","hour12","Reply","ownProfile","setIsOpenParentModal","verified","postId","commentMessage","setCommentMessage","commentAltText","setCommentAltText","Timeline","TimelineItem","TimelineSeparator","TimelineConnector","TimelineContent","VerifiedUser_default","util","newComment","Like","likeAction","unlikeAction","isLiked","setisLiked","includes","Favorite_default","FavoriteBorder_default","follow","userId","followId","userRef","followRef","update","following","arrayUnion","followers","unfollow","arrayRemove","deletePost","delete","like","unlike","deleteComment","commentId","likeComment","unlikeComment","likeReels","reelsId","unlikeReels","Post","forwardRef","ref","setOwnProfile","comments","setComments","isFollowing","setIsFollowing","redirectToStatus","docs","comment","CloseIcon","components_Reply_Reply","DeleteOutline_default","Place_default","Code_default","BarChart_default","SentimentVeryDissatisfied_default","PersonAddDisabled_default","PersonAdd_default","PostAdd_default","Block_default","components_Post_FooterIcon","ChatBubbleOutlineIcon","RepeatIcon","Post_Like","PublishIcon","Posts","posts","post","components_Post_Post","avatar","& > * + *","marginLeft","CircularIndeterminate","CircularProgress","BottomNav","Home_default","PanoramaFishEye_default","VideoLibraryOutlined","NotificationsNone_default","MailOutline_default","Feed","setPosts","loading","setLoading","setFollowing","mounted","where","toConsumableArray","orderBy","empty","components_TweetBox_TweetBox","components_Posts_Posts","elements_BottomNav_BottomNav","WidgetTrends","UserItemFollow","WidgetFollow","users","setUsers","limit","filter","u","components_UserItem_UserItemFollow","SearchWidget","focus","setFocus","isInputPressed","setIsInputPressed","Search_default","onFocus","onBlur","Widgets","setText","elements_SearchWidget_SearchWidget","WidgetsTrends_WidgetsTrends","WidgetsFollow_WidgetsFollow","Search","SearchOutlined_default","UserItem","photourl","clicked","UserExist","roomId","members","opp","setOpp","userInfo","setUserInfo","member","toString","Action","chatReducer","room","ChatContext","ChatContextProvider","_useReducer","_useReducer2","rooms","SearchUser","search","setSearch","existingRooms","setExistingRooms","results","setResults","_useContext","memberList","uniqueMemberList","onChipDelete","deleteChip","unsubscribe","forEach","indexOf","input","get","onKeyUp","onKeyPress","onKeyDown","resUser","Chip","onDelete","LinearProgress","components_UserItem_UserItem","some","UserItem_UserExist","helpers_lastMessageTime","sumSecs","displayOutput","secsDifference","SidebarChatOption","messages","setMessages","contact","setContact","message","slice","interpretDate","SidebarChat","isMobile","useMediaQuery","maxWidth","alias","components_SearchUser_SearchUser","elements_Search_Search","components_SidebarChatOption_SidebarChatOption","modal","alignItems","justifyContent","outline","ModalImage","imgsrc","esm_Modal_Modal","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","MessageItem","msg","setOpen","setImgsrc","_msg$data","onClickImage","Modal_ModalImage","DoneAll_default","Chat","useParams","setMembers","setDisplay","_useState23","_useState24","_useState25","_useState26","sendMessage","ArrowBackOutlined_default","Info_default","components_MessageItem_MessageItem","InsertPhotoOutlinedIcon","GifOutlined_default","SentimentSatisfiedOutlined_default","Send_default","ConversationInfo","checkedB","goBack","Switch","checked","defineProperty","inputProps","Login","_useStateValue2","email","password","confirmPassword","signupState","setSignupState","loginState","setLoginState","setError","isSigning","setIsSigning","bio","joined","wallpaper","setLogin","setsignin","userE","setUserE","_React$useState3","_React$useState4","setEmail","_React$useState5","_React$useState6","disabled","setDisabled","usernameA","_React$useState7","_React$useState8","loginp","_React$useState9","_React$useState10","signinp","_React$useState11","_React$useState12","welcome","setWelcome","autoComplete","setItem","JSON","stringify","parse","getItem","auths","replace","required","values","errors","erUsername","erName","test","erEmail","erPassword","erPasswords","validate","EditProfile","setUpdatedProfileState","website","profileState","setProfileState","photoSrc","wallpaperSrc","photoToSend","wallpaperToSend","pictureToSend","setPictureToSend","photo","activeModal","setActiveModal","onSelectFile","kind","backgroundImage","AddAPhotoOutlinedIcon","Close_default","walpaper","noValidate","TextField","FollowingEquality","myFollowing","setMyFollowing","equality","setEquality","user1","setUser1","user2","setUser2","equalityLength","ProfileTheme","updatedProfileState","finalPhoto","setFinalPhoto","finalWallpaper","setFinalWallpaper","isPhotoReady","setIsPhotoReady","isWallpaperReady","setIsWallpaperReady","isUpdating","setIsUpdating","isMe","openImage","setOpenImage","_updatedProfileState$2","doUpdate","_updatedProfileState$","doFetch","components_EditProfile_EditProfile","MoreHoriz_default","InsertLink_default","DateRange_default","components_FollowingEquality_FollowingEquality","ani","useSpring","from","opacity","config","duration","react_spring_esm","div","CheckCircle_default","components_ProfileTheme_ProfileTheme","WidgetsPhoto","photos","setPhotos","components_WidgetsPhoto_WidgetsPhoto","ProfileFollow","setFollowers","ReplyComment","originalPostSender","Comment","statusUsername","originalPost","setOriginalPost","setOriginalPostSender","threadComments","setThreadComments","redirectToThread","threadComment","components_ReplyComment_ReplyComment","threadAlttext","Comments","react_flip_move_es","Comment_Comment","StatusPost","status","Status","setStatus","setStatusUsername","components_StatusPost_StatusPost","components_Comments_Comments","ThreadComment","threadCommentId","originalPostUsername","_useParams","deleteMyThreadComment","deleteThreadComment","ThreadComments","ThreadComment_ThreadComment","CommentPost","threadAltText","deleteMyComment","setOriginalPostUsername","components_CommentPost_CommentPost","components_ThreadComments_ThreadComments","StatusWidget","onClickResult","explore","Explore_exploreUser","VideoFooter","channel","description","song","MusicNote_default","index_es","mode","VideoSidebar","shares","Likes","Message_default","fontSize","Share_default","Video","playing","setPlaying","videoRef","useRef","onPointerLeave","current","pause","play","onLoadStart","onLoadedData","loop","Shorts_VideoFooter","Shorts_VideoSidebar","Shorts","videos","setVideos","Shorts_Video","App","components_Sidebar_Sidebar","react_router","path","components_Feed_Feed","components_Widgets_Widgets","Explore","contexts_ChatContextProvider","components_SidebarChat_SidebarChat","components_Chat_Chat","components_ConversationInfo_ConversationInfo","Profile","render","components_ProfileFollow_ProfileFollow","ProfileWidgets","components_Status_Status","CommentThread","components_StatusWidget_StatusWidget","components_Login_Login","ReactDOM","contexts_StateContextProvider","contexts_IsRoomOpenedContextProvider","src_App_0"],"mappings":"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","file":"static/js/main.dcd77230.chunk.js","sourcesContent":["export const initialState = {\n    user: null\n}\n\nexport const actionTypes = {\n    SET_USER: 'SET_USER'\n}\n\nconst stateReducer = (state, action) => {\n    switch (action.type) {\n        case actionTypes.SET_USER:\n            return {\n                ...state,\n                user: action.user\n            }\n        default:\n            return state\n    }\n}\n\nexport default stateReducer","import React, {createContext, useContext, useReducer} from 'react'\nimport StateReducers, {initialState} from './StateReducers'\n\nexport const StateContext = createContext()\n\nconst StateContextProvider = ({children}) => (\n    <StateContext.Provider value={useReducer(StateReducers, initialState)}>\n       {children}\n    </StateContext.Provider>\n)\n\nexport const useStateValue = () => useContext(StateContext)\n\nexport default StateContextProvider","import React from 'react'\nimport {NavLink} from 'react-router-dom'\nimport './SidebarOption.css'\nimport {useStateValue} from '../../contexts/StateContextProvider'\n\nconst SidebarOptions = ({active, text, Icon, onClick}) => {\n    const [{user}] = useStateValue()\n\n    const isHome = text === 'Home' \n    const isProfile = text === 'Profile'\n    const redirect =  isHome ? '': (isProfile?`${text.toLowerCase()}/${user.username}`:text.toLowerCase())   \n\n    return (\n        <NavLink to={`/${redirect}`} exact={isHome} className='sidebarOption' activeClassName='sidebar__active' onClick={onClick} >\n           <Icon />\n           <h2>{text}</h2>\n        </NavLink>\n    )\n}\n\nexport default SidebarOptions","import firebase from 'firebase'\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBZg9A3fm_ilvkxALplE4UNxj_88Zg_xbE\",\n  authDomain: \"gooraccorp.firebaseapp.com\",\n  databaseURL: \"https://gooraccorp-default-rtdb.firebaseio.com\",\n  projectId: \"gooraccorp\",\n  storageBucket: \"gooraccorp.appspot.com\",\n  messagingSenderId: \"427795909039\",\n  appId: \"1:427795909039:web:e4e26013045f9e5fac075a\",\n  measurementId: \"G-3H5NCWN2EM\"\n};\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig)\n\nconst db = firebaseApp.firestore()\nconst auth = firebase.auth()\nconst provider = new firebase.auth.GoogleAuthProvider()\n\nexport {auth, provider }\n\nexport default db","import React, {useState, useEffect} from 'react'\nimport {useHistory} from 'react-router'\nimport {Avatar} from '@material-ui/core'\nimport Popover from '@material-ui/core/Popover'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport CheckIcon from '@material-ui/icons/Check'\nimport './SidebarAccount.css'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport db from '../../firebase'\n\nconst SidebarAccount = () => {\n    const history = useHistory()\n    const [{user}] = useStateValue()\n    const [profile, setProfile] = useState(user)\n\n    const [anchorEl, setAnchorEl] = useState(null)\n    const onClickExpand= (event) => setAnchorEl(event.currentTarget)\n    const handleClose = () => setAnchorEl(null)\n    const open = Boolean(anchorEl)\n    const id = open ? 'post-popover' : undefined\n\n    const signout = () => {\n        localStorage.clear()\n        // window.location.push('/')\n        history.push('/')\n        window.location.reload()\n    }\n\n    useEffect(() => {\n        db.collection('users').doc(user.id).onSnapshot(res=>{\n            setProfile(res.data())\n        })\n    }, [])\n\n       return (\n        <>\n            <Popover \n                id={id}\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n\n                anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'center',\n                }}\n                transformOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'center',\n                }}\n                style={{\n                    transform:'translate(2rem, -1rem)'\n                }}\n            >\n                <ul className=\"post__expandList\">\n        \n                    <div className=\"user__item nocursor\" >\n                        <Avatar src={profile && profile.photoURL}/>\n                        <div className=\"user__details\">\n                        <h2>{profile &&  profile.displayName}</h2>\n                        <span>{`@${profile && profile.username}`}</span>\n                        </div>\n                        <CheckIcon />\n                    </div>                              \n                \n                    <li onClick={signout} className='logoutBtn'>\n                        <h3>Log out @{profile && profile.username}</h3>\n                    </li>\n                </ul>\n            </Popover>\n\n            <div className='sidebarAccount__wrapper' aria-describedby={id} variant=\"contained\" onClick={onClickExpand }>\n                <div className=\"sidebarAccount__ava\">\n                    <Avatar src={profile && profile.photoURL} />   \n                </div>\n                <div className='sidebarAccount__userData' >\n                <h2>{profile &&  profile.displayName}</h2>\n                <h2>{profile && `@${profile.username}`}</h2>\n                </div>\n                <div className='sidebarAccount__expandIcon'>\n                    <ExpandMoreIcon />\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default SidebarAccount\n","export const initialState = {\n    isRoomOpened: null\n}\n\nexport const actionTypes = {\n    OPENING_ROOM: 'OPENING_ROOM',\n    CLOSING_ROOM: 'CLOSING_ROOM'\n}\n\nconst isRoomOpenededucer = (state, action) => {\n    switch (action.type) {\n        case actionTypes.OPENING_ROOM:\n            return {\n                isRoomOpened: true\n            }\n        \n        case actionTypes.CLOSING_ROOM:\n            return {\n                isRoomOpened: false\n            }\n\n        default:\n            return state\n    }\n}\n\nexport default isRoomOpenededucer","import React, {createContext, useContext, useReducer} from 'react'\nimport IsRoomOpenedReducers, {initialState} from './IsRoomOpenedReducers'\n\nexport const IsRoomOpenedContext = createContext()\n\nconst IsRoomOpenedContextProvider = ({children}) => (\n    <IsRoomOpenedContext.Provider value={useReducer(IsRoomOpenedReducers, initialState)}>\n       {children}\n    </IsRoomOpenedContext.Provider>\n)\n\nexport const useRoomState = () => useContext(IsRoomOpenedContext)\n\nexport default IsRoomOpenedContextProvider\n","import React from 'react'\nimport TwitterIcon from '@material-ui/icons/Twitter'\nimport SidebarOption from '../SidebarOption/SidebarOption'\nimport SidebarAccount from '../SidebarAccount/SidebarAccount'\nimport HomeIcon from '@material-ui/icons/Home'\nimport SearchIcon from '@material-ui/icons/Search'\nimport NotificationsNoneIcon from '@material-ui/icons/NotificationsNone'\nimport MailOutlineIcon from '@material-ui/icons/MailOutline'\nimport {  VideoLibraryRounded } from '@material-ui/icons'\nimport ListAltIcon from '@material-ui/icons/ListAlt'\nimport PermIdentityIcon from '@material-ui/icons/PermIdentity'\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz'\n\nimport {useRoomState} from '../../contexts/IsRoomOpenedContextProvider'\nimport {actionTypes} from '../../contexts/IsRoomOpenedReducers'\nimport './Sidebar.css'\n\nconst Sidebar = () => {\n    const [{isRoomOpened}, dispatch] = useRoomState()\n    const closeAllRooms= () => {\n        dispatch({\n            type: actionTypes.CLOSING_ROOM,  \n        })\n        if(isRoomOpened){}        \n    }\n\n    return (\n        <div className='sidebar'>\n           <TwitterIcon className='sidebar__twitterIcon'/>\n\n           <SidebarOption text='Home' Icon={HomeIcon} />\n           <SidebarOption text='Explore' Icon={SearchIcon} />\n           <SidebarOption text='Shorts' Icon={VideoLibraryRounded} />\n           <SidebarOption text='Messages' Icon={MailOutlineIcon} onClick={closeAllRooms}/>\n           <SidebarOption text='Notifications' Icon={NotificationsNoneIcon} />           \n           <SidebarOption text='List' Icon={ListAltIcon} />           \n           <SidebarOption text='Profile' Icon={PermIdentityIcon} />\n           <SidebarOption text='More' Icon={MoreHorizIcon} />\n\n           <button variant='outlined' className='sidebar__tweet'>\n              <div dir=\"auto\" className=\"css-901oao r-1awozwy r-jwli3a r-6koalj r-18u37iz r-16y2uox r-1qd0xha r-a023e6 r-vw2c0b r-1777fci r-eljoum r-dnmrzs r-bcqeeo r-q4m81j r-qvutc0\"><svg viewBox=\"0 0 24 24\" fill='#ffffff' className=\"r-jwli3a r-4qtqp9 r-yyyyoo r-1q142lx r-50lct3 r-dnmrzs r-bnwqim r-1plcrui r-lrvibr r-1srniue\"><g><path d=\"M8.8 7.2H5.6V3.9c0-.4-.3-.8-.8-.8s-.7.4-.7.8v3.3H.8c-.4 0-.8.3-.8.8s.3.8.8.8h3.3v3.3c0 .4.3.8.8.8s.8-.3.8-.8V8.7H9c.4 0 .8-.3.8-.8s-.5-.7-1-.7zm15-4.9v-.1h-.1c-.1 0-9.2 1.2-14.4 11.7-3.8 7.6-3.6 9.9-3.3 9.9.3.1 3.4-6.5 6.7-9.2 5.2-1.1 6.6-3.6 6.6-3.6s-1.5.2-2.1.2c-.8 0-1.4-.2-1.7-.3 1.3-1.2 2.4-1.5 3.5-1.7.9-.2 1.8-.4 3-1.2 2.2-1.6 1.9-5.5 1.8-5.7z\"></path></g></svg><span className=\"css-901oao css-16my406 css-bfa6kz r-1qd0xha r-ad9z0x r-bcqeeo r-qvutc0\"></span></div>\n              <span>Tweet</span>\n           </button>\n\n           <SidebarAccount />\n           \n        </div>\n    )\n}\n\nexport default Sidebar\n","import React from 'react'\n\nconst StatusInput = ({type, accept, name, id, htmlFor, Icon, onChange, onClick}) => {\n    return (\n        <div onClick={onClick}>\n            <input type={type} accept={accept} name={name} id={id} style={{display:'none'}} onChange={onChange}/>\n            <label htmlFor={id}>\n                <Icon />\n            </label>                                \n        </div>\n    )\n}\n\nexport default StatusInput\n","import './TabbarMenu.css'\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport SwipeableViews from 'react-swipeable-views'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport {AppBar, Tabs, Tab, Typography, Box} from '@material-ui/core'\n\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`full-width-tabpanel-${index}`}\n      aria-labelledby={`full-width-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography component={\"span\"}>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  )\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n}\n\nfunction a11yProps(index) {\n  return {\n    id: `full-width-tab-${index}`,\n    'aria-controls': `full-width-tabpanel-${index}`,\n  }\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.paper\n  },\n}))\n\nexport default function FullWidthTabs({items}) {\n  const classes = useStyles()\n  const theme = useTheme()\n  const [value, setValue] = React.useState(0)\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue)\n  }\n\n  const handleChangeIndex = (index) => {\n    setValue(index)\n  }\n\n  return (\n    <div className={`tabbarMenu ${classes.root}` }>\n      <AppBar position=\"static\" color=\"default\">\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n          aria-label=\"crop and edit image\"\n        >\n          {/* <Tab icon={<CropIcon />} {...a11yProps(0)} />\n          <Tab label=\"ALT\" {...a11yProps(1)} /> */}\n          {\n            items.map(item => {\n              return <Tab key   = {item.id}\n                          icon  = {item.icon}\n                          label = {item.title}\n                          {...a11yProps(item.id)}\n              />\n            })\n          }\n        </Tabs>\n      </AppBar>\n      <SwipeableViews\n        axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\n        index={value}\n        onChangeIndex={handleChangeIndex}\n      >\n        {/* <TabPanel value={value} index={0} dir={theme.direction}>\n          {items.item}\n        </TabPanel>\n        <TabPanel value={value} index={1} dir={theme.direction}>\n          Item Two\n        </TabPanel> */}\n\n        {\n          items.map(item => {\n            return  <TabPanel value={value} index={item.id} dir={theme.direction} key={item.id}>\n                      {item[\"item\"]}\n                    </TabPanel>\n          })\n        }\n      </SwipeableViews>\n    </div>\n  )\n}","export default (file)=>{\n       return new Promise((resolve, reject)=>{\n\n         let imageUri \n         console.log(file)\n         const data = new FormData()\n         data.append(\"file\",file)\n         data.append(\"upload_preset\",\"inscatgram\")\n         data.append(\"cloud_name\",\"smilj4npj4nic\")\n         fetch(\"https://api.cloudinary.com/v1_1/smilj4npj4nic/image/upload\",{\n            method:\"post\",\n            body:data\n         })\n         .then(res=>res.json())\n         .then(data=>{\n            imageUri = data.url\n            console.log(imageUri)\n            return resolve(imageUri)\n         })\n         .catch(err=>{\n            return reject(err)\n         })    \n\n\n\n       })\n    }\n\n\n\n      //  let imageUri \n      //  console.log(file)\n      //  const data = new FormData()\n      //  data.append(\"file\",file)\n      //  data.append(\"upload_preset\",\"inscatgram\")\n      //  data.append(\"cloud_name\",\"smilj4npj4nic\")\n      //  fetch(\"https://api.cloudinary.com/v1_1/smilj4npj4nic/image/upload\",{\n      //      method:\"post\",\n      //      body:data\n      //  })\n      //  .then(res=>res.json())\n      //  .then(data=>{\n      //     imageUri = data.url\n      //     console.log(imageUri)\n      //     return imageUri\n      //  })\n      //  .catch(err=>{\n      //     return\n      //  })    \n","const imageDimensions = file => new Promise((resolve, reject) => {\n    const img = new Image()\n\n    // the following handler will fire after the successful loading of the image\n    img.onload = () => {\n        const { naturalWidth: width, naturalHeight: height } = img\n        resolve({ width, height })\n    }\n\n    // and this handler will fire if there was an error with the image (like if it's not really an image or a corrupted one)\n    img.onerror = () => {\n        reject('There was some problem with the image.')\n    }\n    \n    img.src = URL.createObjectURL(file)\n})\n\nexport const getInfo = async ({ target: { files } }) => {\n    const [file] = files\n \n    try {\n        // const dimensions = await imageDimensions(file)\n        // console.log(dimensions)\n\n        // const dimensions = await imageDimensions(file)\n        // dimensions.then(res=>{\n        //     return res\n        // })\n        return await imageDimensions(file)\n\n    } catch(error) {\n        console.error(error)\n    }\n}\n","export const generateAltText = (displayName, imageUrl) => {\n    const t = new Date()\n\n    return `A photo shared by ${displayName} on ${t.getMonth()+1} ${t.getDate()}, ${t.getFullYear()}`\n}","import React from 'react'\nimport Modal from 'react-responsive-modal'\nimport \"react-responsive-modal/styles.css\"\nimport {Button } from '@material-ui/core'\nimport './Modal.css'\n\nconst CommonModal = ({ open, \n                       onClose,\n                       title,\n                       callback,\n                       children,\n                       Icon,\n                       ButtonText\n}) => {\n\n    const onClickSave = () => {\n        callback()\n        onClose()\n    }\n    return (\n        <Modal open={open} onClose={onClose}>\n            <div className=\"modal__header\">\n                <div className='backIcon'>\n                    <Icon onClick={onClose}/>\n                </div>\n                <h2>{title}</h2>\n                {ButtonText.length>0 && <Button onClick={onClickSave}>{ButtonText}</Button> }           \n            </div>\n            {children}\n        </Modal>\n    )\n}\n\nexport default CommonModal\n","import React from 'react'\n\nconst Spinner = () => {\n    return (\n        <i className=\"fa fa-spinner fa-spin\"></i>\n    )\n}\n\nexport default Spinner\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport Slider from '@material-ui/core/Slider'\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport AddCircleOutlineOutlinedIcon from '@material-ui/icons/AddCircleOutlineOutlined'\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 100,\n  },\n})\n\nexport default function ContinuousSlider({val, setVal}) {\n  const classes = useStyles()\n\n  const handleChange = (event, newValue) => {\n    setVal(newValue)\n  }\n\n  return (\n    <div className={classes.root}>\n      <Grid container spacing={2}>\n        <Grid item>\n          <RemoveCircleOutlineOutlinedIcon />\n        </Grid>\n        <Grid item xs>\n          <Slider value={val} \n          onChange={handleChange} \n          min={1}\n          max={100}\n          aria-labelledby=\"continuous-slider\" />\n        </Grid>\n        <Grid item>\n          <AddCircleOutlineOutlinedIcon />\n        </Grid>\n      </Grid>\n    </div>\n  )\n}","import React ,{ PureComponent } from 'react'\nimport ReactCrop from 'react-image-crop'\nimport 'react-image-crop/dist/ReactCrop.css'\nimport './CropPhoto.css'\n\nimport Slider from '../../elements/Slider/Slider'\nimport Crop169Icon from '@material-ui/icons/Crop169'\nimport Crop32Icon from '@material-ui/icons/Crop32'\nimport CropPortraitIcon from '@material-ui/icons/CropPortrait'\n\n\nclass CreatePost extends PureComponent {\n  state = {\n    src: null,\n    crop: {\n      unit: '%',\n      width: 30,\n      height: 30,\n      aspect:null ,//this.props.initialAspectRatio || 3/4,\n    },\n    originalImageSize : null,\n    croppedImageUrl: null, \n    zoomScale: 1\n  }\n\n  onImageLoaded = image => {\n      this.imageRef = image\n  }\n\n  onCropChange = (crop) => {\n      this.setState({ crop })\n  }\n\n  onCropComplete = async crop => {\n      if (this.imageRef && crop.width && crop.height) {\n          const croppedImageUrl = await this.getCroppedImg(this.imageRef, crop)\n          this.setState({ croppedImageUrl })\n      }\n  }\n\n\n\n  getCroppedImg(image, crop) {\n      const canvas = document.createElement(\"canvas\")\n      const scaleX = image.naturalWidth / image.width\n      const scaleY = image.naturalHeight / image.height\n      canvas.width = crop.width\n      canvas.height = crop.height\n      const ctx = canvas.getContext(\"2d\")\n      \n      ctx.drawImage(\n          image,\n          crop.x * scaleX,\n          crop.y * scaleY,\n          crop.width * scaleX,\n          crop.height * scaleY,\n          0,\n          0,\n          crop.width,\n          crop.height\n      )\n\n      const reader = new FileReader()\n      canvas.toBlob(blob => {\n          reader.readAsDataURL(blob)\n          reader.onloadend = () => {\n              this.dataURLtoFile(reader.result, 'cropped.jpg')\n          }\n      })\n  }\n\n  dataURLtoFile(dataurl, filename) {\n      let arr = dataurl.split(','),\n          mime = arr[0].match(/:(.*?)/)[1],\n          bstr = atob(arr[1]), \n          n = bstr.length, \n          u8arr = new Uint8Array(n)\n              \n      while(n--){\n          u8arr[n] = bstr.charCodeAt(n)\n      }\n      let croppedImage = new File([u8arr], filename, {type:mime})\n      this.setState({croppedImage: croppedImage }) \n  }    \n\n\n\n  onChangeAspectRatio = (num) =>{\n      this.setState({crop: {\n          ...this.state.crop,\n          aspect: num\n      }})\n  }\n\n  onChangeZoomScale = (val) => {\n    this.setState({zoomScale: val})\n  }\n\n\n\n  componentDidMount (){\n      const {image, initialAspectRatio} = this.props\n      this.setState({src: image, originalImageSize: initialAspectRatio})\n  }\n\n\n  componentDidUpdate (prevProps, prevState ){\n      if(prevState.croppedImage !== this.state.croppedImage){\n        this.props.setCroppedImageResult(this.state.croppedImage)\n      }\n\n      if (prevState.zoomScale !== this.state.zoomScale){\n        const  newScale = 1+ (3-1)/(100-1)*(this.state.zoomScale - 1)\n        document.querySelector('.cropImage__wrapper .ReactCrop__image').style.transform = `scale(${newScale})`\n      }\n\n  }\n\n\n  render() {\n    const { crop,  src, originalImageSize} = this.state\n\n    return (\n      <div className=\"cropImage__wrapper\">\n      \n          <div className=\"cropImage__imageSelection\">\n            \n            {src && (\n              <ReactCrop\n                src={src}\n                crop={crop}\n                ruleOfThirds\n                onImageLoaded={this.onImageLoaded}\n                onComplete={this.onCropComplete}\n                onChange={this.onCropChange}\n                style={{\n                  width: '100%',\n                }}\n              />\n            )}\n\n\n        {\n            src && (\n                <div className=\"cropImage__changeAspectRatio-actions\">\n                   <div className=\"cropImage__scaleButton\">\n                      <div onClick={()=>this.onChangeAspectRatio(originalImageSize)}  className={`${crop.aspect ===   originalImageSize &&  'blued'}`}><CropPortraitIcon /></div>\n                      <div onClick={()=>this.onChangeAspectRatio(16/9)} className={`${crop.aspect === 16/9 && 'blued'}`}><Crop169Icon /></div>\n                      <div onClick={()=>this.onChangeAspectRatio(1/1)}  className={`${crop.aspect === 1 &&    'blued'}`}><Crop32Icon /></div>\n                   </div>\n                   <div className=\"cropImage__slider\">\n                      <Slider val={this.state.zoomScale} setVal={this.onChangeZoomScale}/>\n                   </div>\n                </div>\n            )\n        }\n\n\n          </div>\n      </div>\n    )\n  }\n}\n\n\nexport default CreatePost","import React from 'react'\nimport './AddALT.css'\n\nconst AddALT = ({image, altText, setAltText}) => {\n    \n\n    return (\n        <div className='alt__wrapper'>\n            <div className=\"alt__imageContainer\">\n                <img src={URL.createObjectURL(image)} alt='addALt'/>\n            </div>\n            <div className='alt__addDescription'>\n                <h2>Description</h2>\n                <textarea name=\"\" id=\"\" cols=\"30\" rows=\"3\"\n                          value={altText}\n                          onChange={e =>setAltText(e.target.value)}\n                ></textarea>\n            </div>\n        </div>\n    )\n}\n\nexport default AddALT\n","import React, {useState, useEffect} from 'react'\nimport {Avatar, Button } from '@material-ui/core'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport db from '../../firebase'\nimport firebase from 'firebase'\nimport './TweetBox.css'\n\nimport Popover from '@material-ui/core/Popover'\nimport Picker from 'emoji-picker-react'\n\nimport StatusInput from '../StatusInput/StatusInput'\nimport TabbarMenu from '../../elements/TabbarMenu/TabbarMenu'\nimport postToCloudinary from '../../helpers/postToCloudinary'\nimport {getInfo} from '../../helpers/getImageDimension'\nimport {generateAltText} from '../../helpers/generateAltText'\n\nimport Modal from '../../elements/Modal/Modal'\nimport Spinner from '../../elements/Spinner/Spinner'\nimport CropPhoto from '../EditPhoto/CropPhotoB'\nimport AddALT from '../EditPhoto/AddALT'\n\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport SentimentSatisfiedOutlinedIcon from '@material-ui/icons/SentimentSatisfiedOutlined'\nimport ImageOutlinedIcon from '@material-ui/icons/ImageOutlined'\nimport EqualizerOutlinedIcon from '@material-ui/icons/EqualizerOutlined'\nimport EventNoteSharpIcon from '@material-ui/icons/EventNoteSharp'\nimport GifOutlinedIcon from '@material-ui/icons/GifOutlined'\nimport CropIcon from '@material-ui/icons/Crop'\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined'\n\nconst TweetBox = () => {\n    const [{user}] = useStateValue()\n    const {displayName} = user\n    const [profile, setProfile] = useState(null)\n    const [tweetMessage, setTweetMessage] = useState('')\n    const [altText, setAltText] = useState(generateAltText(user.displayName))\n    const [src, setSrc] = useState(null)\n    const [imageToSend, setImageToSend] = useState(null)\n    const [isOpenModal, setIsOpenModal] = useState(false)\n    const [initialImageSize, setinitialImageSize] = useState({width: 0, height: 0})\n    const [initialAspectRatio, setinitialAspectRatio] = useState(null)\n    const [croppedImageResult, setCroppedImageResult ] = useState(null)\n    const [anchorEl, setAnchorEl] = useState(null)\n    const [isLoading, setIsloading] = useState(false)\n\n\n    useEffect(() => {\n       db.collection('users').doc(user.id).onSnapshot(snapshot=>{\n          setProfile(snapshot.data())\n       })\n    }, [])\n\n    const sendTweet = (e) => {\n        e.preventDefault()\n        setIsloading(true)\n\n        if(imageToSend){\n            postToCloudinary(imageToSend)\n            .then( res=>{\n\n                db.collection('posts').add({\n                    altText     : altText,\n                    text        : tweetMessage,\n                    image       : res,\n                    likes       : [],\n                    senderId    : user.id,\n                    timestamp   : firebase.firestore.FieldValue.serverTimestamp()\n                })\n\n                setTweetMessage('')\n                setAltText('')\n                setSrc(null)\n                setIsloading(false)\n\n            })\n            .catch( err=> {\n                setIsloading(false)\n                return\n            })\n\n        } else {\n\n        db.collection('posts').add({\n            altText     : altText,\n            text        : tweetMessage,\n            image       : '',\n            likes       : [],\n            senderId    : user.id,\n            timestamp   : firebase.firestore.FieldValue.serverTimestamp()\n        })\n\n        setTweetMessage('')\n        setAltText('')\n        setSrc(null)\n        setIsloading(false)\n\n        }\n    }\n\n    const onSelectFile = e => {\n        const fileReader = new FileReader()\n        fileReader.onloadend = () => {\n            setSrc(fileReader.result)\n            setImageToSend(fileReader.result)\n        }   \n        fileReader.readAsDataURL(e.target.files[0])\n\n        getInfo(e).then(res=> {\n            setinitialImageSize({width: res.width, height: res.height})\n        })\n    }\n\n    useEffect(() => {\n        setinitialAspectRatio(initialImageSize.width/initialImageSize.height)\n    }, [initialImageSize])\n\n    const changeSrc = () => {\n        setSrc(URL.createObjectURL(croppedImageResult))\n        setImageToSend(croppedImageResult)\n    }\n\n    const callbackforModal = () =>{\n        changeSrc()\n        if (altText.length === 0){\n            setAltText(generateAltText(displayName))\n        }\n    }\n\n    const items = [\n        {\n            id: 0,\n            title:'',\n            icon: <CropIcon />,\n            item: <CropPhoto \n                    image={src} \n                    setCroppedImageResult ={setCroppedImageResult} \n                    initialAspectRatio    = {initialAspectRatio}\n            />\n        },\n        {\n            id: 1,\n            title: 'ALT',\n            icon: '',\n            item: <AddALT image={croppedImageResult} altText={altText} setAltText={setAltText}/>\n        }\n    ]\n\n    const open = Boolean(anchorEl)\n    const id = open ? 'post-popover' : undefined\n    const onClickEmoticon = (event) => setAnchorEl(event.currentTarget)\n    const handleClose = () => setAnchorEl(null)\n\n    const onEmojiClick = (event, emojiObject) => {\n        let newMessage = tweetMessage + emojiObject.emoji\n        setTweetMessage(newMessage)\n    }\n\n    useEffect(() => {\n        var textarea = document.querySelector('textarea')\n        textarea.addEventListener('keydown', autosize)\n                    \n        function autosize(){\n        var el = this\n        setTimeout(function(){\n            el.style.cssText = 'height:auto padding:0'\n            // for box-sizing other than \"content-box\" use:\n            // el.style.cssText = '-moz-box-sizing:content-box'\n            el.style.cssText = 'height:' + el.scrollHeight + 'px'\n        },0)\n        }\n        // text = document.body.innerHTML.replace(/(Socket|Database|Scrapper)(\\s*:)/gi, '<span style=\"color:blue\">$1</span>$2');\n        // console.log( text );\n        // document.body.innerHTML = text;\n    }, [])\n\n\n    return (\n        <>\n\n            <Modal  open={isOpenModal} \n                    onClose={()=>setIsOpenModal(false)}\n                    title=\"Edit Photo\"\n                    callback = {callbackforModal}\n                    Icon = {ArrowBackOutlinedIcon}\n                    ButtonText='Save'\n                    >\n                    <TabbarMenu items={items}/>\n            </Modal>\n\n            <div className='tweetBox'>\n                <form onSubmit={sendTweet}>\n                    <div className='tweetBox__wrapperInput' >\n                        <div className=\"tweetBox__ava\">\n                            <Avatar src={profile && profile.photoURL} />   \n                        </div>\n\n                        <div className='tweetBox__input'>\n\n                            <textarea rows='1' \n                                      placeholder=\"What's happening\"\n                                      type        = 'text' \n                                      value       = {tweetMessage}\n                                      onChange    = {e=> setTweetMessage(e.target.value)}                            \n                            >\n                            </textarea>\n\n                            {\n                                src &&\n                                    <div className='tweetBox__input-image'>\n                                        <CancelIcon className='cancelIcon' onClick={()=>setSrc(null)}/>\n                                        <img src={src} alt=\"new test\"/>               \n                                        <Button className='editImage' onClick={()=>setIsOpenModal(true)}>Edit</Button>\n                                    </div>                        \n                            }\n\n                            <div className='tweetBox__input-actions'>\n                                <div className='tweetBox__input-icons'>\n                                   <StatusInput Icon={ImageOutlinedIcon}\n                                                type=\"file\"\n                                                accept=\"image/*\"\n                                                name=\"image-upload\"\n                                                id=\"input-image\"\n                                                onChange={onSelectFile}\n                                    />\n                                   <StatusInput Icon={GifOutlinedIcon}/>\n                                   <StatusInput Icon={EqualizerOutlinedIcon} />\n                                   <StatusInput Icon={SentimentSatisfiedOutlinedIcon} \n                                                aria-describedby={id} type=\"button\" onClick={onClickEmoticon} \n                                   />\n\n                                    <Popover \n                                        id={id}\n                                        open={open}\n                                        anchorEl={anchorEl}\n                                        onClose={handleClose}\n                                        anchorOrigin={{\n                                            vertical: 'bottom',\n                                            horizontal: 'center',\n                                        }}\n                                        transformOrigin={{\n                                            vertical: 'top',\n                                            horizontal: 'center',\n                                        }}\n\n                                    style={{borderRadius: '2rem'}}\n                                    >\n                                        <Picker onEmojiClick={onEmojiClick} />\n                                    </Popover>\n\n                                   <StatusInput Icon={EventNoteSharpIcon} />\n                                </div>\n                    \n                                {\n                                    isLoading ?\n                                    <Button className='tweetBox__tweetButton'><Spinner /></Button>\n                                    :\n                                    <Button type='submit'className='tweetBox__tweetButton'>Tweet</Button>\n                                }\n\n                            </div>\n                        </div>    \n                    </div>\n                </form>\n            </div>\n        </>\n    )\n}\n\nexport default TweetBox\n","import React from 'react'\nimport './FooterIcon.css'\n\nconst FooterIcon = ({Icon, value, onClick}) => {\n    return (\n        <div className=\"footerIcon_wrapper\" onClick={onClick}>\n            <Icon />\n            <div className=\"footerIcon__counter\">{value?value:''}</div>\n        </div>\n    )\n}\n\nexport default FooterIcon\n","export default {\n\n     timeDiff : function (postedTime) {\n         //for date format: '9/5/2020, 12:58:23'\n        const [date, time] = postedTime.split(', ')\n        const [month, day, year] = date.split('/')\n        const [hour, minute, second] = time.split(':')\n\n        const [year1, month1, day1, hour1, minute1, second1] = [year, month, day, hour, minute, second].map(i=> parseInt(i))\n\n        const today = new Date()\n\n        const year2           = parseInt(today.getFullYear())\n        const month2          = parseInt((today.getMonth()+1))\n        const day2            = parseInt(today.getDate())\n        const hour2           = parseInt(today.getHours())\n        const minute2         = parseInt(today.getMinutes())\n        const second2         = parseInt(today.getSeconds())\n      \n\n        const isLeap = (yy) => (yy%4 === 0 && yy%100!==0) || (yy%400 === 0)\n\n        const secs = (y, mo, d, h, mi, s) => {\n                let sd= 0\n                if (mo<2){\n                    for (let i=1; i<d; i++){\n                    sd+=1\n                    }\n                    return sd*86400+h*3600+mi*60+s\n                }\n\n                let days =0 \n                for (let i=1 ; i<mo ; i++){\n                    if (i===4 || i===6 || i===9 || i===11){\n                    days+=30\n                    } else \n                    if (i === 2){\n                        days+= isLeap(y)? 29: 28\n                    } else days+=31\n                } \n\n                return (days+d-1)*86400 +h*3600+mi*60+s \n\n        }\n\n\n                const dif = (y1,mo1,d1,h1,mi1,s1, y2,mo2,d2,h2,mi2,s2) =>{\n                \n                // const timeGap = 7*3600 // add to secs1\n                const secs1 = secs(y1,mo1,d1,h1,mi1,s1)\n                const secs2 = secs(y2,mo2,d2,h2,mi2,s2)\n\n\n                let gap=0\n\n                if((y2 === y1) || y2 === y1+1 ){\n                    gap = 0\n                    \n                } else \n                for(let i=y1+1; i<y2; i++){\n                    if (isLeap(i)){\n                    gap+=366\n                    }\n                    gap+=365\n                }\n\n                const D = isLeap(y1)?(31622400-secs1):(31536000-secs1)\n\n                return (y2!==y1)?(D + gap*86400 + secs2): secs2-secs1\n\n        }\n\n        const monthList = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n\n\n        const disp = (del, year2, year1, month1, day1) => {\n\n            if ( del <60){\n                return `${del} s`\n            }\n            if (del>59 && del< 3600){\n                return `${Math.trunc(del/60)}m`\n            }\n\n            if (del>3599 && del< 86400 ){\n                return `${Math.trunc(del/3600)}h `\n            }\n\n            if(del>86399 && del<604800){\n                return `${Math.trunc(del/86400)}d`\n            }\n\n            if(del>604799){\n                if (year2 === year1){\n                    return `${day1} ${monthList[month1-1]}`\n                }\n                return `${day1} ${monthList[month1-1]} ${year1}`\n            }\n        }\n\n\n\n        return disp(dif(year1,month1,day1,hour1,minute1,second1,   year2,month2,day2,hour2, minute2 ,second2),year2, year1, month1, day1)\n\n    }  \n\n\n\n}","export const convertTimestampToLocaleString = (timestamp) => {\n    return timestamp && new Date(timestamp.toDate()).toLocaleString([],{hour12:false})\n}","import React, {useState, useEffect} from 'react'\nimport {Avatar, Button} from '@material-ui/core'\nimport {useHistory} from 'react-router'\nimport { Timeline } from '@material-ui/lab'\nimport TimelineItem from '@material-ui/lab/TimelineItem'\nimport TimelineSeparator from '@material-ui/lab/TimelineSeparator'\nimport TimelineConnector from '@material-ui/lab/TimelineConnector'\nimport TimelineContent from '@material-ui/lab/TimelineContent'\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser'\n\nimport Popover from '@material-ui/core/Popover'\nimport Picker from 'emoji-picker-react'\nimport Spinner from '../../elements/Spinner/Spinner'\nimport StatusInput from '../StatusInput/StatusInput'\nimport Modal from '../../elements/Modal/Modal'\nimport TabbarMenu from '../../elements/TabbarMenu/TabbarMenu'\nimport CropPhoto from '../EditPhoto/CropPhotoB'\nimport AddALT from '../EditPhoto/AddALT'\n\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport ImageOutlinedIcon from '@material-ui/icons/ImageOutlined'\nimport SentimentSatisfiedOutlinedIcon from '@material-ui/icons/SentimentSatisfiedOutlined'\nimport EqualizerOutlinedIcon from '@material-ui/icons/EqualizerOutlined'\nimport EventNoteSharpIcon from '@material-ui/icons/EventNoteSharp'\nimport GifOutlinedIcon from '@material-ui/icons/GifOutlined'\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined'\nimport CropIcon from '@material-ui/icons/Crop'\n\nimport db from '../../firebase'\nimport firebase from 'firebase'\nimport util from '../../helpers/timeDifference'\nimport {getInfo} from '../../helpers/getImageDimension'\nimport postToCloudinary from '../../helpers/postToCloudinary'\nimport {generateAltText} from '../../helpers/generateAltText'\nimport {convertTimestampToLocaleString} from '../../helpers/convertTimestampToLocaleString'\n\nimport './Reply.css'\n\nconst Reply = ({props, profile, ownProfile, setIsOpenParentModal}) => {\n    const {displayName, username, photoURL, verified} = profile\n    const {timestamp, text, image, altText, postId} = props\n    const date = convertTimestampToLocaleString(timestamp)\n    const history = useHistory()\n\n    const [anchorEl, setAnchorEl] = useState(null)\n    const [isLoading, setIsloading] = useState(false)\n\n    const open = Boolean(anchorEl)\n    const id = open ? 'post-popover' : undefined\n    const onClickEmoticon = (event) => setAnchorEl(event.currentTarget)\n    const handleClose = () => setAnchorEl(null)\n\n    const [commentMessage, setCommentMessage] = useState('')\n    const onChangeComment = (e) => setCommentMessage(e.target.value)\n\n    const [src, setSrc] = useState(null)\n    const [imageToSend, setImageToSend] = useState(null)\n    const [initialImageSize, setinitialImageSize] = useState({width: 0, height: 0})\n    const [initialAspectRatio, setinitialAspectRatio] = useState(null)\n    const [croppedImageResult, setCroppedImageResult ] = useState(null)\n    const [isOpenModal, setIsOpenModal] = useState(false)\n    const [commentAltText, setCommentAltText] = useState(generateAltText(ownProfile.displayName))\n\n    const onEmojiClick = (event, emojiObject) => {\n        let newComment = commentMessage + emojiObject.emoji\n        setCommentMessage(newComment)\n    }\n\n    const onSelectFile = e => {\n        const fileReader = new FileReader()\n        fileReader.onloadend = () => {\n            setSrc(fileReader.result)\n            setImageToSend(fileReader.result)\n        }   \n        fileReader.readAsDataURL(e.target.files[0])\n        getInfo(e).then(res=> {\n            setinitialImageSize({width: res.width, height: res.height})\n        })\n    }\n\n    useEffect(() => {\n        setinitialAspectRatio(initialImageSize.width/initialImageSize.height)\n    }, [initialImageSize])\n\n    const changeSrc = () => {\n        setSrc(URL.createObjectURL(croppedImageResult))\n        setImageToSend(croppedImageResult)\n    }\n\n    const callbackforModal = () =>{\n        changeSrc()\n        if (commentAltText.length === 0){\n            setCommentAltText(generateAltText(displayName))\n        }\n    }\n\n    const items = [\n        {\n            id: 0,\n            title:'',\n            icon: <CropIcon />,\n            item: <CropPhoto \n                    image={src} \n                    setCroppedImageResult ={setCroppedImageResult} \n                    initialAspectRatio    = {initialAspectRatio}\n            />\n        },\n        {\n            id: 1,\n            title: 'ALT',\n            icon: '',\n            item: <AddALT image={croppedImageResult} altText={commentAltText} setCommentAltText={setCommentAltText}/>\n        }\n    ]\n\n\n    useEffect(() => {\n        var textarea = document.querySelector('textarea')\n        textarea.addEventListener('keydown', autosize)\n                    \n        function autosize(){\n        var el = this\n        setTimeout(function(){\n            el.style.cssText = 'height:auto padding:0'\n            el.style.cssText = 'height:' + el.scrollHeight + 'px'\n        },0)\n        }\n    }, [])\n\n\n    const sendComment = (e) => {\n        e.preventDefault()\n        setIsloading(true)\n\n        if(imageToSend){\n            postToCloudinary(imageToSend)\n            .then( res=>{\n\n                db.collection('posts')\n                .doc(postId)\n                .collection('comments')\n                .add({\n                    commentAltText  : commentAltText,\n                    text            : commentMessage,\n                    image           : res,\n                    likes           : [],\n                    senderId        : ownProfile.id,\n                    timestamp       : firebase.firestore.FieldValue.serverTimestamp()\n                })\n\n                    setCommentMessage('')\n                    setCommentAltText('')\n                    setSrc(null)\n                    setIsloading(false)\n                    setIsOpenParentModal(false) \n                    history.push(`/status/${postId}`)\n            })\n            .catch( error=> {\n                console.log(error)\n                setIsloading(false)\n                return\n            })\n\n        } else {\n\n            db.collection('posts')\n            .doc(postId)\n            .collection('comments')\n            .add({\n                commentAltText  : '',\n                text            : commentMessage,\n                image           : '',\n                likes           : [],\n                senderId        : ownProfile.id,\n                timestamp       : firebase.firestore.FieldValue.serverTimestamp()\n            })\n\n                setCommentMessage('')\n                setCommentAltText('')\n                setSrc(null)\n                setIsloading(false)\n                setIsOpenParentModal(false) \n                history.push(`/status/${postId}`)\n                \n        }\n    }\n\n    return (\n        <>\n            <Modal  open={isOpenModal} \n                    onClose={()=>setIsOpenModal(false)}\n                    title=\"Edit Photo\"\n                    callback = {callbackforModal}\n                    Icon = {ArrowBackOutlinedIcon}\n                    ButtonText='Save'\n                    >\n                    <TabbarMenu items={items}/>\n            </Modal>\n\n            <div className=\"reply\">\n                <Timeline>\n                <TimelineItem>\n                    <TimelineSeparator> \n                        <Avatar src={photoURL} />\n                        <TimelineConnector />\n                    </TimelineSeparator>\n                    <TimelineContent>\n                        <div className=\"post__body upped\">\n                            <div className=\"post__header\">\n                                <div className=\"post__headerText\">\n                                    <h3>{displayName} {' '}\n                                        <span className='post__headerSpecial'> \n                                            {verified && <VerifiedUserIcon className='post__badge'/>} \n                                            {`@${username} . ${timestamp && util.timeDiff(date)}`}\n                                        </span>\n                                    </h3>\n                                </div>\n\n                                <div className=\"post__headerDescription\"> <p> {text} </p></div>\n                            </div>\n                            { image.length>0 && <img src={image} alt={altText}/> }\n                            <span className='replyingTo'>Replying to <p>{`@${username}`}</p></span>\n                        </div>\n                    </TimelineContent>\n                </TimelineItem>\n\n                <TimelineItem>\n                    <TimelineSeparator>\n                    <Avatar src={ownProfile.photoURL} />\n                    </TimelineSeparator>\n                    <TimelineContent>\n                        <form onSubmit={sendComment}>\n                            <div className='tweetBox__input upped'>\n                                <textarea rows='1' \n                                        placeholder = 'Tweet your reply'\n                                        type        = 'text' \n                                        value       = {commentMessage}\n                                        onChange    = {onChangeComment}                            \n                                >\n                                </textarea>\n                            </div> \n\n                            {\n                                src &&\n                                    <div className='tweetBox__input-image'>\n                                        <CancelIcon className='cancelIcon' onClick={()=>setSrc(null)}/>\n                                        <img src={src} alt=\"new test\"/>               \n                                        <Button className='editImage' onClick={()=>setIsOpenModal(true)}>Edit</Button>\n                                    </div>                        \n                            }\n\n                            <div className='tweetBox__input-actions'>\n                                <div className='tweetBox__input-icons'>\n                                    <StatusInput Icon={ImageOutlinedIcon} \n                                        type=\"file\"\n                                        accept=\"image/*\"\n                                        name=\"comment-image-upload\"\n                                        id=\"comment-image-upload\"\n                                        onChange={onSelectFile}\n                                    />\n                                    <StatusInput Icon={GifOutlinedIcon}/>\n                                    <StatusInput Icon={EqualizerOutlinedIcon} />\n                                    <StatusInput Icon={SentimentSatisfiedOutlinedIcon} \n                                                 aria-describedby={id} type=\"button\" onClick={onClickEmoticon} \n                                    />\n\n                                    <Popover \n                                        id={id}\n                                        open={open}\n                                        anchorEl={anchorEl}\n                                        onClose={handleClose}\n                                        anchorOrigin={{\n                                            vertical: 'top',\n                                            horizontal: 'center',\n                                        }}\n                                        transformOrigin={{\n                                            vertical: 'bottom',\n                                            horizontal: 'center',\n                                        }}\n                                        style={{borderRadius: '2rem'}}\n                                    >\n                                        <Picker onEmojiClick={onEmojiClick} />\n                                    </Popover>\n\n                                    <StatusInput Icon={EventNoteSharpIcon} />\n                                </div>\n                        \n                                    {\n                                        isLoading ? <Button className='tweetBox__tweetButton'><Spinner /></Button>\n                                        :\n                                        <Button type='submit'className='tweetBox__tweetButton'>Reply</Button>\n                                    }\n\n                                </div>\n                        </form>\n                    </TimelineContent>\n                </TimelineItem>\n                </Timeline>\n            </div>\n        </>\n    )\n}\n\nexport default Reply\n","import React, {useEffect, useState} from 'react'\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder'\nimport FavoriteIcon from '@material-ui/icons/Favorite'\n\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport './FooterIcon.css'\n\nconst Like = ({likes, likeAction, unlikeAction}) => {\n    const [{user}] = useStateValue()\n    const [isLiked, setisLiked] = useState(false)\n\n    useEffect(() => {\n        if(user.id && likes){\n            if(likes.includes(user.id)){\n                setisLiked(true)\n            } else {\n                setisLiked(false)\n            }\n        }\n    }, [likes])\n\n    return (\n        <div className=\"footerIcon_wrapper\">\n            { isLiked?\n                <span className='liked' onClick={unlikeAction}><FavoriteIcon/></span>\n            :\n                <FavoriteBorderIcon onClick={likeAction} />\n            }\n            <div className=\"footerIcon__counter\">{(likes && likes.length>0 )&& likes.length}</div>\n        </div>\n    )\n}\n\nexport default Like","import firebase from 'firebase'\nimport db from '../firebase'\n\nexport const follow = (userId, followId) => {\n    const userRef = db.collection('users').doc(userId)\n    const followRef = db.collection('users').doc(followId)\n\n    userRef.update({\n        following: firebase.firestore.FieldValue.arrayUnion(followId)\n    })\n\n    followRef.update({\n        followers: firebase.firestore.FieldValue.arrayUnion(userId)\n    })\n}\n\nexport const unfollow = (userId, followId) => {\n    const userRef = db.collection('users').doc(userId)\n    const followRef = db.collection('users').doc(followId)\n\n    userRef.update({\n        following: firebase.firestore.FieldValue.arrayRemove(followId)\n    })\n\n    followRef.update({\n        followers: firebase.firestore.FieldValue.arrayRemove(userId)\n    })  \n}\n\nexport const deletePost = (postId) => {\n    const postRef = db.collection('posts').doc(postId)\n    postRef.delete()\n}\n\nexport const like = (postId, userId) => {\n    const postRef = db.collection('posts').doc(postId)\n    postRef.update({\n        likes: firebase.firestore.FieldValue.arrayUnion(userId)\n    })\n}\n\nexport const unlike = (postId, userId) => {\n    const postRef = db.collection('posts').doc(postId)\n    postRef.update({\n        likes: firebase.firestore.FieldValue.arrayRemove(userId)\n    })\n}\n\nexport const deleteComment = (postId, commentId) => {\n    const commentRef = db.collection('posts').doc(postId).collection('comments').doc(commentId)\n    commentRef.delete()\n}\n\nexport const likeComment = (postId, commentId, userId) => {\n    const commentRef = db.collection('posts').doc(postId).collection('comments').doc(commentId)\n    commentRef.update({\n        likes: firebase.firestore.FieldValue.arrayUnion(userId)\n    })\n}\n\nexport const unlikeComment = (postId, commentId, userId) => {\n    const commentRef = db.collection('posts').doc(postId).collection('comments').doc(commentId)\n    commentRef.update({\n        likes: firebase.firestore.FieldValue.arrayRemove(userId)\n    })\n}\n\nexport const deleteThreadComment = (postId, commentId, threadCommentId) => {\n    const threadCommentRef = db.collection('posts').doc(postId).collection('comments').doc(commentId).collection('threadComments').doc(threadCommentId)\n    threadCommentRef.delete()    \n}\n//Reels\n\nexport const likeReels = (reelsId, userId) => {\n    const reelsRef = db.collection('reels').doc(reelsId)\n    reelsRef.update({\n        likes: firebase.firestore.FieldValue.arrayUnion(userId)\n    })\n}\n\nexport const unlikeReels = (reelsId, userId) => {\n    const reelsRef = db.collection('reels').doc(reelsId)\n    reelsRef.update({\n        likes: firebase.firestore.FieldValue.arrayRemove(userId)\n    })\n}","import React, {useState, forwardRef, useEffect} from 'react'\nimport {Avatar} from '@material-ui/core'\nimport {useHistory} from 'react-router'\n\nimport FooterIcon from './FooterIcon'\nimport Reply from '../Reply/Reply'\nimport Like from './Like'\nimport Popover from '@material-ui/core/Popover'\nimport Modal from '../../elements/Modal/Modal'\nimport util from '../../helpers/timeDifference'\nimport {convertTimestampToLocaleString} from '../../helpers/convertTimestampToLocaleString'\n\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser'\nimport ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline'\nimport RepeatIcon from '@material-ui/icons/Repeat'\nimport PublishIcon from '@material-ui/icons/Publish'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline'\nimport BarChartIcon from '@material-ui/icons/BarChart'\nimport CodeIcon from '@material-ui/icons/Code'\nimport PlaceIcon from '@material-ui/icons/Place'\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied'\nimport BlockIcon from '@material-ui/icons/Block'\nimport PostAddIcon from '@material-ui/icons/PostAdd'\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled'\nimport PersonAddIcon from '@material-ui/icons/PersonAdd'\nimport CloseIcon from '@material-ui/icons/Close'\n\nimport './Post.css'\nimport db from '../../firebase'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport {like, unlike, follow, unfollow, deletePost} from '../../server/serverActions'\n\nconst Post = forwardRef(({\n   altText,\n   text,\n   image,\n   timestamp,\n   senderId,\n   postId,\n   likes\n   }, ref) => {\n\n   const history = useHistory()\n   const date = convertTimestampToLocaleString(timestamp)\n\n   const [anchorEl, setAnchorEl] = useState(null)\n   const onClickExpand= (event) => setAnchorEl(event.currentTarget)\n   const handleClose = () => setAnchorEl(null)\n   const open = Boolean(anchorEl)\n   const id = open ? 'post-popover' : undefined\n   const [isOpenModal, setIsOpenModal] = useState(false)\n\n   const [{user}] = useStateValue()\n   const [profile, setProfile] = useState({id:'',displayName:'', photoURL: '', verified: false, username: '', followers:[], following:[]})\n   const [ownProfile, setOwnProfile] = useState(null)\n   const {displayName, username, photoURL, verified} = profile\n\n   const [comments, setComments] = useState([])\n\n   const [isFollowing, setIsFollowing] = useState(false)\n\n   const redirectToStatus = postId => history.push(`/status/${postId}`)\n\n   useEffect(() => {\n      db.collection('users').doc(user.id).onSnapshot(snapshot=>{\n         setOwnProfile({id:user.id, ...snapshot.data()})\n      })\n      \n      db.collection('users').doc(senderId).onSnapshot(snapshot=>{\n         setProfile(snapshot.data())\n      })\n\n      db.collection('posts').doc(postId).collection('comments')\n         .onSnapshot(snapshot=>{\n         setComments(snapshot.docs.map(comment=>({id:comment.id, ...comment.data()})))\n      })\n\n   }, [])\n\n   useEffect(() => {\n      if(profile){\n         setIsFollowing(profile.followers.includes(user.id))\n      }\n   }, [profile])\n\n   const callbackForModal = () => {}\n   const setIsOpenParentModal = state => setIsOpenModal(state)\n\n   return (\n      <>\n         <Modal  \n            open={isOpenModal} \n            onClose={()=>setIsOpenModal(false)}\n            title=\"\"\n            callback = {callbackForModal}\n            Icon = {CloseIcon}\n            ButtonText=''\n         >\n            <Reply props={{\n                  altText,\n                  text,\n                  image,\n                  timestamp,\n                  senderId,\n                  postId,\n                  likes\n               }}\n               profile={profile}\n               ownProfile ={ownProfile}\n               setIsOpenParentModal={setIsOpenParentModal}\n            />\n         </Modal>\n\n         <div className='post' ref={ref}>\n            <div className=\"post__avatar\">\n               <Avatar src={photoURL} />\n            </div>\n            <div className=\"post__body\">\n               <div className=\"post__header\">\n                  <div className=\"post__headerText\">\n                     <h3>{displayName} {' '}\n                        <span className='post__headerSpecial'> \n                              {verified && <VerifiedUserIcon className='post__badge'/>} \n                              @{`${username} . ${timestamp && util.timeDiff(date)}`}\n                        </span>\n                     </h3>\n                     <div className=\"post__headerExpandIcon\" aria-describedby={id} variant=\"contained\" onClick={onClickExpand } >\n                        <ExpandMoreIcon />\n                     </div>\n\n                     <Popover \n                        id={id}\n                              open={open}\n                              anchorEl={anchorEl}\n                              onClose={handleClose}\n\n                        anchorOrigin={{\n                           vertical: 'top',\n                           horizontal: 'right',\n                        }}\n                        transformOrigin={{\n                           vertical: 'top',\n                           horizontal: 'right',\n                        }}\n                     >\n                        <ul className=\"post__expandList\">\n                        {\n                           senderId === user.id?\n                           <>\n                              <li onClick={()=>deletePost(postId)}>\n                                 <div className='delete'><DeleteOutlineIcon /></div><h3 className=\"delete\">Delete</h3>\n                              </li>\n                              <li>\n                                 <div><PlaceIcon /></div><h3>Pin to your profile</h3>\n                              </li>\n                              <li>\n                                 <div><CodeIcon /></div><h3>Embed Tweet</h3>\n                              </li>\n                              <li>\n                                 <div><BarChartIcon /></div><h3>View Tweet activity</h3>\n                              </li>\n                           </>\n                           :\n                           <>\n                              <li>\n                                 <div><SentimentVeryDissatisfiedIcon /></div><h3>Not interested in this tweet</h3>\n                              </li>\n                              {\n                                 isFollowing?\n                                    <li onClick={()=>unfollow(user.id, senderId)}>\n                                       <div><PersonAddDisabledIcon /></div><h3>Unfollow {`@${username}`}</h3>\n                                    </li>\n                                 :  <li onClick={()=>follow(user.id, senderId)}>\n                                       <div><PersonAddIcon /></div><h3>Follow {`@${username}`}</h3>\n                                    </li>\n                              }\n                              <li>\n                                 <div><PostAddIcon /></div><h3>Add/remove from Lists</h3>\n                              </li>\n                              <li>\n                                 <div><BlockIcon /></div><h3>Block {`@${username}`}</h3>\n                              </li>\n                              <li>\n                                 <div><CodeIcon /></div><h3>Embed Tweet</h3>\n                              </li>\n                           </>\n                        }\n                        </ul>\n                     </Popover>\n                  </div>\n\n                  <div className=\"post__headerDescription\" onClick={()=>redirectToStatus(postId)}>\n                     <p> {text} </p>\n                  </div>\n               </div>\n\n               { image.length>0 && <img src={image} alt={altText} onClick={()=>redirectToStatus(postId)} />}\n\n               <div className=\"post__footer\">\n                  <FooterIcon Icon={ChatBubbleOutlineIcon} value={comments.length} onClick={()=>setIsOpenModal(true)}/>\n                  <FooterIcon Icon={RepeatIcon} value={0}/>\n                  <Like \n                        likes={likes}\n                        unlikeAction = {()=>unlike(postId, user.id)}\n                        likeAction = {()=>like(postId, user.id)}\n                  />\n                  <FooterIcon Icon={PublishIcon} value={0}/>\n               </div>\n            </div>\n\n         </div>\n      </>\n   )\n  }\n)\n\nexport default Post\n","import React  from 'react'\n//import FlipMove from 'react-flip-move'\nimport Post from '../Post/Post'\n\nconst Posts = ({posts}) => {\n\n    return (\n        <>\n       \n        {\n            posts.map(post => (\n                <Post key={post.id}\n                        postId = {post.id}\n                        altText = {post.altText}\n                        senderId = {post.senderId}\n                        username = {post.username}\n                        text = {post.text}\n                        avatar = {post.avatar}\n                        image = {post.image}\n                        timestamp = {post.timestamp}\n                        likes = {post.likes}\n            />\n            ))\n        }           \n       \n        </>\n    )\n}\n\nexport default Posts\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    '& > * + *': {\n      marginLeft: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function CircularIndeterminate() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <CircularProgress />\n    </div>\n  );\n}","import React from 'react'\nimport {NavLink} from 'react-router-dom'\nimport HomeIcon from '@material-ui/icons/Home'\nimport PanoramaFishEyeIcon from '@material-ui/icons/PanoramaFishEye'\nimport NotificationsNoneIcon from '@material-ui/icons/NotificationsNone'\nimport MailOutlineIcon from '@material-ui/icons/MailOutline'\nimport { VideoLibraryOutlined } from '@material-ui/icons'\n\nimport './BottomNav.css'\n\nconst BottomNav = () => {\n  return (\n    <div className=\"bottomNav\">\n       <nav>\n          <NavLink exact to='/' activeClassName='bottomNav__active'><HomeIcon /></NavLink>\n          <NavLink to='/explore' activeClassName='bottomNav__active'><PanoramaFishEyeIcon /></NavLink>\n          <NavLink to='/shorts' activeClassName=\"bottomNav_active\"><VideoLibraryOutlined /></NavLink>\n          <NavLink to='/notifications' activeClassName='bottomNav__active'><NotificationsNoneIcon /></NavLink>\n          <NavLink to='/messages' activeClassName='bottomNav__active'><MailOutlineIcon /></NavLink>\n       </nav>\n    </div>\n  )\n}\n\nexport default BottomNav\n","import React, {useState, useEffect} from 'react'\nimport TweetBox from '../TweetBox/TweetBox'\nimport Posts from '../Posts/Posts'\nimport db from '../../firebase'\nimport {Avatar} from '@material-ui/core'\nimport Loader from '../../elements/Loader/Loader'\nimport './Feed.css'\nimport {NavLink} from 'react-router-dom'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport BottomNav from '../../elements/BottomNav/BottomNav'\n\n\nconst Feed = () => {\n    const [{user}] = useStateValue()\n    const [posts, setPosts] = useState([])\n    const [loading, setLoading] = useState(false)\n    const [profile, setProfile] = useState(null)\n    const [following, setFollowing] = useState([])\n\n    useEffect(() => {\n      let mounted = true\n      db.collection('users').doc(user.id).onSnapshot(snapshot=>{\n         if (mounted) {\n            setProfile(snapshot.data())\n            setFollowing(snapshot.data() && snapshot.data().following)\n         }\n      })\n      return () => mounted = false\n    }, [])\n\n    useEffect(() => {\n         let mounted = true\n         setLoading(true)\n         if(following){\n            db.collection('posts')\n            .where('senderId', 'in', [user.id,...following])\n            .orderBy('timestamp', 'desc')\n            .onSnapshot(snapshot=>{\n               if(mounted){\n                  if(snapshot.empty){\n                     setLoading(false)\n                     return\n                  }\n                     setPosts(snapshot.docs.map(doc=> ({id:doc.id, ...doc.data()})))\n                     setLoading(false)\n               }\n            }, error=>{\n               console.log(error)\n            })\n         } else {\n         db.collection('posts')\n         .where('senderId', 'in', [user.id])\n         .orderBy('timestamp', 'desc')\n         .onSnapshot(snapshot=>{\n            if(mounted){\n               if(snapshot.empty){\n                  setLoading(false)\n                  return\n               }\n                  setPosts(snapshot.docs.map(doc=> ({id:doc.id, ...doc.data()})))\n                  setLoading(false)\n            }\n         }, error=>{\n            console.log(error)\n         }) \n      }\n\n      return () => mounted = false\n\n    }, [following])\n\n    return (\n        <div className='feed'>\n           <div className=\"feed__header\">\n              <div className=\"feed__header-ava\">\n              <NavLink to={\"../Profile/\" + user.username}> <Avatar src={profile && profile.photoURL}/> </NavLink>\n              </div>\n              <h2>Home</h2>          \n           </div>\n           \n           <TweetBox />\n\n           { loading && <div className=\"feed__loader\"><Loader/></div> }\n\n            <Posts posts={posts} />\n            <BottomNav />\n        </div>\n    )\n    \n}\n\nexport default Feed\n","import React, {useState} from 'react'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport Popover from '@material-ui/core/Popover'\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied'\n\nimport './WidgetsTrends.css'\n\nconst WidgetTrends = () => {\n   const [anchorEl, setAnchorEl] = useState(null)\n   const onClickExpand= (event) => setAnchorEl(event.currentTarget)\n   const handleClose = () => setAnchorEl(null)\n   const open = Boolean(anchorEl)\n   const id = open ? 'post-popover' : undefined\n\n    return (\n\n           <div className=\"widgets__widgetContainer\">\n              <h2>What's happening</h2>\n\n              <ul className='widgets__trendsContainer'>\n                 <li>\n                    <div className='popular'>\n                       <span>Popular in Indonesia</span>         \n                       <ExpandMoreIcon aria-describedby={id} variant=\"contained\" onClick={onClickExpand } />\n                        <Popover \n                           id={id}\n                                 open={open}\n                                 anchorEl={anchorEl}\n                                 onClose={handleClose}\n\n                           anchorOrigin={{\n                              vertical: 'top',\n                              horizontal: 'right',\n                           }}\n                           transformOrigin={{\n                              vertical: 'top',\n                              horizontal: 'right',\n                           }}\n                        >\n                           <ul className=\"post__expandList\">\n                              <li>\n                                 <div ><SentimentVeryDissatisfiedIcon /></div><h3 >This trend is spam</h3>\n                              </li>\n                              <li>\n                                 <div><SentimentVeryDissatisfiedIcon /></div><h3>This trend is abusive or harmfull</h3>\n                              </li>\n                              <li>\n                                 <div><SentimentVeryDissatisfiedIcon /></div><h3>This trend is a duplicate</h3>\n                              </li>\n                              <li>\n                                 <div><SentimentVeryDissatisfiedIcon /></div><h3>This trend is low quality</h3>\n                              </li>\n                           </ul>\n                        </Popover>\n\n                    </div>\n                    <div className='hashtag'>Toklenpedia</div>\n                    <div className='tweetNumber'>5012 Tweets</div>\n                 </li>\n                 <li>\n                    <div className='popular'>\n                       <span>Popular in Indonesia</span>         \n                       <ExpandMoreIcon />\n                    </div>\n                    <div className='hashtag'>Bukanbapak Sale</div>\n                    <div className='tweetNumber'>4099 Tweets</div>\n                 </li>\n                 <li>\n                    <div className='popular'>\n                       <span>Popular in Indonesia</span>         \n                       <ExpandMoreIcon />\n                    </div>\n                    <div className='hashtag'>FIFAWorldCupU20</div>\n                    <div className='tweetNumber'>4022 Tweets</div>\n                 </li>\n                 <li>\n                    <div className='popular'>\n                       <span>Popular in Indonesia</span>         \n                       <ExpandMoreIcon />\n                    </div>\n                    <div className='hashtag'>MotoGPMandalika</div>\n                    <div className='tweetNumber'>3088 Tweets</div>\n                 </li>\n              </ul>\n\n\n           </div>\n\n\n    )\n}\n\nexport default WidgetTrends\n","import React from 'react'\nimport {Link} from 'react-router-dom'\nimport {Avatar, Button } from '@material-ui/core'\nimport './UserItemFollow.css'\n\nconst UserItemFollow = ({display}) => {\n    return (\n        <Link to={display ? `/profile/${display.username}` : `/notfound`}>\n            <div className=\"userItemFollow--user__item\">\n                <Avatar src={display && display.photoURL}/>\n                <div className=\"userItemFollow--user__details\">\n                    <h2>{display ? display.displayName: 'Empty Room'}</h2>\n                    <span>{display && `@${display.username}`}</span>\n                </div>\n                <Button>Follow</Button>\n            </div>        \n        </Link>\n    )\n}\n\nexport default UserItemFollow\n","import React, {useEffect, useState} from 'react'\nimport UserItemFollow from '../UserItem/UserItemFollow'\nimport './WidgetsFollow.css'\n\nimport db from '../../firebase'\nimport {useStateValue} from '../../contexts/StateContextProvider'\n\nconst WidgetFollow = () => {\n   const [{user}] = useStateValue()\n   const [users, setUsers] = useState([])\n\n   useEffect(() => {\n      let mounted = true\n      db.collection('users').limit(6).onSnapshot(snapshot=>{\n         if(mounted){\n            setUsers(snapshot.docs.map(user=>({\n               id:user.id,\n               ...user.data()\n            })))\n         }\n      })\n\n      return () => mounted = false\n   }, [])\n\n    return (\n           <div className=\"widgets__widgetContainer\">\n              <h2>Who to follow</h2>\n\n              <ul className='widgets__trendsContainer'>\n\n              {\n                 users && users.filter(u=> u.id!==user.id).map(user=> {\n                    return <li key={user.id}><UserItemFollow display={user}/></li>\n                 })\n              }\n              </ul>\n\n\n           </div>\n\n    )\n}\n\nexport default WidgetFollow\n","import React, {useState} from 'react'\nimport './SearchWidget.css'\nimport SearchIcon from '@material-ui/icons/Search'\nimport CancelIcon from '@material-ui/icons/Cancel'\n\nconst SearchWidget = ({value, onChange, onClick, placeholder}) => {\n    const [focus, setFocus] = useState(false)\n    const [isInputPressed, setIsInputPressed] = useState(false)\n\n    const onInputPressed = () => {\n        setFocus(true)\n        setIsInputPressed(true)\n    }\n\n    return (\n     <div className=\"searchWidget__wrapper\">\n        <div className={`searchWidget ${isInputPressed ?'beingPressed':''}`}>\n            <SearchIcon className='searchWidget__searchIcon' />\n            <input type=\"text\" \n                    placeholder={placeholder}\n                    onFocus = {onInputPressed}\n                    onBlur = {()=> setIsInputPressed(false)}\n                    value = {value}\n                    onChange = {onChange}            \n            />\n            { (focus && value.length>0) && <CancelIcon onClick={onClick} /> }\n        </div>\n     </div>\n    )\n}\n\nexport default SearchWidget\n","import React, {useState} from 'react'\nimport WidgetsTrends from '../WidgetsTrends/WidgetsTrends'\nimport WidgetsFollow from '../WidgetsFollow/WidgetsFollow'\nimport SearchWidget from '../../elements/SearchWidget/SearchWidget'\n\nimport './Widgets.css'\n\nconst Widgets = () => {\n   const [text, setText] = useState('')\n    return (\n        <div className='widgets'>\n\n           <SearchWidget \n               value={text} \n               onChange = {(e)=>setText(e.target.value)}\n               onClick={()=>setText('')}           \n               placeholder='Search Twittie' \n            />\n\n            <WidgetsTrends />\n            \n            <WidgetsFollow />\n\n        </div>\n    )\n}\n\nexport default Widgets\n","import React, {useState} from 'react'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport SearchOutlinedIcon from '@material-ui/icons/SearchOutlined'\nimport './Search.css'\n\nconst Search = ({value, onChange, onClick}) => {\n    const [focus, setFocus] = useState(false)\n    const [isInputPressed, setIsInputPressed] = useState(false)\n\n    const onInputPressed = () => {\n        setFocus(true)\n        setIsInputPressed(true)\n    }\n\n    return (\n        <div className=\"commonSearch__search\">\n            <div className={`commonSearch__searchContainer ${isInputPressed && 'pressed'}`}>\n                <SearchOutlinedIcon />\n                <input type=\"text\" \n                    className={`commonSearch__input ${isInputPressed && 'inputPressed'}`}\n                    placeholder='Search for people and group'\n                    onFocus = {onInputPressed}\n                    onBlur = {()=> setIsInputPressed(false)}\n                    value = {value}\n                    onChange = {onChange}\n                />\n\n                { (focus && value.length>0) && <CancelIcon onClick={onClick} /> }\n            \n            </div>\n        </div>\n    )\n}\n\nexport default Search\n","import React from 'react'\nimport Avatar from '@material-ui/core/Avatar'\nimport CheckIcon from '@material-ui/icons/Check'\nimport './UserItem.css'\n\nconst UserItem = ({name, username, photourl, clicked, onClick}) => {\n    return (\n        <div className=\"user__item\" onClick={!clicked ?onClick:undefined}>\n            <Avatar src={photourl}/>\n            <div className=\"user__details\">\n               <h2>{name}</h2>\n               <span>@{username}</span>\n            </div>\n            {\n                clicked && <CheckIcon />\n            }\n        </div>\n    )\n}\n\nexport default UserItem\n","import React, {useEffect, useState} from 'react'\nimport Avatar from '@material-ui/core/Avatar'\nimport CheckIcon from '@material-ui/icons/Check'\nimport db from '../../firebase'\nimport './UserItem.css'\nimport {useStateValue} from '../../contexts/StateContextProvider'\n\nconst UserExist = ({roomId, members, clicked}) => {\n    const [{user}] = useStateValue()\n    const [opp, setOpp] = useState('')\n    const [userInfo, setUserInfo] = useState(null)\n\n    useEffect(() => {\n        setOpp(members.filter(member=>member!==user.id).toString())\n    }, [])\n\n    useEffect(() => {\n        if(opp.length>0){\n            db.collection('users').doc(opp).onSnapshot(snapshot=>{                \n                setUserInfo(snapshot.data())\n            })\n        }             \n    }, [opp])\n\n    return (\n        <div className=\"user__item nocursor\" >\n            <Avatar src={userInfo && userInfo.photoURL}/>\n            <div className=\"user__details\">\n               <h2>{userInfo && userInfo.displayName}</h2>\n               <span>{userInfo && `@${userInfo.username}`}</span>\n            </div>\n            <CheckIcon />\n        </div>\n\n    )\n}\n\nexport default UserExist\n","export const Action = {\n    ADD_ROOM: 'add_room',\n    REMOVE_ROOM: 'remove_room',\n    EMPTY_ROOM: 'empty_room',\n}\n\nexport const chatReducer = (state, action) => {\n    switch (action.type) {\n        case Action.ADD_ROOM: {\n            return [...state, action.room]\n        }\n\n        case Action.REMOVE_ROOM: {\n            return state.filter(user => user.id !== action.id)\n        }\n\n        case Action.EMPTY_ROOM:{\n            return []\n        }\n\n        default:\n            return state\n    }\n} ","import React, {createContext, useReducer } from 'react'\nimport {chatReducer} from './ChatReducers'\n\nexport const ChatContext = createContext()\n\nconst ChatContextProvider = ({children}) => {\n    const [rooms, dispatch] = useReducer(chatReducer, [])\n\n    return (\n        <ChatContext.Provider value={{rooms, dispatch}} >\n            {children}\n        </ChatContext.Provider>\n    )\n}\n\nexport default ChatContextProvider\n","import React, {useState, useEffect, useContext} from 'react'\nimport SearchIcon from '@material-ui/icons/Search'\nimport Chip from '@material-ui/core/Chip'\nimport Avatar from '@material-ui/core/Avatar'\nimport LinearProgress from '@material-ui/core/LinearProgress'\nimport UserItem from '../UserItem/UserItem'\nimport UserExist from '../UserItem/UserExist'\nimport './SearchUser.css'\n\nimport db from '../../firebase'\n\nimport {Action} from '../../contexts/ChatReducers' \nimport {ChatContext} from '../../contexts/ChatContextProvider'\nimport {useStateValue} from '../../contexts/StateContextProvider'\n\nconst SearchUser = () => {\n    const [search, setSearch] = useState('')\n    const [existingRooms, setExistingRooms] = useState([])\n    const [results, setResults] = useState([])\n    const [loading, setLoading] = useState(false)\n    const [{user}] = useStateValue()\n    const {rooms, dispatch} = useContext(ChatContext)\n\n    let memberList = []\n    let uniqueMemberList = []\n\n    // const [uniqueMemberLists, setUniqueMemberLists] = useState(uniqueMemberList)\n\n    const onClickResult = (user) => {\n        dispatch({\n            type: Action.ADD_ROOM,\n            room: user\n        })\n    }\n\n    const onChipDelete = (user) => deleteChip(user)\n\n    const deleteChip = (user) => {\n        dispatch({\n            type: Action.REMOVE_ROOM,\n            id : user.id\n        })\n    }\n\n    useEffect(() => {\n        const unsubscribe = db.collection('rooms').where('members', 'array-contains', user.id).onSnapshot(snapshot => \n           setExistingRooms(snapshot.docs.map((doc)=>{\n               return {\n                   id:doc.id,\n                   ...doc.data()\n                }\n            }))\n        )\n\n        return () => {\n            unsubscribe()\n        }\n    }, [])\n\n    existingRooms.map(room=>room.members.forEach(member=> memberList.push(member)))\n    memberList.map(member=>{\n        return uniqueMemberList.indexOf(member)===-1 && uniqueMemberList.push(member)\n    })\n\n    const isClicked = (user) => rooms.some(item => item.id === user.id)\n    \n\n\n    const unsubscribe = ()=>{\n        setLoading(true)\n        const input = search.toLowerCase()\n        const res = db.collection('users').where('username', '==', input).get().then(result => {\n            if (result.empty){\n                setResults([])\n                console.log('No results')\n                setLoading(false)\n                }\n            else {setResults(result.docs.map(doc => ({\n                    id: doc.id,\n                    ...doc.data()\n                }))\n                // .filter(result=> !existingRooms.members.includes(result.id))\n                )\n                setLoading(false)\n            }\n        })\n        return res\n    }\n\n\n\n\n    useEffect(() => {\n        const unsubscribe = ()=>{\n            setLoading(true)\n            const input = search.toLowerCase()\n            const res = db.collection('users').where('username', '==', input).get().then(result => {\n                if (result.empty){\n                    setResults([])\n                    console.log('No results')\n                    setLoading(false)\n                    }\n                else {setResults(result.docs.map(doc => ({\n                        id: doc.id,\n                        ...doc.data()\n                    }))\n                    // .filter(result=> !existingRooms.members.includes(result.id))\n                    )\n                    setLoading(false)\n                }\n            })\n            return res\n        }\n    \n        return ()=> unsubscribe()\n    }, [search])\n\n    // useEffect(() => {\n    //     existingRooms.map(room=>room.members.forEach(member=> memberList.push(member)))\n    //     memberList.map(member=>{\n    //         return uniqueMemberList.indexOf(member)===-1 && uniqueMemberList.push(member)\n    //     })\n    //     setUniqueMemberLists(uniqueMemberList)\n    // }, [])\n\n    console.log(memberList)\n    console.log(uniqueMemberList)\n\n    return (\n        <div className=\"searchUser\">\n           <div className='searchUser__header'>\n              <div className=\"searchUser__header-search\">\n                <SearchIcon /> \n                <input type=\"text\" placeholder='Search People'\n                   value={search}\n                   onChange={e => setSearch(e.target.value.toLowerCase())}\n                   onKeyUp={unsubscribe}\n                   onKeyPress={unsubscribe}\n                   onKeyDown={unsubscribe}\n                />              \n              </div>\n\n              {\n                  rooms.length>0 && <div className=\"chips\">\n                    {\n                        rooms.map(resUser => {\n                            return  <Chip key={resUser.id}\n                                            avatar={<Avatar src={resUser.photoURL}/>}\n                                            label={resUser.displayName}\n                                            onClick={()=>onChipDelete(resUser)}\n                                            onDelete={()=>onChipDelete(resUser)}\n                                        />\n                        })\n                    }\n                    </div>\n              }\n\n           </div>\n\n           { loading &&  <LinearProgress /> }\n           \n           <div className=\"users__result\">\n           {\n               results.filter(res=>!uniqueMemberList.includes(res.id)).map(resUser => {\n                   return   <UserItem key={resUser.id}\n                                      name = {resUser.displayName}\n                                      username = {resUser.username}\n                                      photourl = {resUser.photoURL}\n                                      onClick = {() => onClickResult(resUser)}\n                                      clicked = {isClicked(resUser)}            \n                   />\n               })\n           }\n\n            {\n                existingRooms.map(room=>{\n                    return <UserExist key={room.id}\n                            roomId  = {room.id}\n                            members = {room.members}      \n                    />            \n                })\n            }\n\n           </div>        \n\n        </div>\n    )\n}\n\nexport default SearchUser\n","export default {\n    lastMessageTime : function (postedTime) {\n        const [date, time] = postedTime.split(', ')\n        const [month, day, year] = date.split('/')\n        const [hour, minute, second] = time.split(':')\n        const [year1, month1, day1, hour1, minute1, second1] = [year, month, day, hour, minute, second].map(i=> parseInt(i))\n\n\n        const today = new Date()\n        const year2           = parseInt(today.getFullYear())\n        const month2          = parseInt((today.getMonth()+1))\n        const day2            = parseInt(today.getDate())\n        const hour2           = parseInt(today.getHours())\n        const minute2         = parseInt(today.getMinutes())\n        const second2         = parseInt(today.getSeconds())\n\n        const isLeap = (yy) => (yy%4 === 0 && yy%100!==0) || (yy%400 === 0)\n\n        const sumSecs = (y, mo, d, h, mi, s) => {\n            let sd= 0\n            if (mo<2){\n                for (let i=1; i<d; i++){\n                sd+=1\n                }\n                return sd*86400+h*3600+mi*60+s\n            }\n\n            let days =0 \n            for (let i=1 ; i<mo ; i++){\n                if (i===4 || i===6 || i===9 || i===11){\n                days+=30\n                } else \n                if (i === 2){\n                    days+= isLeap(y)? 29: 28\n                } else days+=31\n            } \n\n            return (days+d-1)*86400 +h*3600+mi*60+s \n        }\n\n\n        const secsDifference = (y1,mo1,d1,h1,mi1,s1, y2,mo2,d2,h2,mi2,s2) =>{                   \n            const secs1 = sumSecs(y1,mo1,d1,h1,mi1,s1)\n            const secs2 = sumSecs(y2,mo2,d2,h2,mi2,s2)\n\n            let gap=0\n\n            if((y2 === y1) || y2 === y1+1 ){\n                gap = 0\n                \n            } else \n            for(let i=y1+1; i<y2; i++){\n                if (isLeap(i)){\n                gap+=366\n                }\n                gap+=365\n            }\n\n            const D = isLeap(y1)?(31622400-secs1):(31536000-secs1)\n\n            return (y2!==y1)?(D + gap*86400 + secs2): secs2-secs1\n        }\n\n        const monthList = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n\n        const displayOutput = (del, year2, year1, month1, day1, hour1, minute1) => {\n            if (del< 86400 ){\n                return `${hour1}:${minute1} ${hour1<12?'AM':'PM'}`\n            }\n\n            if(del>86399 && del<172800){\n                return `YESTERDAY`\n            }\n\n            if(del>172799){\n                return `${monthList[month1-1]} ${day1}, ${year1}`\n            }\n        }\n\n        return displayOutput(secsDifference(year1,month1,day1,hour1,minute1,second1, year2,month2,day2,hour2,minute2,second2),year2, year1, month1, day1, hour1, minute1)\n    }\n}","import React, {useState,useEffect} from 'react'\nimport {NavLink} from 'react-router-dom'\nimport {Avatar} from '@material-ui/core'\nimport './SidebarChatOption.css'\nimport db from '../../firebase'\nimport {convertTimestampToLocaleString} from '../../helpers/convertTimestampToLocaleString'\nimport util from '../../helpers/lastMessageTime'\nimport {useStateValue} from '../../contexts/StateContextProvider'\n\nconst SidebarChatOption = ({name, roomId, members}) => {\n    const [{user}] = useStateValue()\n    const [messages, setMessages] = useState([])\n    const [contact, setContact] = useState(null)\n    const [opp, setOpp] = useState('')\n\n    useEffect(() => {\n        let mounted = true\n        if(roomId){\n            db.collection('rooms')\n              .doc(roomId)\n              .collection('messages')\n              .orderBy('timestamp', 'desc')\n              .onSnapshot(snapshot=>{\n                if(mounted){\n                    setMessages(snapshot.docs.map(doc=>doc.data()))\n                }\n            })    \n        }\n\n        return () => mounted = false\n    }, [])\n\n\n    useEffect(() => {\n        let mounted = true\n        if(roomId){\n            db.collection('rooms').doc(roomId).onSnapshot(snapshot=>{\n                if(mounted){\n                    setOpp(snapshot.data().members.filter(userId=>userId!==user.id)[0])\n                }\n            })\n        }\n\n        return () => mounted = false\n    }, [roomId])\n\n\n    useEffect(() => {\n        let mounted = true\n        if(opp){\n            db.collection('users')\n            .doc(opp)\n            .onSnapshot(snapshot=>{\n                if(mounted){\n                    setContact(snapshot.data())\n                }\n            })\n        }\n\n        return () => mounted = false\n    }, [opp])\n\n\n    const interpretDate = (time) =>{\n        if(time){\n            const date = convertTimestampToLocaleString(time)\n            return util.lastMessageTime(date)\n        }\n    }\n      \n    return (\n        <NavLink to={`/messages/${roomId && roomId}`} className={`sidebarChatOption`} activeClassName='active_chat' >\n            <Avatar src={contact? contact.photoURL: null} />\n            <div className=\"sidebarChatOption__info\">\n                <h2> {contact ? contact.displayName: 'Empty Room'}\n                <span>{contact ? `@${contact.username}`: ''}</span> \n                </h2>\n                <p>{messages[0] && (messages[0].message.length>25?`${messages[0].message.slice(0,24)} ...`:messages[0].message)}</p>\n            </div>\n            <div className=\"sidebarChatOption__date\">{messages[0] && interpretDate(messages[0].timestamp)}</div>\n        </NavLink>  \n    )          \n}\n\nexport default SidebarChatOption","import React, {useState, useEffect, useContext} from 'react'\nimport { useMediaQuery } from 'react-responsive'\nimport Modal from '../../elements/Modal/Modal'\nimport Search from '../../elements/Search/Search'\nimport SearchUser from '../SearchUser/SearchUser'\nimport SidebarChatOption from '../SidebarChatOption/SidebarChatOption'\nimport MailOutlineIcon from '@material-ui/icons/MailOutline'\nimport CloseIcon from '@material-ui/icons/Close'\nimport './SidebarChat.css'\n\nimport db from '../../firebase'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport {Action} from '../../contexts/ChatReducers' \nimport {ChatContext} from '../../contexts/ChatContextProvider'\nimport {useRoomState} from '../../contexts/IsRoomOpenedContextProvider'\n\nconst SidebarChat = () => {\n    const [{user}] = useStateValue()\n    const [{isRoomOpened}] = useRoomState()\n    const {rooms, dispatch} = useContext(ChatContext)\n    const [isOpenModal, setIsOpenModal] = useState(false)\n    const [existingRooms, setExistingRooms] = useState([])\n    const [text, setText] = useState('')\n    // const isNotFirstSender = e => e=== user.id\n    const isMobile = useMediaQuery({ maxWidth: 914 })\n\n    useEffect(() => {\n        const unsubscribe = db.collection('rooms').where('members', 'array-contains', user.id).onSnapshot(snapshot => \n            setExistingRooms(snapshot.docs.map((doc)=>{\n                // db.collection('rooms').doc(doc.id).collection('messages').get().then(q=> {resolve(q.size)})\n                // db.collection('rooms').doc(doc.id).collection('messages').get().then(q=> {\n                //     if (q.size && doc.data().members.findIndex(isNotFirstSender) ){\n                //         return {\n                //                    id: doc.id,\n                //                    ...doc.data(),\n                //         }\n                //     }\n                // })  \n\n                return {\n                    id: doc.id,\n                    ...doc.data(),\n                }\n                \n                }))\n            )\n\n\n        return ()=>unsubscribe()\n\n\n    }, [user])\n\n    const createNewRoom = () => {\n        if (rooms){\n            rooms.forEach(room => {\n                db.collection('rooms').add({\n                    alias: `${user.displayName} ${user.username} ${room.displayName} ${room.username}`,\n                    members: [user.id, room.id]\n                })\n                dispatch({\n                  type : Action.REMOVE_ROOM,\n                  id   : room.id\n                })    \n            })\n        }\n    }\n\n    const dynamicSearch = () => existingRooms.filter(room=>room.alias.toLowerCase().includes(text.toLowerCase()))\n\n    return (\n        <>\n            <Modal  open={isOpenModal} \n                    onClose={()=>setIsOpenModal(false)}\n                    title=\"New Message\"\n                    callback = {createNewRoom}\n                    Icon = {CloseIcon}\n                    ButtonText='Next'\n                    >\n                    <SearchUser />\n            </Modal>\n\n            <>\n                <div className={`sidebarChat ${(isRoomOpened && isMobile) && 'noned'}`}>\n                    <div className=\"sidebarChat__header\">\n                        <h2>Messages</h2> \n                        <div className=\"sidebarChat__addMessage\">\n                           <MailOutlineIcon onClick={()=>setIsOpenModal(true)}/>\n                        </div>         \n                    </div>\n\n                    <Search value={text} \n                            onChange = {(e)=>setText(e.target.value)}\n                            onClick={()=>setText('')}\n                    />            \n\n                    <div className=\"sidebarChat__chats\">\n                    {\n                        dynamicSearch().map(room=>(\n                          <SidebarChatOption key={room.id}\n                            members = {room.members}\n                            roomId = {room.id}\n                          />\n                        ))\n                    }\n                    </div>            \n\n                </div>\n            </>\n        </>\n    )\n}\n\nexport default SidebarChat\n","import React from 'react'\nimport Modal from '@material-ui/core/Modal'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Backdrop from '@material-ui/core/Backdrop'\nimport Fade from '@material-ui/core/Fade'\n\nconst useStyles = makeStyles((theme) => ({\n    modal: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        outline: 'none'\n    }\n}))\n\nconst ModalImage = ({open, onClose, imgsrc}) => {\n    const classes = useStyles()\n\n    return (\n    <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        onClose={onClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open}>\n           <div className='modalImage__imageWrapper'>\n              <img src={imgsrc} alt=\"popupimge\" \n              // className={`${rounded && 'rounded'}`}\n              />\n           </div>\n        </Fade>\n      </Modal>\n    )\n}\n\nexport default ModalImage\n","import React, {useState} from 'react'\nimport DoneAllIcon from '@material-ui/icons/DoneAll'\nimport ModalImage from '../../elements/Modal/ModalImage'\n\nimport {convertTimestampToLocaleString} from '../../helpers/convertTimestampToLocaleString'\nimport {useStateValue} from '../../contexts/StateContextProvider'\n\nconst MessageItem = ({msg}) => {\n    const [{user}] = useStateValue()\n    const [open, setOpen] = useState(false)\n    const [imgsrc, setImgsrc]=useState('')\n    const {id} = msg\n    const {image, message, timestamp, senderId} = msg.data\n\n\n    const onClickImage = (img) =>{\n        setImgsrc(img)\n        setOpen(true)        \n    }\n\n    const handleClose = () => setOpen(false)\n\n    return <>\n        <ModalImage open={open}\n               onClose={handleClose}\n               imgsrc={imgsrc}\n        />\n        {\n            senderId === user.id ?\n                <div className='chat__item ' key={id}>\n                    <p className={`chat__message chat__receiver`}>\n                        {image && <img src={image} alt=\"testim\" onClick={()=>onClickImage(image)}/>}\n                        {message && <span>{message}</span>}\n                    </p>\n                    <div className=\"chat__timestamp\">{convertTimestampToLocaleString(timestamp)} <DoneAllIcon /></div>\n                </div>\n            :\n                <div className='chat__item' key={id}>\n                    <p className={`chat__message`}>\n                        {image && <img src={ image} alt=\"testim\" onClick={()=>onClickImage(image)}/>}\n                        {message && <span>{message}</span>}\n                    </p>\n                    <div className=\"chat__timestamp lefted\">{convertTimestampToLocaleString(timestamp)}</div>\n                </div>\n        }          \n    </>\n}\n\nexport default MessageItem\n","import React, {useEffect, useState} from 'react'\nimport {Link} from 'react-router-dom'\nimport {useHistory} from 'react-router-dom'\nimport firebase from 'firebase'\nimport {useParams} from 'react-router'\nimport './Chat.css'\nimport {Avatar, Button} from '@material-ui/core'\n\nimport InfoIcon from '@material-ui/icons/Info'\nimport SentimentSatisfiedOutlinedIcon from '@material-ui/icons/SentimentSatisfiedOutlined'\nimport InsertPhotoOutlinedIcon from '@material-ui/icons/InsertPhotoOutlined'\nimport GifOutlinedIcon from '@material-ui/icons/GifOutlined'\nimport SendIcon from '@material-ui/icons/Send'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport CropIcon from '@material-ui/icons/Crop'\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined'\n\nimport Popover from '@material-ui/core/Popover'\nimport Picker from 'emoji-picker-react'\nimport StatusInput from '../StatusInput/StatusInput'\nimport CropPhoto from '../EditPhoto/CropPhotoB'\nimport AddALT from '../EditPhoto/AddALT'\nimport Modal from '../../elements/Modal/Modal'\nimport TabbarMenu from '../../elements/TabbarMenu/TabbarMenu'\nimport Spinner from '../../elements/Spinner/Spinner'\nimport MessageItem from '../../components/MessageItem/MessageItem'\n\nimport db from '../../firebase'\nimport postToCloudinary from '../../helpers/postToCloudinary'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport {generateAltText} from '../../helpers/generateAltText'\nimport {getInfo} from '../../helpers/getImageDimension'\nimport {useRoomState} from '../../contexts/IsRoomOpenedContextProvider'\nimport {actionTypes} from '../../contexts/IsRoomOpenedReducers'\n\nconst Chat = () => {\n   const {roomId} = useParams()\n   const [messages, setMessages] = useState([])\n   const [text, setText] = useState('')\n   const [members, setMembers] = useState('')\n   const [display, setDisplay] = useState({})\n   const [{user}] = useStateValue()\n   const [{isRoomOpened}, dispatch] = useRoomState()\n   const history = useHistory()\n\n   const [altText, setAltText] = useState(generateAltText(user.displayName))\n   const [anchorEl, setAnchorEl] = useState(null)\n   const [isLoading, setIsloading] = useState(false)\n\n\n   const [src, setSrc] = useState(null)\n   const [imageToSend, setImageToSend] = useState(null)\n   const [isOpenModal, setIsOpenModal] = useState(false)\n   const [initialImageSize, setinitialImageSize] = useState({width: 0, height: 0})\n   const [initialAspectRatio, setinitialAspectRatio] = useState(null)\n   const [croppedImageResult, setCroppedImageResult ] = useState(null)\n\n\n   useEffect(() => {\n      if (roomId){\n         db.collection('rooms').doc(roomId).onSnapshot(snapshot=>{\n            setMembers(snapshot.data() && snapshot.data().members.filter(userId=>userId!==user.id)[0])\n         })\n      }\n\n      db.collection('rooms')\n        .doc(roomId)\n        .collection('messages')\n        .orderBy('timestamp', 'asc')\n        .onSnapshot(snapshot=>{\n           setMessages(snapshot.docs.map(doc=>({id: doc.id, data: doc.data()})))\n      })\n\n      dispatch({\n         type: actionTypes.OPENING_ROOM,\n         isRoomOpened: true    \n      })      \n\n      if(isRoomOpened){}\n\n   }, [roomId])\n\n   useEffect(() => {\n      if(members){\n         db.collection('users')\n         .doc(members)\n         .onSnapshot(snapshot=>{\n            setDisplay(snapshot.data())\n         })\n      }\n   }, [members])\n\n   const sendMessage = (e) => {\n      e.preventDefault()\n      setIsloading(true)\n\n        if(imageToSend){\n            postToCloudinary(imageToSend)\n            .then( res=>{\n\n               db.collection('rooms')\n                .doc(roomId)\n                .collection('messages')\n                .add({\n                     senderId: user.id,\n                     message: text,\n                     image : res,\n                     timestamp: firebase.firestore.FieldValue.serverTimestamp()\n               })\n               setText('')\n               setSrc(null)\n               setImageToSend(null)\n               setIsloading(false)\n            })\n            .catch( err=> {\n               setIsloading(false)\n                return\n            })\n        } else {\n            db.collection('rooms')\n             .doc(roomId)\n             .collection('messages')\n             .add({\n               senderId: user.id,\n               message: text,\n               timestamp: firebase.firestore.FieldValue.serverTimestamp()\n              })\n            setText('')\n            setSrc(null)\n            setIsloading(false)\n         }\n      }\n\n    const onSelectFile = e => {\n        const fileReader = new FileReader()\n        fileReader.onloadend = () => {\n            setSrc(fileReader.result)\n            setImageToSend(fileReader.result)\n        }   \n        fileReader.readAsDataURL(e.target.files[0])\n\n        getInfo(e).then(res=> {\n            setinitialImageSize({width: res.width, height: res.height})\n        })\n    }\n\n\n    useEffect(() => {\n        setinitialAspectRatio(initialImageSize.width/initialImageSize.height)\n    }, [initialImageSize])\n\n    const changeSrc = () => {\n        setSrc(URL.createObjectURL(croppedImageResult))\n        setImageToSend(croppedImageResult)\n    }\n\n    const callbackforModal = () =>{\n        changeSrc()\n        if (altText.length === 0){\n            setAltText(generateAltText(user.displayName))\n        }\n    }\n\n\n    const items = [\n        {\n            id: 0,\n            title:'',\n            icon: <CropIcon />,\n            item: <CropPhoto \n                    image={src} \n                    setCroppedImageResult ={setCroppedImageResult} \n                    initialAspectRatio    = {initialAspectRatio}\n            />\n        },\n        {\n            id: 1,\n            title: 'ALT',\n            icon: '',\n            item: <AddALT image={croppedImageResult} altText={altText} setAltText={setAltText}/>\n        }\n    ]\n\n    const open = Boolean(anchorEl)\n    const id = open ? 'post-popover' : undefined\n    const onClickEmoticon = (event) => setAnchorEl(event.currentTarget)\n    const handleClose = () => setAnchorEl(null)\n\n    const onEmojiClick = (event, emojiObject) => {\n        let newMessage = text + emojiObject.emoji\n        setText(newMessage)\n    }\n\n\n    const closeRoom = () => {\n         dispatch({\n            type: actionTypes.CLOSING_ROOM,\n         })  \n\n         history.push('/messages')     \n    }\n\n    return (\n      <>\n            <Modal  open={isOpenModal} \n                    onClose={()=>setIsOpenModal(false)}\n                    title=\"Edit Photo\"\n                    callback = {callbackforModal}\n                    Icon = {ArrowBackOutlinedIcon}\n                    ButtonText='Save'\n                    >\n                    <TabbarMenu items={items}/>\n            </Modal>\n\n        <div className=\"chat\">\n           <div className=\"chat__header\">\n              <div className=\"chat__backArrow\">\n                 <ArrowBackOutlinedIcon  onClick={closeRoom}/>\n              </div>\n              <div className=\"chat__header-ava\">\n                 <Avatar src={display && display.photoURL}/>\n               </div>\n              <h2>{display && display.displayName}</h2>\n              <Link to={`/messages/${roomId}/info`}><InfoIcon member={display}/></Link>      \n           </div>\n\n            <div className=\"chat__body\">\n               {\n                  messages.map(msg=>{\n                      return <MessageItem key={msg.id} msg={msg} />\n                  })\n               }\n            </div>\n\n            <div className=\"chat__footer\">\n               { src && \n               <div className='chat__footer-ImageBox'>\n                  <CancelIcon className='cancelIcon' onClick={()=>setSrc(null)}/>\n                  <img src={src} alt=\"new test\"/>               \n                  <Button className='editImage' onClick={()=>setIsOpenModal(true)}>Edit</Button>\n               </div>\n               }\n\n               <StatusInput Icon={InsertPhotoOutlinedIcon}\n                           type=\"file\"\n                           accept=\"image/*\"\n                           name=\"image-upload\"\n                           id=\"input-image\"\n                           onChange={onSelectFile}\n               />\n               <GifOutlinedIcon />\n               <form onSubmit={sendMessage}>\n                  <input type=\"text\"\n                     placeholder='Start a new message'\n                     value={text}\n                     onChange ={(e)=>setText(e.target.value)}\n                  />\n                  <div className=\"chat__footer-emowrapper\">\n                    <SentimentSatisfiedOutlinedIcon aria-describedby={id} type=\"button\" onClick={onClickEmoticon} />\n                     <Popover \n                           id={id}\n                           open={open}\n                           anchorEl={anchorEl}\n                           onClose={handleClose}\n                           anchorOrigin={{\n                              vertical: 'top',\n                              horizontal: 'center',\n                           }}\n                           transformOrigin={{\n                              vertical: 'bottom',\n                              horizontal: 'center',\n                           }}\n                           style={{\n                              transform: 'translate(-2rem, -1rem)'\n                           }}\n\n                     >\n                           <Picker onEmojiClick={onEmojiClick} />\n                     </Popover>\n\n                  </div>\n                  {\n                     (src || text.length>0)?\n                     isLoading?\n                     <span className='spinnerSpan'><Spinner /></span>\n                     :<SendIcon type='submit' className='readyBtn' onClick={sendMessage}/>\n                     :<SendIcon /> \n                  }\n               </form>\n\n            </div>\n\n        </div>\n      </>\n    )\n}\n\nexport default Chat","import React, {useEffect, useState} from 'react'\nimport firebase from 'firebase'\nimport UserItemFollow from '../UserItem/UserItemFollow'\nimport {useHistory} from 'react-router-dom'\nimport {useParams} from 'react-router'\nimport Switch from '@material-ui/core/Switch'\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined'\nimport './ConversationInfo.css'\nimport db from '../../firebase'\nimport {useStateValue} from '../../contexts/StateContextProvider'\n\nimport {useRoomState} from '../../contexts/IsRoomOpenedContextProvider'\nimport {actionTypes} from '../../contexts/IsRoomOpenedReducers'\n\nconst ConversationInfo = () => {\n    const history = useHistory()\n    const {roomId} = useParams()\n    const [{user}] = useStateValue()\n    const [{isRoomOpened}, dispatch] = useRoomState()\n    const [state, setState] = useState({ checkedB: false})\n\n    const [members, setMembers] = useState('')\n    const [display, setDisplay] = useState({})\n\n    const handleChange = (event) => {setState({ ...state, [event.target.name]: event.target.checked })}\n\n    useEffect(() => {\n      if (roomId){\n         db.collection('rooms').doc(roomId).onSnapshot(snapshot=>{\n            setMembers(snapshot.data() && snapshot.data().members.filter(userId=>userId!==user.id)[0])\n         })\n\n         dispatch({\n            type: actionTypes.OPENING_ROOM,  \n         })\n\n         if(isRoomOpened){}\n      }\n    }, [roomId])\n\n    useEffect(() => {\n      if(members){\n         db.collection('users')\n         .doc(members)\n         .onSnapshot(snapshot=>{\n            setDisplay(snapshot.data())\n         })\n      }\n    }, [members])\n\n    const leaveConversation = () => {\n      if (roomId){\n         let ref = db.collection('rooms').doc(roomId)\n         ref.update({\n            members: firebase.firestore.FieldValue.arrayRemove(user.id)\n         }).then(res=> history.push('/messages'))\n      }\n    }\n\n\n    return (\n        <div className=\"conversationInfo\">\n           <div className=\"conversationInfo__header\">\n             <div className=\"conversationInfo__header--back\">\n                <ArrowBackOutlinedIcon onClick={()=>history.goBack()}/>\n             </div>\n              <h2>Conversation Info</h2>     \n           </div>\n\n           <UserItemFollow display={display}/>\n\n            <div className=\"notifications\">\n               <h2>Notifications</h2>\n               <div className='mute'>\n                  <p>Mute conversation</p>\n                   <Switch\n                       checked={state.checkedB}\n                       onChange={handleChange}\n                       color=\"primary\"\n                       name=\"checkedB\"\n                       inputProps={{ 'aria-label': 'primary checkbox' }}\n                   />\n               </div>\n            </div>\n\n            <ul className=\"userActions\">\n               <li>{`Block @${display && display.username}`}</li>\n               <li>{`Report @${display && display.username}`}</li>\n               <li className='red' onClick={leaveConversation}>Leave Conversation</li>\n            </ul>\n\n        </div>\n    )\n}\n\nexport default ConversationInfo\n","import React, {useState, useEffect} from 'react'\nimport firebase from 'firebase'\nimport './Login.css'\nimport Spinner from '../../elements/Spinner/Spinner'\nimport validate from '../../helpers/inputValidator'\nimport db from '../../firebase'\nimport {actionTypes} from '../../contexts/StateReducers'\nimport {useStateValue} from '../../contexts/StateContextProvider'\n\nconst Login = () => {\n\n    const initialSignup = {\n        name            : '',\n        username        : '',\n        email           : '',\n        password        : '',\n        confirmPassword : ''\n    }\n    const initialLogin = {\n        email           : '',\n        password        : ''\n    }\n    const [{user},dispatch] = useStateValue()\n    const [signupState, setSignupState] = useState(initialSignup)\n    const [loginState, setLoginState] = useState(initialLogin)\n    const [error, setError] = useState('')\n    const [loading, setLoading] = useState(false)\n\n    const [isSigning, setIsSigning] = useState(false)\n\n\n   \n    const auths = (user) => {\n        try {\n            user.password = undefined\n            localStorage.setItem('twittie_user', JSON.stringify(user))\n            \n            dispatch({\n                type: actionTypes.SET_USER,\n                user : JSON.parse(localStorage.getItem('twittie_user'))\n            })\n            \n            setLoading(false)          \n        } catch (error) {\n            console.log(error)\n            setLoading(false)\n            return\n        }\n    }\n\n    const onSubmitLogin = (e) => {  \n        const {email, password} = loginState\n        e.preventDefault()\n        setLoading(true)\n        db.collection('users')\n            .where('email', '==', email)\n            .where('password','==', password)\n            .limit(1)\n            .get()\n            .then(snapshot=>{\n                if(!snapshot.docs.length){\n                    setError('Invalid credential')\n                return\n                } else {\n                    return {id: snapshot.docs[0].id, ...snapshot.docs[0].data()}\n                }\n            })\n            .then(res=>{\n                if(res){\n                    auths(res)\n                } else {\n                    setError('Incorrect Email or Password')\n                    setLoading(false)\n                }\n            })\n            .catch(error=>{\n                setLoading(false)\n                setError('Incorrect Email or Password')\n                return\n            }\n        )\n\n    }\n\n    const preSignup = (e) => {\n        e.preventDefault()\n        setIsSigning(true)\n        setError(validate(signupState))\n    }\n\n    // console.log(`currently in ${auth?'signupPage':'loginPage'} and ${isSigning?'isSigning':'not isSigning'}`)\n\n    if(user){}\n\n    useEffect(() => {      \n        const {name, username, email, password } = signupState\n\n        // console.log(isSigning, error.length)\n        if (isSigning && !error.length){\n            setLoading(true)\n            try {\n                db.collection('users').add({\n                    bio:'',\n                    displayName: name,\n                    email,\n                    followers: [],\n                    following: [],\n                    joined: firebase.firestore.FieldValue.serverTimestamp(),\n                    password,\n                    photoURL: '',\n                    rooms: [],\n                    username,\n                    verified: false,\n                    wallpaper: 'https://static.onecms.io/wp-content/uploads/sites/28/2017/05/blue0517.jpg'\n                })\n                .then(res=>{\n                    console.log(res)\n                    setLogin(false) ; setsignin(true) \n                })                    \n            } catch (error) {\n                console.log(error)\n                return\n            }\n        }\n\n    }, [isSigning, error])\n\n//check user exist\nconst [userE, setUserE ] = React.useState(\"\");\n    const [email, setEmail ] = React.useState(\"\");\n    const [disabled, setDisabled ] = React.useState(false);\n    const usernameA = () => {\n        const { username, email } = signupState\n        db.collection('users').where('username', '==', username.toLowerCase()).get().then(result => {\n            if (result.empty){\n                db.collection('users').where('email', '==', email).get().then(result => {\n                    if (result.empty){\n                        setDisabled(false)\n                        setEmail(\"\")\n                        }\n                    else {\n                        setDisabled(true)\n                        setEmail(\"Email already taken\")\n                    }\n                })\n                setUserE(\"\")\n                }\n            else {\n                setDisabled(true)\n                setUserE(\"UserName alredy taken\")\n            }\n        })\n        //email\n      \n    }\nconst [loginp ,setLogin ] = React.useState(true);\nconst [signinp ,setsignin ] = React.useState(true);\nconst [welcome ,setWelcome ] = React.useState(false);\n    return ( \n       <div className=\"app\">\n           <div hidden={welcome} className=\"welcome\">\n               <h1 className=\"qoute\">See what's<br></br> happening in the <br></br>world Among you!</h1>\n               <button onClick={() => { setWelcome(true) ; setsignin(false) } } className=\"btn\">Create account</button>\n               <button onClick={() => { setWelcome(true) ; setLogin(false) } } className=\"btn2\">Login</button>\n           </div>\n           <div hidden={loginp} className=\"login\">\n           <h1 className=\"uh1\"> To get started, enter</h1>\n                        <h1 className=\"h1\">your Email and Password</h1>\n           <form className=\"form\" autoComplete=\"off\" onSubmit={onSubmitLogin}>\n                        <input type=\"email\"    name='email'    placeholder='Email'    value={loginState.email}    onChange={e=>setLoginState({...loginState, email:e.target.value.toLowerCase().replace(\" \",\"\")})}/>\n                        <input type=\"password\" name='password' placeholder='Password' value={loginState.password} onChange={e=>setLoginState({...loginState, password:e.target.value})} required/>\n                        <button type='submit' className='btn'>{loading? <Spinner /> : 'Log in'}</button>\n                        {error.length>0 && <div className='error'>{error}</div>}\n                    </form>\n           </div>\n           <div hidden={signinp} className=\"signup\">\n           <h1 className=\"uh1\">Create an</h1>\n                        <h1 className=\"h1\">account</h1>\n           <form className=\"form1\" autoComplete=\"off\" onSubmit={preSignup}>\n                        <input type=\"text\"     name=\"name\"        placeholder='Full Name'        value={signupState.name}        onChange={(e)=>setSignupState({...signupState, name: e.target.value})}/>\n                        <input type=\"text\"     name=\"username\"        placeholder='Username'        value={signupState.username}        onChange={(e)=>setSignupState({...signupState, username: e.target.value.toLowerCase().replace(\" \",\"\")})} onKeyPress={usernameA()}/>    <p className=\"usernamea\">{userE}</p>\n                        <input type=\"text\"    name=\"email\"           placeholder='Email'           value={signupState.email}           onChange={(e)=>setSignupState({...signupState, email: e.target.value.toLowerCase().replace(\" \",\"\")})} onKeyPress={usernameA()}/> <p className=\"usernamea\">{email}</p>\n                        <input type=\"password\" name=\"password\"        placeholder='Create Password' value={signupState.password}        onChange={(e)=>setSignupState({...signupState, password: e.target.value})}/>\n                        <input type=\"password\" name=\"confirmPassword\" placeholder='Confirm Password'value={signupState.confirmPassword} onChange={(e)=>setSignupState({...signupState, confirmPassword: e.target.value})}/>\n                        <button disabled={disabled} type='submit' className='btn'>{loading? <Spinner /> : 'Sign up'}</button>\n                        {error.length>0 && <div className='error'>{error}</div>}\n                    </form>\n           </div>\n       </div>\n    )\n}\n\nexport default Login\n\n\n","export default function validate(values) {\n  let errors = { }\n\n  const { name, username, email, password, confirmPassword } = values\n  const emailRegex = /(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*/                                                                                                 //eslint-disable-line\n\n  if(username.length === 0){\n    errors.erUsername = 'Username must not be empty' \n  }\n\n  if(name.length === 0){\n    errors.erName = 'Full Name must not be empty' \n  }\n\n\n  if (!email) {\n    errors.erEmail = 'Email address is required'\n  } else if (!emailRegex.test(email)) {   \n    errors.erEmail = 'Email address is invalid'\n  }\n\n\n  if (!password) {\n    errors.erPassword = 'Password is required'\n  } else if (!/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])[a-zA-Z\\d@$.!%*#?&]/.test(password)) {\n    errors.erPassword = 'Password must contain atleast 8 characters, an number, an uppercase, a lowercase, and a special character'\n  }\n\n\n  if(password !== confirmPassword){\n      errors.erPasswords = 'Passwords are not identical'\n  }\n\n  let {erName, erUsername, erEmail, erPassword, erPasswords} = errors\n\n  if(erName){\n    return erName\n  } else {\n    if (erUsername){\n      return erUsername\n    } else {\n      if (erEmail){\n        return erEmail\n      } else {\n        if (erPassword){\n          return erPassword\n        } else {\n          if (erPasswords){\n            return erPasswords\n          } else {\n            return ''\n          }\n        }\n      }\n    }\n  }\n    \n}","import React, {useState, useEffect} from 'react'\n\nimport { TextField } from '@material-ui/core'\nimport Modal from '../../elements/Modal/Modal'\nimport CropPhoto from '../EditPhoto/CropPhotoB'\nimport StatusInput from '../StatusInput/StatusInput'\nimport {getInfo} from '../../helpers/getImageDimension'\nimport TabbarMenu from '../../elements/TabbarMenu/TabbarMenu'\n\nimport CloseIcon from '@material-ui/icons/Close'\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined'\nimport AddAPhotoOutlinedIcon from '@material-ui/icons/AddAPhotoOutlined'\nimport './EditProfile.css'\n\nconst EditProfile = ({profile, setUpdatedProfileState}) => {\n    const {bio, displayName, location, wallpaper, photoURL, website} = profile\n    const [profileState, setProfileState] = useState({\n        displayName,\n        bio     : bio?bio:'',\n        location: location?location:'',   \n        website : website?website:''    \n    })\n    const [src, setSrc] = useState({\n        photoSrc: photoURL,\n        wallpaperSrc: wallpaper\n    })\n    const [pictureToSend, setPictureToSend] = useState({\n        photoToSend: photoURL,\n        wallpaperToSend: wallpaper\n    })\n    const [croppedImageResult, setCroppedImageResult ] = useState(null)\n    const [initialImageSize, setinitialImageSize] = useState({\n        photo: {width:0, height:0},\n        wallpaper: {width:0, height: 0}\n    })\n    const [initialAspectRatio, setinitialAspectRatio] = useState({\n        photo: null,\n        wallpaper: null\n    })\n\n    const [isOpenModal, setIsOpenModal] = useState(false)    \n    const [activeModal, setActiveModal] = useState('')\n\n    const onSelectFile = (e, kind)=> {\n        const fileReader = new FileReader()\n        fileReader.onloadend = () => {\n            if(kind === 'photo'){\n                setSrc({ ...src, photoSrc: fileReader.result})\n                setPictureToSend({ ...pictureToSend, photoToSend: fileReader.result})\n                setActiveModal('photo')\n            }\n            if(kind === 'wallpaper'){\n                setSrc({...src, wallpaperSrc:fileReader.result})\n                setPictureToSend({ ...pictureToSend, wallpaperToSend: fileReader.result})\n                setActiveModal('wallpaper')\n            }\n            setIsOpenModal(true)\n        }   \n        fileReader.readAsDataURL(e.target.files[0])\n\n        getInfo(e).then(res=> {\n            if(kind === 'photo'){\n                setinitialImageSize({...initialImageSize, photo:{width: res.width, height: res.height}})\n            }\n            if(kind === 'wallpaper'){\n                setinitialImageSize({...initialImageSize, wallpaper:{width: res.width, height: res.height}})\n            }            \n        })\n    }   \n\n    useEffect(() => {\n        setinitialAspectRatio({\n            ...initialAspectRatio,\n            photo: initialImageSize.photo.width/initialImageSize.photo.height,\n            wallpaper: initialImageSize.wallpaper.width/initialImageSize.wallpaper.height,\n        })\n    }, [initialImageSize])\n\n    const removeWallpaper = ()=> {\n        setSrc({...src, wallpaperSrc:null})\n        setinitialImageSize({...initialImageSize, walpaper:{width:0, height:0}})\n        setinitialAspectRatio({...initialAspectRatio, wallpaper: null})\n        setPictureToSend({...pictureToSend, wallpaperToSend:''})\n    }\n\n    const changeSrc = () => {\n        if(activeModal === 'photo'){\n            console.log('from photo',croppedImageResult)\n            setSrc({\n                ...src,\n                photoSrc: URL.createObjectURL(croppedImageResult)\n            })\n            setPictureToSend({...pictureToSend, photoToSend: croppedImageResult})\n            \n        }\n        if(activeModal === 'wallpaper'){\n            console.log('from wallpaper',croppedImageResult)\n            setSrc({\n                ...src,\n                wallpaperSrc: URL.createObjectURL(croppedImageResult)\n            })\n            setPictureToSend({...pictureToSend, wallpaperToSend: croppedImageResult})\n        }\n    }\n\n    const callbackforModal = () =>{\n        changeSrc()\n    }\n\n    const closeModal = () => {\n        setIsOpenModal(false)\n        setActiveModal('')\n    }\n\n    const items = [\n        {\n            id: 0,\n            title:'',\n            item:  <CropPhoto \n                    image = {activeModal==='wallpaper'?src.wallpaperSrc:src.photoSrc}\n                    setCroppedImageResult ={setCroppedImageResult} \n                    initialAspectRatio    = {activeModal==='wallpaper'?initialAspectRatio.wallpaper:initialAspectRatio.photo}\n                />\n        }\n    ]\n\n    useEffect(() => {\n        setUpdatedProfileState({profileState, pictureToSend})\n    }, [profileState, pictureToSend])\n\n    return (\n        <>\n            <Modal  open={isOpenModal} \n                    onClose={closeModal}\n                    title=\"Edit Media\"\n                    callback = {callbackforModal}\n                    Icon = {ArrowBackOutlinedIcon}\n                    ButtonText='Apply'\n                    >\n                    <TabbarMenu items={items}/>\n            </Modal>         \n\n            <div className='editProfile'>\n                <div className=\"editProfile__theme\" style={{backgroundImage: `url(${src.wallpaperSrc &&  src.wallpaperSrc})`}}>\n                    <div className=\"editProfile__theme-photoWrapper\">\n                        {src.photoSrc && <img src={src.photoSrc} alt={`${displayName}`} />}\n                        <div className=\"editProfile__btnWrapper\">\n                            <StatusInput Icon={AddAPhotoOutlinedIcon}\n                                        type=\"file\"\n                                        accept=\"image/*\"\n                                        name=\"image-upload\"\n                                        id=\"input-wallpaper\"\n                                        onChange={(e)=>{onSelectFile(e, 'photo')\n                                                        setActiveModal('photo')\n                                        }}\n                            />\n                        </div>\n                    </div>\n                    <div className='editProfile__theme-themeActions'>\n                        <div>\n                            <StatusInput Icon={AddAPhotoOutlinedIcon}\n                                        type=\"file\"\n                                        accept=\"image/*\"\n                                        name=\"image-upload\"\n                                        id=\"input-photo\"\n                                        onChange={(e)=>{onSelectFile(e, 'wallpaper')\n                                                       setActiveModal('wallpaper')\n                                        }}\n                            />                    \n                        </div>\n                        <div><CloseIcon onClick={removeWallpaper} /> </div>\n                    </div>\n                </div>  \n\n                <form noValidate autoComplete=\"off\">\n                    <TextField id=\"displayName\" label=\"Name\" variant=\"filled\" value={profileState.displayName} onChange={e=>setProfileState({...profileState, displayName:e.target.value})}/>\n                    <TextField id=\"bio\" label=\"Bio\" variant=\"filled\" value={profileState.bio} onChange={e=>setProfileState({...profileState, bio:e.target.value})}/>\n                    <TextField id=\"location\" label=\"Location\" variant=\"filled\" value={profileState.location} onChange={e=>setProfileState({...profileState, location:e.target.value})}/>\n                    <TextField id=\"website\" label=\"Website\" variant=\"filled\" value={profileState.website} onChange={e=>setProfileState({...profileState, website:e.target.value})} className='lastbordered'/>\n                </form>\n\n            </div>\n\n        </>\n    )\n}\n\nexport default EditProfile\n","import React, {useState, useEffect} from 'react'\nimport {Avatar} from '@material-ui/core'\n\nimport db from '../../firebase'\nimport {useStateValue} from '../../contexts/StateContextProvider'\n\nconst FollowingEquality = ({profile}) => {\n    const [{user}] = useStateValue()\n    const [myFollowing, setMyFollowing] = useState([])\n    const [equality, setEquality] = useState([])\n\n    const [user1, setUser1] = useState(null)\n    const [user2, setUser2] = useState(null)\n\n    useEffect(() => {\n        db.collection('users').doc(user.id).onSnapshot(snapshot=>{\n            if(snapshot.empty){\n                return\n            }\n            setMyFollowing(snapshot.data() && snapshot.data().following)\n        })\n    }, [])\n\n    useEffect(() => {\n        if(profile&& profile.followers.length>0){\n            setEquality(profile.followers.filter(item=> myFollowing.includes(item)))   \n        }\n    }, [myFollowing, profile])   \n\n    useEffect(() => {\n        let equalityLength = equality.length\n        if(equalityLength>0){\n            if (equalityLength>1){\n                db.collection('users').doc(equality[1]).onSnapshot(snapshot=>{\n                    setUser2(snapshot.data())\n                })\n            }\n\n            db.collection('users').doc(equality[0]).onSnapshot(snapshot=>{\n                setUser1(snapshot.data())\n            })\n\n        }\n    }, [equality])\n\n    console.log(equality)\n\n    return (\n        <div className=\"followedInfo\">\n            {\n                equality.length>0 ?\n                <>\n                    {user1 && <Avatar src={user1.photoURL}/>}\n                    {(equality.length>1 && user2 ) && <Avatar src={user2.photoURL}/>}\n                    <span>Followed by {`${user1 ? user1.displayName: ''} `} {(equality.length===2 && user2) ? `and ${user2.displayName}`: ''} {(equality.length>2 && user2)?`, ${user2.displayName}, and ${equality.length-2} others`:''} </span>\n                </>\n                :\n                <span>Not followed by anyone you follow</span>      \n            }\n        </div>\n    )\n}\n\nexport default FollowingEquality\n","import React, {useState, useEffect} from 'react'\nimport {Link} from 'react-router-dom'\nimport {useParams} from 'react-router'\n\nimport CloseIcon from '@material-ui/icons/Close'\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz'\nimport InsertLinkIcon from '@material-ui/icons/InsertLink'\nimport PlaceIcon from '@material-ui/icons/Place'\nimport DateRangeIcon from '@material-ui/icons/DateRange'\nimport MailOutlineIcon from '@material-ui/icons/MailOutline'\n\nimport Modal from '../../elements/Modal/Modal'\nimport ModalImage from '../../elements/Modal/ModalImage'\nimport Spinner from '../../elements/Spinner/Spinner'\nimport EditProfile from '../EditProfile/EditProfile'\nimport FollowingEquality from '../FollowingEquality/FollowingEquality.jsx'\n\nimport db from '../../firebase'\nimport postToCloudinary from '../../helpers/postToCloudinary'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport {follow, unfollow} from '../../server/serverActions'\n\nimport './ProfileTheme.css'\n\nconst ProfileTheme = ({posts}) => {\n    const [profile, setProfile] = useState({bio:'', displayName:'', followers: [], following:[], location:'', photoURL:'', website:'' })\n\n    const [{user}] = useStateValue()\n    const {username} = useParams()\n\n    const [updatedProfileState, setUpdatedProfileState] = useState({})\n    const [finalPhoto, setFinalPhoto] = useState(null)\n    const [finalWallpaper, setFinalWallpaper] = useState(null)\n    const [isPhotoReady, setIsPhotoReady] = useState(false)\n    const [isWallpaperReady, setIsWallpaperReady] = useState(false)\n    const [isUpdating, setIsUpdating] = useState(false)\n\n    const [isOpenModal, setIsOpenModal] = useState(false)\n    let isMe = (profile && profile.id) === user.id?true: false\n\n    const [isFollowing, setIsFollowing] = useState(false)\n\n    const [openImage, setOpenImage] = useState(false)\n    const [imgsrc, setImgsrc]=useState('')\n    const onClickImage = (img) =>{\n        setImgsrc(img)\n        setOpenImage(true)        \n    }\n    const handleCloseImage = () => setOpenImage(false)\n\n    useEffect(() => {\n      db.collection('users').where('username', '==', username).onSnapshot(snapshot=>{\n        setProfile(snapshot.docs.map(doc=>({\n          id: doc.id,\n          ...doc.data()\n        }))[0])\n      })\n\n    }, [username])\n\n    const callbackforModal = () => {\n        const {photoToSend, wallpaperToSend} = updatedProfileState.pictureToSend\n        setIsUpdating(true)\n        if(photoToSend === profile.photoURL){\n                setFinalPhoto(profile.photoURL)\n                setIsPhotoReady(true)\n        }\n\n        if (photoToSend !== profile.photoURL){\n            const doFetch = () => postToCloudinary(photoToSend).then(res=> {\n                setFinalPhoto(res)\n                setIsPhotoReady(true)\n            })\n            .catch(error=>{ doFetch() } ) \n\n            doFetch()           \n        }\n\n        if (wallpaperToSend === profile.wallpaper){\n                setFinalWallpaper(profile.wallpaper)\n                setIsWallpaperReady(true)\n        }\n\n        if (wallpaperToSend !== profile.wallpaper){\n            if (wallpaperToSend === null){\n                setFinalWallpaper('')\n                setIsWallpaperReady(true)            \n            } else {\n                const doFetch = () => {\n                    postToCloudinary(wallpaperToSend).then(res=> {\n                        setFinalWallpaper(res)\n                        setIsWallpaperReady(true)\n                    })\n                    .catch(error=>{ doFetch() } )                      \n                }\n                doFetch()\n            }\n        }\n\n    }\n\n    useEffect(() => {\n        console.log(`isPhotoReady: ${isPhotoReady}, isWallpaperReady: ${isWallpaperReady}`)\n        if(isPhotoReady && isWallpaperReady){\n            const {displayName, bio, location, website} = updatedProfileState.profileState\n            const doUpdate = () => {\n                db.collection('users').doc(user.id).update({\n                    displayName,\n                    bio,\n                    location,\n                    website,\n                    photoURL: finalPhoto,\n                    wallpaper: finalWallpaper\n                }).then(res => {\n                    setIsUpdating(false)\n                })\n                .catch(error => { doUpdate()})               \n            }\n            doUpdate()\n        }\n\n    }, [isPhotoReady, isWallpaperReady])\n\n\n    useEffect(() => {\n        if(profile){\n            if (!isMe){\n                setIsFollowing(profile.followers.includes(user.id))\n            }\n        }\n    }, [profile])\n\n\n    return (\n        <>\n            <Modal\n                    open={isOpenModal} \n                    onClose={()=>setIsOpenModal(false)}\n                    title=\"Edit Profile\"\n                    callback = {callbackforModal}\n                    Icon = {CloseIcon}\n                    ButtonText='Save'\n                    >\n                    <EditProfile profile={profile} setUpdatedProfileState={setUpdatedProfileState} />        \n            </Modal>        \n\n            <ModalImage open={openImage}\n                onClose={handleCloseImage}\n                imgsrc={imgsrc}\n            />\n\n            <div className='userProfile'>\n                <div className=\"userProfile__theme\" style={{backgroundImage: `url(${profile && profile.wallpaper})`}} >\n                    <div className=\"photoWrapper\" >\n                        {(profile && profile.photoURL) && <img src={profile.photoURL} alt={`${profile.displayName}`} onClick={()=>onClickImage(profile.photoURL)} />}\n                    </div>\n                </div>\n\n                <div className=\"infoWrapper\">\n                    <div className=\"userProfile__actions\">\n                        <div className=\"moreWrapper\">\n                            <MoreHorizIcon />\n                        </div>\n                        { !isMe && <div className=\"mailWrapper\">\n                            <MailOutlineIcon />\n                        </div> }                     \n                        { isMe? \n                        <div className=\"followWrapper\" onClick={()=>setIsOpenModal(true)}>\n                            Edit Profile\n                        </div>\n                        : \n                            (\n                            isFollowing?\n                                <div className=\"followWrapper\" onClick={()=>unfollow(user.id, profile.id)}>\n                                    Followed\n                                </div>\n                            :\n                                <div className=\"followWrapper\" onClick={()=>follow(user.id, profile.id)}>\n                                    Follow\n                                </div>                        \n                            )              \n                        }\n                    </div>\n\n                    <h2>{profile&& profile.displayName}</h2>\n                    {username && <span>{`@${username}`}</span>}\n                    {profile && <p>{profile.bio}</p>}\n\n                    <div className=\"bioInfo\">\n                        {(profile && profile.location) && <div> <PlaceIcon /> <span>{profile.location}</span></div>}\n                        {(profile && profile.website) && <div className='blued'> <InsertLinkIcon /> <span>{profile.website}</span></div>}\n                        <div><DateRangeIcon /> <span>Sep 2020</span></div>\n                    </div>\n\n                    <div className=\"countInfo\">\n                        <Link to={`/profile/${username}/followinfo`}>\n                            <span>{profile && profile.following.length} <p>Following</p></span>\n                        </Link>\n                        <Link to={`/profile/${username}/followinfo`}>\n                            <span>{profile!==undefined && profile.followers.length} <p>Followers</p></span>\n                        </Link>\n\n                        { (isMe && isUpdating) && <div className='themeSpinner'> <Spinner /> </div>  }   \n                    </div>\n                    \n                    <div className='themeBottom'>\n                        { !isMe && <FollowingEquality profile={profile}/> }\n                    </div>\n                    \n                </div>\n\n            </div>\n\n        </>\n    )\n}\n\nexport default ProfileTheme\n","import React, {useState, useEffect} from 'react'\nimport {useHistory, useParams} from 'react-router'\nimport Posts from '../Posts/Posts'\nimport TabbarMenu from '../../elements/TabbarMenu/TabbarMenu'\nimport ProfileTheme from '../ProfileTheme/ProfileTheme'\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined'\nimport Loader from '../../elements/Loader/Loader'\nimport { useSpring, animated } from 'react-spring' //animatiom\n\n\nimport db from '../../firebase'\n// import {useStateValue} from '../../contexts/StateContextProvider'\nimport '../Feed/Feed.css'\n\nconst Feed = () => {\n    const {username} = useParams()  \n    const history = useHistory()    \n    const [posts, setPosts] = useState([])\n    const [loading, setLoading] = useState(false)\n    const initProfile={\n        bio:'',\n        displayName:'', \n        followers:[], \n        following:[], \n        id: '', \n        location: '', \n        photoURL: '', \n        username: '', \n        wallpaper: '', \n        website: ''      \n    }\n    const [profile, setProfile] = useState(initProfile)\n\n    useEffect(() => {\n      db.collection('users').where('username', '==', username).onSnapshot(snapshot=>{\n        setProfile(snapshot.docs.map(doc=>({\n          id: doc.id,\n          ...doc.data()\n        }))[0])\n      })\n    }, [username])\n\n    useEffect(() => {\n      setLoading(true)\n\n      if(profile){\n        setLoading(false)\n        db.collection('posts')\n        .where('senderId', '==', profile.id)\n        .orderBy('timestamp', 'desc')\n        .onSnapshot(snapshot=> {\n          setPosts(snapshot.docs.map(doc => ({id:doc.id, ...doc.data()})))\n          setLoading(false)\n        })\n      }\n    })\n\n    const items = [\n        {\n            id: 0,\n            title:'Tweets',\n            item: <>\n                    { loading && <div className=\"feed__loader\"><Loader/></div> } \n                    <Posts  posts={posts} />\n                  </>\n        },\n        {\n            id: 1,\n            title: 'Tweets & replies',\n            item: <>  { loading && <div className=\"feed__loader\"><Loader/></div> } </>\n        },\n        {\n            id: 2,\n            title: 'Media',\n            item: <>\n                    { loading && <div className=\"feed__loader\"><Loader/></div> } \n                    <Posts  posts={posts.filter(post=>post.image.length>0)} />\n                  </>\n        },        \n        {\n            id: 3,\n            title: 'Likes',\n            item: <> { loading && <div className=\"feed__loader\"><Loader/></div> } </>\n        }\n    ]\nconst ani = useSpring({\n  from: { x:600, opacity:0.5 },\n  to: { x: 0, opacity:1 },\n  config: { duration: 220 },\n})\n    return (\n  <animated.div className='feed' style={ani}>\n           <animated.div className=\"profile__header\">\n              <div className=\"profile__backArrow\" onClick={()=>history.goBack()}>\n                 <ArrowBackOutlinedIcon />\n              </div>\n              <div className='profile__title'>\n                <div className='profile__title_title'><h2 className=\"userName\">{profile && profile.displayName}</h2><CheckCircleIcon /></div>        \n                <span>{posts && posts.length} tweets</span>\n              </div>\n           </animated.div>\n\n           <ProfileTheme profile={profile} />\n\n           <TabbarMenu items={items}/>\n\n        </animated.div> \n      \n    )\n}\n\nexport default Feed\n","import React, {useState, useEffect} from 'react'\nimport './WidgetsPhoto.css'\n\nconst WidgetsPhoto = ({posts}) => {\n   const [photos, setPhotos] = useState([])\n\n   useEffect(() => {\n      setPhotos(posts.filter(post=>post.image.length>0).slice(0,6).map(item=>{return item.image}))\n   }, [])\n\n    return (\n        <div className='widgets__widgetContainerforPhotos'>\n           <div className=\"wcfpRow\">\n              <div className=\"square bcA\" style={{backgroundImage: `url(${photos.length>0 && photos[0]})`}}></div>\n              <div className=\"square\" style={{backgroundImage: `url(${photos.length>0 && photos[1]})`}}></div>\n              <div className=\"square bcB\" style={{backgroundImage: `url(${photos.length>0 && photos[2]})`}}></div>\n           </div>\n           <div className=\"wcfpRow\"> \n              <div className=\"square bcD\" style={{backgroundImage: `url(${photos.length>0 && photos[3]})`}}></div>\n              <div className=\"square\" style={{backgroundImage: `url(${photos.length>0 && photos[4]})`}}></div>\n              <div className=\"square bcC\" style={{backgroundImage: `url(${photos.length>0 && photos[5]})`}}></div>\n           </div>            \n        </div>\n    )\n}\n\nexport default WidgetsPhoto\n","import React, {useState, useEffect} from 'react'\nimport {useParams} from 'react-router'\nimport WidgetsTrends from '../WidgetsTrends/WidgetsTrends'\nimport WidgetsFollow from '../WidgetsFollow/WidgetsFollow'\nimport WidgetsPhoto from '../WidgetsPhoto/WidgetsPhoto'\nimport SearchWidget from '../../elements/SearchWidget/SearchWidget'\n\nimport db from '../../firebase'\nimport '../Widgets/Widgets.css'\n\nconst Widgets = () => {\n   const {username} = useParams()\n   const [posts, setPosts] = useState([])\n   const [text, setText] = useState('')\n   const [profile, setProfile] = useState(null)\n\n    useEffect(() => {\n      db.collection('users').where('username', '==', username).onSnapshot(snapshot=>{\n        setProfile(snapshot.docs.map(doc=>({\n          id: doc.id,\n          ...doc.data()\n        }))[0])\n      })\n    }, [username])\n\n\n    useEffect(() => {\n        if(profile){\n            db.collection('posts')\n            .where('senderId', '==', profile.id)\n            .orderBy('timestamp', 'desc')\n            .onSnapshot(snapshot=> {\n                setPosts(snapshot.docs.map(doc => doc.data()))\n            }) \n        }\n    }, [profile])\n\n\n    return (\n        <div className='widgets'>\n\n           <SearchWidget \n               value={text} \n               onChange = {(e)=>setText(e.target.value)}\n               onClick={()=>setText('')}           \n               placeholder='Search Twittie' \n            />\n\n            { posts.length>0 && <WidgetsPhoto posts={posts}/>}\n\n            <WidgetsFollow />\n\n            <WidgetsTrends />\n            \n        </div>\n    )\n}\n\nexport default Widgets\n","import React, {useEffect, useState} from 'react'\nimport {useHistory, useParams} from 'react-router'\nimport TabbarMenu from '../../elements/TabbarMenu/TabbarMenu'\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined'\nimport UserItemFollow from '../UserItem/UserItemFollow'\nimport db from '../../firebase'                                                                                                                                                                    // import {useStateValue} from '../../contexts/StateContextProvider'\nimport './ProfileFollow.css'\n\nconst ProfileFollow = () => {\n   const history = useHistory()\n   const {username} = useParams()\n   const [following, setFollowing] = useState([]) \n   const [followers, setFollowers] = useState([])\n\n   const [profile, setProfile] = useState({})\n   const [posts, setPosts] = useState([])\n\n   useEffect(() => {\n      if(username){\n         db.collection('users').where('username', '==', username).onSnapshot(snapshot=>{\n         setProfile(snapshot.docs.map(doc=>({\n            id: doc.id,\n            ...doc.data()\n         }))[0])\n         })         \n      }\n   }, [])\n\n\n   useEffect(() => {\n   if(profile.id){\n      db.collection('posts')\n      .where('senderId', '==', profile.id)\n      .orderBy('timestamp', 'desc')\n      .onSnapshot(snapshot=> {\n      setPosts(snapshot.docs.map(doc => doc.data()))\n      })          \n   }\n   }, [profile])\n\n\n   useEffect(() => {\n      if(profile.id){\n         console.log(profile.displayName, profile.id)\n         db.collection('users').where('followers', 'array-contains', profile.id)\n         .onSnapshot(snapshot=> {\n         setFollowing(snapshot.docs.map(doc => ({\n            id: doc.id,\n            ...doc.data()})))\n         }) \n\n         db.collection('users').where('following', 'array-contains', profile.id)\n         .onSnapshot(snapshot=> {\n         setFollowers(snapshot.docs.map(doc => ({\n            id: doc.id,\n            ...doc.data()})))\n         }) \n      }\n\n   }, [profile])\n\n   console.log(following)\n   console.log(followers)\n\n\n    const items = [\n        {\n            id: 0,\n            title:'Followers',\n            item: <ul>\n                     {followers && followers.map(user=>{\n                        return  <li key={user.id}> <UserItemFollow display={user}/></li>\n                     })}\n                  </ul>\n        },\n        {\n            id: 1,\n            title: 'Following',\n            item: <ul>\n                     {following && following.map(user=>{\n                        return  <li key={user.id}> <UserItemFollow display={user}/></li>\n                     })}\n                  </ul>\n        }\n    ]\n\n    return (\n        <div className='feed'>\n           <div className=\"pro\">\n              <div className=\"profile__backArrow\" onClick={()=>history.goBack()}>\n                 <ArrowBackOutlinedIcon />\n              </div>\n              <div className='profile__title'>\n                <div className='profile__title_title'><h2>{profile.displayName}</h2><CheckCircleIcon /></div>        \n                <span>{ posts.length>0 ?`${posts.length} tweets`: ''}</span>\n              </div>\n           </div>\n\n           <TabbarMenu items={items}/>\n\n        </div>\n    )\n}\n\nexport default ProfileFollow\n","import React, {useState, useEffect} from 'react'\nimport {Avatar, Button} from '@material-ui/core'\nimport {useParams, useHistory} from 'react-router'\nimport { Timeline } from '@material-ui/lab'\nimport TimelineItem from '@material-ui/lab/TimelineItem'\nimport TimelineSeparator from '@material-ui/lab/TimelineSeparator'\nimport TimelineConnector from '@material-ui/lab/TimelineConnector'\nimport TimelineContent from '@material-ui/lab/TimelineContent'\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser'\n\nimport Popover from '@material-ui/core/Popover'\nimport Picker from 'emoji-picker-react'\nimport Spinner from '../../elements/Spinner/Spinner'\nimport StatusInput from '../StatusInput/StatusInput'\nimport Modal from '../../elements/Modal/Modal'\nimport TabbarMenu from '../../elements/TabbarMenu/TabbarMenu'\nimport CropPhoto from '../EditPhoto/CropPhotoB'\nimport AddALT from '../EditPhoto/AddALT'\n\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport ImageOutlinedIcon from '@material-ui/icons/ImageOutlined'\nimport SentimentSatisfiedOutlinedIcon from '@material-ui/icons/SentimentSatisfiedOutlined'\nimport EqualizerOutlinedIcon from '@material-ui/icons/EqualizerOutlined'\nimport EventNoteSharpIcon from '@material-ui/icons/EventNoteSharp'\nimport GifOutlinedIcon from '@material-ui/icons/GifOutlined'\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined'\nimport CropIcon from '@material-ui/icons/Crop'\n\nimport db from '../../firebase'\nimport firebase from 'firebase'\nimport util from '../../helpers/timeDifference'\nimport {getInfo} from '../../helpers/getImageDimension'\nimport postToCloudinary from '../../helpers/postToCloudinary'\nimport {generateAltText} from '../../helpers/generateAltText'\nimport {convertTimestampToLocaleString} from '../../helpers/convertTimestampToLocaleString'\n\nimport '../Reply/Reply.css'\n\nconst ReplyComment = ({props, profile, ownProfile, setIsOpenParentModal, originalPostSender}) => {\n    const {displayName, username, photoURL, verified} = profile\n    const {timestamp, text, image, altText, commentId} = props\n    const date = convertTimestampToLocaleString(timestamp)\n    const history = useHistory()\n    const {postId} = useParams()\n\n    const [anchorEl, setAnchorEl] = useState(null)\n    const [isLoading, setIsloading] = useState(false)\n\n    const open = Boolean(anchorEl)\n    const id = open ? 'post-popover' : undefined\n    const onClickEmoticon = (event) => setAnchorEl(event.currentTarget)\n    const handleClose = () => setAnchorEl(null)\n\n    const [commentMessage, setCommentMessage] = useState('')\n    const onChangeComment = (e) => setCommentMessage(e.target.value)\n\n    const [src, setSrc] = useState(null)\n    const [imageToSend, setImageToSend] = useState(null)\n    const [initialImageSize, setinitialImageSize] = useState({width: 0, height: 0})\n    const [initialAspectRatio, setinitialAspectRatio] = useState(null)\n    const [croppedImageResult, setCroppedImageResult ] = useState(null)\n    const [isOpenModal, setIsOpenModal] = useState(false)\n    const [commentAltText, setCommentAltText] = useState(generateAltText(ownProfile.displayName))\n\n    const onEmojiClick = (event, emojiObject) => {\n        let newComment = commentMessage + emojiObject.emoji\n        setCommentMessage(newComment)\n    }\n\n    const onSelectFile = e => {\n        const fileReader = new FileReader()\n        fileReader.onloadend = () => {\n            setSrc(fileReader.result)\n            setImageToSend(fileReader.result)\n        }   \n        fileReader.readAsDataURL(e.target.files[0])\n        getInfo(e).then(res=> {\n            setinitialImageSize({width: res.width, height: res.height})\n        })\n    }\n\n    useEffect(() => {\n        setinitialAspectRatio(initialImageSize.width/initialImageSize.height)\n    }, [initialImageSize])\n\n    const changeSrc = () => {\n        setSrc(URL.createObjectURL(croppedImageResult))\n        setImageToSend(croppedImageResult)\n    }\n\n    const callbackforModal = () =>{\n        changeSrc()\n        if (commentAltText.length === 0){\n            setCommentAltText(generateAltText(displayName))\n        }\n    }\n\n    const items = [\n        {\n            id: 0,\n            title:'',\n            icon: <CropIcon />,\n            item: <CropPhoto \n                    image={src} \n                    setCroppedImageResult ={setCroppedImageResult} \n                    initialAspectRatio    = {initialAspectRatio}\n            />\n        },\n        {\n            id: 1,\n            title: 'ALT',\n            icon: '',\n            item: <AddALT image={croppedImageResult} altText={commentAltText} setCommentAltText={setCommentAltText}/>\n        }\n    ]\n\n    useEffect(() => {\n        var textarea = document.querySelector('textarea')\n        textarea.addEventListener('keydown', autosize)\n                    \n        function autosize(){\n        var el = this\n        setTimeout(function(){\n            el.style.cssText = 'height:auto padding:0'\n            el.style.cssText = 'height:' + el.scrollHeight + 'px'\n        },0)\n        }\n    }, [])\n\n    const sendComment = (e) => {\n        e.preventDefault()\n        setIsloading(true)\n\n        if(imageToSend){\n            postToCloudinary(imageToSend)\n            .then( res=>{\n\n                db.collection('posts')\n                .doc(postId)\n                .collection('comments')\n                .doc(commentId)\n                .collection('threadComments')\n                .add({\n                    commentAltText  : commentAltText,\n                    text            : commentMessage,\n                    image           : res,\n                    likes           : [],\n                    senderId        : ownProfile.id,\n                    timestamp       : firebase.firestore.FieldValue.serverTimestamp()\n                })\n\n                    setCommentMessage('')\n                    setCommentAltText('')\n                    setSrc(null)\n                    setIsloading(false)\n                    setIsOpenParentModal(false) \n                    history.push(`/status/${postId}/${commentId}`)\n            })\n            .catch( error=> {\n                console.log(error)\n                setIsloading(false)\n                return\n            })\n\n        } else {\n\n            db.collection('posts')\n            .doc(postId)\n            .collection('comments')\n            .doc(commentId)\n            .collection('threadComments')\n            .add({\n                commentAltText  : '',\n                text            : commentMessage,\n                image           : '',\n                likes           : [],\n                senderId        : ownProfile.id,\n                timestamp       : firebase.firestore.FieldValue.serverTimestamp()\n            })\n\n                setCommentMessage('')\n                setCommentAltText('')\n                setSrc(null)\n                setIsloading(false)\n                setIsOpenParentModal(false) \n                history.push(`/status/${postId}/${commentId}`)\n\n        }\n    }\n\n    return (\n        <>\n            <Modal  open={isOpenModal} \n                    onClose={()=>setIsOpenModal(false)}\n                    title=\"Edit Photo\"\n                    callback = {callbackforModal}\n                    Icon = {ArrowBackOutlinedIcon}\n                    ButtonText='Save'\n                    setIsOpenParentModal = {setIsOpenParentModal}\n                    >\n                    <TabbarMenu items={items}/>\n            </Modal>\n\n            <div className=\"reply\">\n                <Timeline>\n                <TimelineItem>\n                    <TimelineSeparator> \n                        <Avatar src={photoURL} />\n                        <TimelineConnector />\n                    </TimelineSeparator>\n                    <TimelineContent>\n                        <div className=\"post__body upped\">\n                            <div className=\"post__header\">\n                                <div className=\"post__headerText\">\n                                    <h3>{displayName} {' '}\n                                        <span className='post__headerSpecial'> \n                                            {verified && <VerifiedUserIcon className='post__badge'/>} \n                                            {`@${username} . ${timestamp && util.timeDiff(date)}`}\n                                        </span>\n                                    </h3>\n                                </div>\n\n                                <div className=\"post__headerDescription\"> <p> {text} </p></div>\n                            </div>\n                            { image.length>0 && <img src={image} alt={altText}/> }\n                            <span className='replyingTo'>Replying to <p>{`@${username} @${originalPostSender && originalPostSender.username}`}</p></span>\n                        </div>\n                    </TimelineContent>\n                </TimelineItem>\n\n                <TimelineItem>\n                    <TimelineSeparator>\n                    <Avatar src={ownProfile.photoURL} />\n                    </TimelineSeparator>\n                    <TimelineContent>\n                        <form onSubmit={sendComment}>\n                            <div className='tweetBox__input upped'>\n                                <textarea rows='1' \n                                        placeholder = 'Tweet your reply'\n                                        type        = 'text' \n                                        value       = {commentMessage}\n                                        onChange    = {onChangeComment}                            \n                                >\n                                </textarea>\n                            </div> \n\n                            {\n                                src &&\n                                    <div className='tweetBox__input-image'>\n                                        <CancelIcon className='cancelIcon' onClick={()=>setSrc(null)}/>\n                                        <img src={src} alt=\"new test\"/>               \n                                        <Button className='editImage' onClick={()=>setIsOpenModal(true)}>Edit</Button>\n                                    </div>                        \n                            }\n\n                            <div className='tweetBox__input-actions'>\n                                <div className='tweetBox__input-icons'>\n                                    <StatusInput Icon={ImageOutlinedIcon} \n                                        type=\"file\"\n                                        accept=\"image/*\"\n                                        name=\"comment-image-upload\"\n                                        id=\"comment-image-upload\"\n                                        onChange={onSelectFile}\n                                    />\n                                    <StatusInput Icon={GifOutlinedIcon}/>\n                                    <StatusInput Icon={EqualizerOutlinedIcon} />\n                                    <StatusInput Icon={SentimentSatisfiedOutlinedIcon} \n                                                 aria-describedby={id} type=\"button\" onClick={onClickEmoticon} \n                                    />\n\n                                    <Popover \n                                        id={id}\n                                        open={open}\n                                        anchorEl={anchorEl}\n                                        onClose={handleClose}\n                                        anchorOrigin={{\n                                            vertical: 'top',\n                                            horizontal: 'center',\n                                        }}\n                                        transformOrigin={{\n                                            vertical: 'bottom',\n                                            horizontal: 'center',\n                                        }}\n                                        style={{borderRadius: '2rem'}}\n                                    >\n                                        <Picker onEmojiClick={onEmojiClick} />\n                                    </Popover>\n\n                                    <StatusInput Icon={EventNoteSharpIcon} />\n                                </div>\n                        \n                                    {\n                                        isLoading ? <Button className='tweetBox__tweetButton'><Spinner /></Button>\n                                        :\n                                        <Button type='submit'className='tweetBox__tweetButton'>Reply</Button>\n                                    }\n\n                                </div>\n                        </form>\n                    </TimelineContent>\n                </TimelineItem>\n                </Timeline>\n            </div>\n        </>\n    )\n}\n\nexport default ReplyComment\n","import React, {useState, forwardRef, useEffect} from 'react'\nimport {Avatar} from '@material-ui/core'\nimport {Link} from 'react-router-dom'\nimport {useHistory, useParams} from 'react-router'\n\nimport FooterIcon from '../Post/FooterIcon'\nimport ReplyComment from '../ReplyComment/ReplyComment'\nimport Like from '../Post/Like'\nimport Popover from '@material-ui/core/Popover'\nimport Modal from '../../elements/Modal/Modal'\nimport util from '../../helpers/timeDifference'\nimport {convertTimestampToLocaleString} from '../../helpers/convertTimestampToLocaleString'\n\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser'\nimport ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline'\nimport RepeatIcon from '@material-ui/icons/Repeat'\nimport PublishIcon from '@material-ui/icons/Publish'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline'\nimport BarChartIcon from '@material-ui/icons/BarChart'\nimport CodeIcon from '@material-ui/icons/Code'\nimport PlaceIcon from '@material-ui/icons/Place'\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied'\nimport BlockIcon from '@material-ui/icons/Block'\nimport PostAddIcon from '@material-ui/icons/PostAdd'\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled'\nimport PersonAddIcon from '@material-ui/icons/PersonAdd'\nimport CloseIcon from '@material-ui/icons/Close'\n\nimport '../Post/Post.css'\nimport db from '../../firebase'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport {likeComment, unlikeComment, follow, unfollow, deleteComment} from '../../server/serverActions'\n\nconst Comment = forwardRef(({\n   commentAltText,\n   text,\n   image,\n   timestamp,\n   senderId,\n   commentId,\n   likes,\n   statusUsername\n   }, ref) => {\n\n   const history = useHistory()\n   const {postId} = useParams()\n   const date = convertTimestampToLocaleString(timestamp)\n\n   const [anchorEl, setAnchorEl] = useState(null)\n   const onClickExpand= (event) => setAnchorEl(event.currentTarget)\n   const handleClose = () => setAnchorEl(null)\n   const open = Boolean(anchorEl)\n   const id = open ? 'post-popover' : undefined\n\n   const [{user}] = useStateValue()\n   const [profile, setProfile] = useState({id:'',displayName:'', photoURL: '', verified: false, username: '', followers: [], following:[]})\n   const {displayName, username, photoURL, verified} = profile\n   const [ownProfile, setOwnProfile] = useState(null)\n   const [originalPost, setOriginalPost] = useState(null)\n   const [originalPostSender, setOriginalPostSender] = useState(null)\n   \n   const [isOpenModal, setIsOpenModal] = useState(false)\n   const setIsOpenParentModal = state => setIsOpenModal(state)\n\n   const [threadComments, setThreadComments] = useState([])\n   const redirectToThread = commentId => history.push(`/status/${postId}/${commentId}`)\n\n   const [isFollowing, setIsFollowing] = useState(false)\n\n   useEffect(() => {\n      let mounted = true\n      db.collection('users').doc(user.id).onSnapshot(snapshot=>{\n         if(mounted){\n            setOwnProfile({id:user.id, ...snapshot.data()})\n         }\n      })\n\n      db.collection('users').doc(senderId).onSnapshot(snapshot=>{\n         if(mounted){\n            setProfile(snapshot.data())\n         }\n      })\n\n      db.collection('posts').doc(postId).collection('comments')\n         .doc(commentId).collection('threadComments')\n         .onSnapshot(snapshot=>{\n            if(mounted){\n               setThreadComments(snapshot.docs.map(threadComment=>({id:threadComment.id, ...threadComment.data()})))\n            }\n      })\n\n      db.collection('posts').doc(postId).onSnapshot(snapshot=>{\n         if(mounted){\n            setOriginalPost(snapshot.data())\n         }\n      })      \n\n      return () => mounted = false\n   }, [])\n\n   useEffect(() => {\n      let mounted = true\n\n      if(originalPost){\n         db.collection('users').doc(originalPost.senderId).onSnapshot(snapshot=>{\n            if(mounted){\n               setOriginalPostSender(snapshot.data())\n            }\n         })\n      }\n\n      return () => mounted = false\n\n   }, [originalPost])\n\n   useEffect(() => {\n      if(profile){\n         setIsFollowing(profile.followers.includes(user.id))\n      }\n   }, [profile])\n\n   const callbackForModal = () => {}\n\n   return (\n      <>\n         <Modal  \n            open={isOpenModal} \n            onClose={()=>setIsOpenModal(false)}\n            title=\"\"\n            callback = {callbackForModal}\n            Icon = {CloseIcon}\n            ButtonText=''\n         >\n            <ReplyComment props={{\n                  threadAlttext: commentAltText,\n                  image,\n                  timestamp,\n                  senderId,\n                  commentId,\n                  likes\n               }}\n               profile={profile}\n               ownProfile ={ownProfile}\n               setIsOpenParentModal = {setIsOpenParentModal}\n               originalPostSender = {originalPostSender}\n            />\n         </Modal>\n\n         <div className='post' ref={ref}>\n            <div className=\"post__avatar\">\n               <Avatar src={photoURL} />\n            </div>\n            <div className=\"post__body\">\n               <div className=\"post__header\">\n                  <div className=\"post__headerText\">\n                     <h3>{displayName} {' '}\n                        <span className='post__headerSpecial'> \n                              {verified && <VerifiedUserIcon className='post__badge'/>} \n                              @{`${username} . ${timestamp && util.timeDiff(date)}`}\n                        </span>\n                     </h3>\n                     <div className=\"post__headerExpandIcon\" aria-describedby={id} variant=\"contained\" onClick={onClickExpand } >\n                        <ExpandMoreIcon />\n                     </div>\n\n                     <Popover \n                        id={id}\n                        open={open}\n                        anchorEl={anchorEl}\n                        onClose={handleClose}\n\n                        anchorOrigin={{\n                           vertical: 'top',\n                           horizontal: 'right',\n                        }}\n                        transformOrigin={{\n                           vertical: 'top',\n                           horizontal: 'right',\n                        }}\n                     >\n                        <ul className=\"post__expandList\">\n                        {\n                           senderId === user.id?\n                           <>\n                              <li onClick={()=>deleteComment(postId, commentId)}>\n                                 <div className='delete'><DeleteOutlineIcon /></div><h3 className=\"delete\">Delete</h3>\n                              </li>\n                              <li>\n                                 <div><PlaceIcon /></div><h3>Pin to your profile</h3>\n                              </li>\n                              <li>\n                                 <div><CodeIcon /></div><h3>Embed Tweet</h3>\n                              </li>\n                              <li>\n                                 <div><BarChartIcon /></div><h3>View Tweet activity</h3>\n                              </li>\n                           </>\n                           :\n                           <>\n                              <li>\n                                 <div><SentimentVeryDissatisfiedIcon /></div><h3>Not interested in this tweet</h3>\n                              </li>\n                              {\n                                 isFollowing?\n                                 <li onClick={()=>unfollow(user.id, senderId)}>\n                                    <div><PersonAddDisabledIcon /></div><h3>Unfollow {`@${username}`}</h3>\n                                 </li>\n                                 : <li onClick={()=>follow(user.id, senderId)}>\n                                    <div><PersonAddIcon /></div><h3>Follow {`@${username}`}</h3>\n                                 </li>\n\n\n                              }\n                              {/* <li onClick={()=>unfollow(user.id, senderId)}>\n                                 <div><PersonAddDisabledIcon /></div><h3>Unfollow {`@${username}`}</h3>\n                              </li> */}\n                              <li>\n                                 <div><PostAddIcon /></div><h3>Add/remove from Lists</h3>\n                              </li>\n                              <li>\n                                 <div><BlockIcon /></div><h3>Block {`@${username}`}</h3>\n                              </li>\n                              <li>\n                                 <div><CodeIcon /></div><h3>Embed Tweet</h3>\n                              </li>\n                           </>\n                        }\n                        </ul>\n                     </Popover>\n                  </div>\n\n                  {statusUsername && <div className=\"post__replyingTo\">\n                     Replying To <Link to ={`/profile/${statusUsername}`}>{`@${statusUsername}`}</Link>\n                  </div>}\n\n                  <div className=\"post__headerDescription\" onClick={()=>redirectToThread(commentId)}>\n                     <p> {text} </p>\n                  </div>\n               </div>\n\n               { image.length>0 && <img src={image} alt={commentAltText} onClick={()=>redirectToThread(commentId)} />}\n\n               <div className=\"post__footer\">\n                  <FooterIcon Icon={ChatBubbleOutlineIcon} value={threadComments.length} onClick={()=>setIsOpenModal(true)}/>\n                  <FooterIcon Icon={RepeatIcon} value={0}/>\n                  <Like \n                     likes={likes} \n                     likeAction = {()=>likeComment(postId, commentId, user.id)}\n                     unlikeAction = {()=> unlikeComment(postId, commentId, user.id)}\n                  />\n                  <FooterIcon Icon={PublishIcon} value={0}/>\n               </div>\n            </div>\n\n         </div>\n      </>\n   )\n  }\n)\n\nexport default Comment\n","import React from 'react'\nimport FlipMove from 'react-flip-move'\nimport Comment from '../Comment/Comment'\n\nconst Comments = ({comments, statusUsername}) => {\n    return (\n        <>\n        <FlipMove>\n        {\n            comments.map(comment => (\n                <Comment key={comment.id}\n                        commentId = {comment.id}\n                        commentAltText = {comment.commentAltText}\n                        senderId = {comment.senderId}\n                        username = {comment.username}\n                        text = {comment.text}\n                        avatar = {comment.avatar}\n                        image = {comment.image}\n                        timestamp = {comment.timestamp}\n                        likes = {comment.likes}\n                        statusUsername = {statusUsername}\n                />\n            ))\n        }           \n        </FlipMove>\n        </>\n    )\n}\n\nexport default Comments\n","import React, {useState, useEffect} from 'react'\nimport {useParams} from 'react-router'\nimport {useHistory} from 'react-router-dom'\n\nimport Popover from '@material-ui/core/Popover'\nimport FooterIcon from '../Post/FooterIcon'\nimport Like from '../Post/Like'\nimport Reply from '../Reply/Reply'\nimport Modal from '../../elements/Modal/Modal'\n\nimport {Avatar} from '@material-ui/core'\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline'\nimport RepeatIcon from '@material-ui/icons/Repeat'\nimport PublishIcon from '@material-ui/icons/Publish'\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline'\nimport BarChartIcon from '@material-ui/icons/BarChart'\nimport CodeIcon from '@material-ui/icons/Code'\nimport PlaceIcon from '@material-ui/icons/Place'\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied'\nimport BlockIcon from '@material-ui/icons/Block'\nimport PostAddIcon from '@material-ui/icons/PostAdd'\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled'\nimport PersonAddIcon from '@material-ui/icons/PersonAdd'\nimport CloseIcon from '@material-ui/icons/Close'\n\nimport {like, unlike, follow, unfollow, deletePost} from '../../server/serverActions'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport util from '../../helpers/timeDifference'\nimport {convertTimestampToLocaleString} from '../../helpers/convertTimestampToLocaleString'\nimport db from '../../firebase'\n\nconst StatusPost = ({status, comments}) => {\n   const {postId} = useParams()\n   const [{user}] = useStateValue()\n   const [profile, setProfile] = useState({id:'',displayName:'', photoURL: '', verified: false, username: '', followers: [], following: []})\n   const {displayName, username, photoURL, verified} = profile\n   const {\n      altText,\n      text,\n      image,\n      timestamp,\n      senderId,\n      likes\n   } = status\n\n   const date = convertTimestampToLocaleString(timestamp)\n   const history = useHistory()\n\n   const [isOpenModal, setIsOpenModal] = useState(false)\n   const [anchorEl, setAnchorEl] = useState(null)\n   const onClickExpand= (event) => setAnchorEl(event.currentTarget)\n   const handleClose = () => setAnchorEl(null)\n   const open = Boolean(anchorEl)\n   const id = open ? 'post-popover' : undefined\n\n   const [isFollowing, setIsFollowing] = useState(false)\n\n   useEffect(() => {\n      let mounted = true\n      db.collection('users').doc(senderId).onSnapshot(snapshot=>{\n         if(mounted) {\n            setProfile(snapshot.data())\n         }\n      })\n\n      return () => mounted = false\n   }, [])\n\n   useEffect(() => {\n      if(profile){\n         setIsFollowing(profile.followers.includes(user.id))\n      }\n   }, [profile])\n\n   const callbackForModal = () => {}\n\n   const deleteMyPost = ()=> {\n      deletePost(postId)\n      history.push('/')\n   }\n\n   const followUser = ()=> follow(user.id, senderId)\n   const unfollowUser = ()=> unfollow(user.id, senderId)\n   const setIsOpenParentModal = state => setIsOpenModal(state)\n\n   return (\n   <>\n      <Modal  \n         open={isOpenModal} \n         onClose={()=>setIsOpenModal(false)}\n         title=\"\"\n         callback = {callbackForModal}\n         Icon = {CloseIcon}\n         ButtonText=''\n      >\n         <Reply props={{\n               altText,\n               text,\n               image,\n               timestamp,\n               senderId,\n               postId,\n               likes\n            }}\n            profile={profile}\n            ownProfile ={user}\n            setIsOpenParentModal={setIsOpenParentModal}\n         />\n      </Modal>\n\n      <div className='statusPost'>\n      <div className='post bottomWhited'>\n         <div className=\"post__avatar\">\n            <Avatar src={photoURL} />\n         </div>\n         <div className=\"post__body\">\n            <div className=\"post__header\">\n               <div className=\"post__headerText\">\n                  <div className=\"post__statusPostHeader\">\n                     <h3>{displayName} {verified && <VerifiedUserIcon className='post__badge'/>} </h3>                    \n                     <span className='post__headerSpecial'> \n                        {username && `@${username} `} \n                     </span> \n                  </div>\n\n                  <div className=\"post__headerExpandIcon\"  aria-describedby={id} variant=\"contained\" onClick={onClickExpand} >\n                     <ExpandMoreIcon />\n                  </div>\n                                          \n                  <Popover \n                     id={id}\n                     open={open}\n                     anchorEl={anchorEl}\n                     onClose={handleClose}\n                     anchorOrigin={{\n                        vertical: 'top',\n                        horizontal: 'right',\n                     }}\n                     transformOrigin={{\n                        vertical: 'top',\n                        horizontal: 'right',\n                     }}\n                  >\n                     <ul className=\"post__expandList\">\n                     {\n                        senderId === user.id?\n                        <>\n                           <li onClick={deleteMyPost}>\n                              <div className='delete'><DeleteOutlineIcon /></div><h3 className=\"delete\">Delete</h3>\n                           </li>\n                           <li>\n                              <div><PlaceIcon /></div><h3>Pin to your profile</h3>\n                           </li>\n                           <li>\n                              <div><CodeIcon /></div><h3>Embed Tweet</h3>\n                           </li>\n                           <li>\n                              <div><BarChartIcon /></div><h3>View Tweet activity</h3>\n                           </li>\n                        </>\n                        :\n                        <>\n                           <li>\n                              <div><SentimentVeryDissatisfiedIcon /></div><h3>Not interested in this tweet</h3>\n                           </li>\n                           {\n                              isFollowing?\n                                 <li onClick={unfollowUser}>\n                                 <div><PersonAddDisabledIcon /></div><h3>Unfollow {`@${username}`}</h3>\n                                 </li>\n                              : <li onClick={followUser}>\n                                 <div><PersonAddIcon /></div><h3>Follow {`@${username}`}</h3>\n                                 </li>\n                           }\n                           <li>\n                              <div><PostAddIcon /></div><h3>Add/remove from Lists</h3>\n                           </li>\n                           <li>\n                              <div><BlockIcon /></div><h3>Block {`@${username}`}</h3>\n                           </li>\n                           <li>\n                              <div><CodeIcon /></div><h3>Embed Tweet</h3>\n                           </li>\n                        </>\n                     }\n                     </ul>\n                  </Popover>\n               </div>\n            </div>\n\n         </div>\n      </div>\n\n      <div className='statusPost__body'>\n         <div className='statusPost__body--message'>{text}</div>\n            { image && <img src={image} alt={altText}/>}\n         <div className=\"statusPost__body--date\">{timestamp && util.timeDiff(date)}</div>\n      </div>\n\n      <div className=\"statusPost__footer\">\n         <div className=\"post__footer\">\n            <FooterIcon Icon={ChatBubbleOutlineIcon} value={comments.length} onClick={()=>setIsOpenModal(true)}/>\n            <FooterIcon Icon={RepeatIcon} value={0}/>\n            <Like likes={likes} \n                  likeAction= {()=>like(postId, user.id)}\n                  unlikeAction = {()=>unlike(postId, user.id)}\n            />\n            <FooterIcon Icon={PublishIcon} value={0}/>\n         </div>         \n      </div>\n\n      </div>\n   </>\n   )\n}\n\nexport default StatusPost","import React, {useState, useEffect} from 'react'\nimport {useHistory, useParams} from 'react-router'\nimport Comments from '../Comments/Comments'\nimport StatusPost from '../StatusPost/StatusPost'\nimport db from '../../firebase'\nimport Loader from '../../elements/Loader/Loader'\n\nimport '../Feed/Feed.css'\nimport './Status.css'\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined'\n\nconst Status = () => {\n    const [comments, setComments] = useState([])\n    const [status, setStatus] = useState(null)\n    const [statusUsername, setStatusUsername] = useState('')\n    const loading= false\n    const history = useHistory()\n    const {postId} = useParams()\n\n    useEffect(() => {\n      let mounted = true\n      if(postId){\n      db.collection('posts').doc(postId)\n         .onSnapshot(snapshot=>{\n            if(mounted){\n               setStatus({...snapshot.data()})\n            }\n      })\n\n      db.collection('posts').doc(postId).collection('comments')\n         .orderBy('timestamp', 'desc')\n         .onSnapshot(snapshot=>{\n            if(mounted){\n               setComments(snapshot.docs.map(comment=>({id:comment.id, ...comment.data()})))\n            }\n         })\n      }\n\n      return () => mounted = false\n\n    }, [postId])\n\n    useEffect(() => {\n      let mounted = true\n      if(status){\n         db.collection('users').doc(status.senderId).onSnapshot(snapshot=>{\n            if(mounted){\n               setStatusUsername(snapshot.data().username)\n            }\n         })\n      }\n\n      return () => mounted = false\n\n    }, [status])\n\n    return (\n        <div className='feed'>\n           <div className=\"status__header\">\n              <div className=\"status__backArrow\" onClick={()=>history.goBack()}>\n                 <ArrowBackOutlinedIcon />\n              </div>\n              <h2>Tweet</h2>          \n           </div>\n           \n           {status && <StatusPost status={status} comments={comments}/>} \n\n           { loading && <div className=\"feed__loader\"><Loader/></div> }\n\n           <Comments comments={comments} statusUsername={statusUsername} />\n\n        </div>\n    )\n}\n\nexport default Status\n","import React, {useState, forwardRef, useEffect} from 'react'\nimport {Link} from 'react-router-dom'\nimport {Avatar} from '@material-ui/core'\nimport {useParams} from 'react-router'\n\nimport Popover from '@material-ui/core/Popover'\nimport util from '../../helpers/timeDifference'\nimport {convertTimestampToLocaleString} from '../../helpers/convertTimestampToLocaleString'\n\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline'\nimport BarChartIcon from '@material-ui/icons/BarChart'\nimport CodeIcon from '@material-ui/icons/Code'\nimport PlaceIcon from '@material-ui/icons/Place'\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied'\nimport BlockIcon from '@material-ui/icons/Block'\nimport PostAddIcon from '@material-ui/icons/PostAdd'\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled'\n\n\nimport '../Post/Post.css'\nimport db from '../../firebase'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport {unfollow, deleteThreadComment} from '../../server/serverActions'\n\nconst ThreadComment = forwardRef(({\n   commentAltText,\n   text,\n   image,\n   timestamp,\n   senderId,\n   threadCommentId,\n   likes,\n   statusUsername,\n   originalPostUsername\n   }, ref) => {\n\n   const {postId, commentId} = useParams()\n   const date = convertTimestampToLocaleString(timestamp)\n\n   const [anchorEl, setAnchorEl] = useState(null)\n   const onClickExpand= (event) => setAnchorEl(event.currentTarget)\n   const handleClose = () => setAnchorEl(null)\n   const open = Boolean(anchorEl)\n   const id = open ? 'post-popover' : undefined\n\n   const [{user}] = useStateValue()\n   const [profile, setProfile] = useState({id:'',displayName:'', photoURL: '', verified: false, username: ''})\n   const {displayName, username, photoURL, verified} = profile\n\n   useEffect(() => {\n      db.collection('users').doc(senderId).onSnapshot(snapshot=>{\n         setProfile(snapshot.data())\n      })\n   }, [])\n\n   const deleteMyThreadComment = (postId, commentId, threadCommentId) => {\n       deleteThreadComment(postId, commentId, threadCommentId)\n   }\n\n   return (\n      <>\n         <div className='post' ref={ref}>\n            <div className=\"post__avatar\">\n               <Avatar src={photoURL} />\n            </div>\n            <div className=\"post__body\">\n               <div className=\"post__header\">\n                  <div className=\"post__headerText\">\n                     <h3>{displayName} {' '}\n                        <span className='post__headerSpecial'> \n                            {verified && <VerifiedUserIcon className='post__badge'/>} \n                            @{`${username} . ${timestamp && util.timeDiff(date)}`}\n                        </span>\n                     </h3>\n                     <div className=\"post__headerExpandIcon\" aria-describedby={id} variant=\"contained\" onClick={onClickExpand } >\n                        <ExpandMoreIcon />\n                     </div>\n\n                     <Popover \n                        id={id}\n                        open={open}\n                        anchorEl={anchorEl}\n                        onClose={handleClose}\n\n                        anchorOrigin={{\n                           vertical: 'top',\n                           horizontal: 'right',\n                        }}\n                        transformOrigin={{\n                           vertical: 'top',\n                           horizontal: 'right',\n                        }}\n                     >\n                        <ul className=\"post__expandList\">\n                        {\n                           senderId === user.id?\n                           <>\n                              <li onClick={()=>deleteMyThreadComment(postId, commentId, threadCommentId)}>\n                                 <div className='delete'><DeleteOutlineIcon /></div><h3 className=\"delete\">Delete</h3>\n                              </li>\n                              <li>\n                                 <div><PlaceIcon /></div><h3>Pin to your profile</h3>\n                              </li>\n                              <li>\n                                 <div><CodeIcon /></div><h3>Embed Tweet</h3>\n                              </li>\n                              <li>\n                                 <div><BarChartIcon /></div><h3>View Tweet activity</h3>\n                              </li>\n                           </>\n                           :\n                           <>\n                              <li>\n                                 <div><SentimentVeryDissatisfiedIcon /></div><h3>Not interested in this tweet</h3>\n                              </li>\n                              <li onClick={()=>unfollow(user.id, senderId)}>\n                                 <div><PersonAddDisabledIcon /></div><h3>Unfollow {`@${username}`}</h3>\n                              </li>\n                              <li>\n                                 <div><PostAddIcon /></div><h3>Add/remove from Lists</h3>\n                              </li>\n                              <li>\n                                 <div><BlockIcon /></div><h3>Block {`@${username}`}</h3>\n                              </li>\n                              <li>\n                                 <div><CodeIcon /></div><h3>Embed Tweet</h3>\n                              </li>\n                           </>\n                        }\n                        </ul>\n                     </Popover>\n                  </div>\n\n                  {statusUsername && <div className=\"post__replyingTo\">\n                     Replying To \n                     <Link to={`/profile/${statusUsername}`}>{`@${statusUsername} `}</Link>\n                     <Link to={`/profile/${originalPostUsername}`}>{`@${originalPostUsername}`}</Link>\n                  </div>}\n\n                  <div className=\"post__headerDescription\">\n                     <p> {text} </p>\n                  </div>\n               </div>\n\n               { image.length>0 && <img src={image} alt={commentAltText} />}\n\n            </div>\n\n         </div>\n      </>\n   )\n  }\n)\n\nexport default ThreadComment\n","import React from 'react'\nimport FlipMove from 'react-flip-move'\nimport ThreadComment from '../ThreadComment/ThreadComment'\n\nconst ThreadComments = ({comments, statusUsername, originalPostUsername}) => {\n    return (\n        <FlipMove>\n        {\n            comments.map(comment => (\n                <ThreadComment key={comment.id}\n                        threadCommentId = {comment.id}\n                        commentAltText = {comment.commentAltText}\n                        senderId = {comment.senderId}\n                        username = {comment.username}\n                        text = {comment.text}\n                        avatar = {comment.avatar}\n                        image = {comment.image}\n                        timestamp = {comment.timestamp}\n                        likes = {comment.likes}\n                        statusUsername = {statusUsername}\n                        originalPostUsername = {originalPostUsername}\n            />\n            ))\n        }           \n        </FlipMove>\n    )\n}\n\nexport default ThreadComments\n","import React, {useState, useEffect} from 'react'\nimport {Link} from 'react-router-dom'\nimport {useParams} from 'react-router'\nimport {useHistory} from 'react-router-dom'\n\nimport Popover from '@material-ui/core/Popover'\nimport FooterIcon from '../Post/FooterIcon'\nimport Like from '../Post/Like'\nimport ReplyComment from '../ReplyComment/ReplyComment'\nimport Modal from '../../elements/Modal/Modal'\n\nimport {Avatar} from '@material-ui/core'\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline'\nimport RepeatIcon from '@material-ui/icons/Repeat'\nimport PublishIcon from '@material-ui/icons/Publish'\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline'\nimport BarChartIcon from '@material-ui/icons/BarChart'\nimport CodeIcon from '@material-ui/icons/Code'\nimport PlaceIcon from '@material-ui/icons/Place'\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied'\nimport BlockIcon from '@material-ui/icons/Block'\nimport PostAddIcon from '@material-ui/icons/PostAdd'\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled'\nimport PersonAddIcon from '@material-ui/icons/PersonAdd'\nimport CloseIcon from '@material-ui/icons/Close'\n\nimport {likeComment, unlikeComment, follow, unfollow, deleteComment} from '../../server/serverActions'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport util from '../../helpers/timeDifference'\nimport {convertTimestampToLocaleString} from '../../helpers/convertTimestampToLocaleString'\nimport db from '../../firebase'\n\nconst CommentPost = ({status, comments}) => {\n    const {postId, commentId} = useParams()\n    const [{user}] = useStateValue()\n    const [originalPost, setOriginalPost] = useState(null)\n    const [originalPostSender, setOriginalPostSender] = useState(null)\n    const [profile, setProfile] = useState({id:'',displayName:'', photoURL: '', verified: false, username: '', followers:[], following:[]})\n    const {displayName, username, photoURL, verified} = profile\n    const [ownProfile, setOwnProfile] = useState(null)\n    const {\n        commentAltText,\n        text,\n        image,\n        timestamp,\n        senderId,\n        likes\n    } = status\n\n   const date = convertTimestampToLocaleString(timestamp)\n   const history = useHistory()\n\n   const [isOpenModal, setIsOpenModal] = useState(false)\n   const [anchorEl, setAnchorEl] = useState(null)\n   const onClickExpand= (event) => setAnchorEl(event.currentTarget)\n   const handleClose = () => setAnchorEl(null)\n   const open = Boolean(anchorEl)\n   const id = open ? 'post-popover' : undefined\n\n   const [isFollowing, setIsFollowing] = useState(false)\n\n   useEffect(() => {\n      let mounted = true\n      db.collection('users').doc(user.id).onSnapshot(snapshot=>{\n         if(mounted){\n            setOwnProfile({id:user.id, ...snapshot.data()})\n         }\n      })\n\n      db.collection('users').doc(senderId).onSnapshot(snapshot=>{\n         if(mounted){\n            setProfile(snapshot.data())\n         }\n      })\n\n      db.collection('posts').doc(postId).onSnapshot(snapshot=>{\n         if(mounted){\n          setOriginalPost(snapshot.data())\n         }\n      })\n\n      return () => mounted = false\n\n   }, [])\n\n   useEffect(() => {\n      let mounted = true\n      if (originalPost){\n         db.collection('users').doc(originalPost.senderId).onSnapshot(snapshot=>{\n            if(mounted){\n             setOriginalPostSender(snapshot.data())\n            }\n         })\n      }\n\n      return () => mounted = false\n\n   }, [originalPost])\n\n   useEffect(() => {\n      if(profile){\n         setIsFollowing(profile.followers.includes(user.id))\n      }\n   }, [profile])\n\n   const callbackForModal = () => {}\n\n   const deleteMyComment = (postId, commentId)=> {\n       deleteComment(postId, commentId)\n       history.push(`/status/${postId}`)\n    }\n\n    const unfollowUser = ()=> unfollow(user.id, senderId)\n\n    const followUser = ()=> follow(user.id, senderId)\n\n    const setIsOpenParentModal = state => setIsOpenModal(state)\n\n    return (\n      <>\n         <Modal  \n            open={isOpenModal} \n            onClose={()=>setIsOpenModal(false)}\n            title=\"\"\n            callback = {callbackForModal}\n            Icon = {CloseIcon}\n            ButtonText=''\n         >\n            <ReplyComment props={{\n                  threadAltText: commentAltText,\n                  text,\n                  image,\n                  timestamp,\n                  senderId,\n                  postId,\n                  likes,\n                  commentId\n               }}\n               profile = {profile}\n               ownProfile = {ownProfile}\n               originalPostSender = {originalPostSender}\n               setIsOpenParentModal={setIsOpenParentModal}\n            />\n         </Modal>\n\n        <div className='statusPost'>\n         <div className='post bottomWhited'>\n            <div className=\"post__avatar\">\n               <Avatar src={photoURL} />\n            </div>\n            <div className=\"post__body\">\n               <div className=\"post__header\">\n                  <div className=\"post__headerText\">\n                     <div className=\"post__statusPostHeader\">\n                        <h3>{displayName} {verified && <VerifiedUserIcon className='post__badge'/>} </h3>                    \n                        <span className='post__headerSpecial'> \n                            {username && `@${username} `} \n                        </span> \n                     </div>\n\n                     <div className=\"post__headerExpandIcon\"  aria-describedby={id} variant=\"contained\" onClick={onClickExpand} >\n                        <ExpandMoreIcon />\n                     </div>\n                                            \n                     <Popover \n                        id={id}\n                        open={open}\n                        anchorEl={anchorEl}\n                        onClose={handleClose}\n                        anchorOrigin={{\n                           vertical: 'top',\n                           horizontal: 'right',\n                        }}\n                        transformOrigin={{\n                           vertical: 'top',\n                           horizontal: 'right',\n                        }}\n                     >\n                        <ul className=\"post__expandList\">\n                        {\n                           senderId === user.id?\n                           <>\n                              <li onClick={()=>deleteMyComment(postId, commentId)}>\n                                 <div className='delete'><DeleteOutlineIcon /></div><h3 className=\"delete\">Delete</h3>\n                              </li>\n                              <li>\n                                 <div><PlaceIcon /></div><h3>Pin to your profile</h3>\n                              </li>\n                              <li>\n                                 <div><CodeIcon /></div><h3>Embed Tweet</h3>\n                              </li>\n                              <li>\n                                 <div><BarChartIcon /></div><h3>View Tweet activity</h3>\n                              </li>\n                           </>\n                           :\n                           <>\n                              <li>\n                                 <div><SentimentVeryDissatisfiedIcon /></div><h3>Not interested in this tweet</h3>\n                              </li>\n                              {\n                                 isFollowing?\n                                    <li onClick={unfollowUser}>\n                                       <div><PersonAddDisabledIcon /></div><h3>Unfollow {`@${username}`}</h3>\n                                    </li>\n                                 :  <li onClick={followUser}>\n                                       <div><PersonAddIcon /></div><h3>Follow {`@${username}`}</h3>\n                                    </li>\n                              }\n                              <li>\n                                 <div><PostAddIcon /></div><h3>Add/remove from Lists</h3>\n                              </li>\n                              <li>\n                                 <div><BlockIcon /></div><h3>Block {`@${username}`}</h3>\n                              </li>\n                              <li>\n                                 <div><CodeIcon /></div><h3>Embed Tweet</h3>\n                              </li>\n                           </>\n                        }\n                        </ul>\n                     </Popover>\n                  </div>\n               </div>\n\n            </div>\n         </div>\n\n         {originalPostSender && <div className=\"post__replyingTo addMoreLeftPadd\">\n           Replying To <Link to={`/profile/${username}`}>{`@${username}`}</Link>  <Link to={`/profile/${originalPostSender.username}`}>{`@${originalPostSender.username}`}</Link>\n         </div>}\n\n         <div className='statusPost__body'>\n           <div className='statusPost__body--message'>{text}</div>\n           { image && <img src={image} alt={commentAltText}/>}\n           <div className=\"statusPost__body--date\">{timestamp && util.timeDiff(date)}</div>\n         </div>\n\n         <div className=\"statusPost__footer\">\n            <div className=\"post__footer\">\n                <FooterIcon Icon={ChatBubbleOutlineIcon} value={comments.length} onClick={()=>setIsOpenModal(true)}/>\n                <FooterIcon Icon={RepeatIcon} value={0}/>\n                <Like likes={likes} \n                      likeAction= {()=>likeComment(postId, commentId, user.id)}\n                      unlikeAction = {()=>unlikeComment(postId, commentId,  user.id)}\n                />\n                <FooterIcon Icon={PublishIcon} value={0}/>\n            </div>         \n         </div>\n\n        </div>\n      </>\n    )\n}\n\nexport default CommentPost","import React, {useState, useEffect} from 'react'\nimport {useHistory, useParams} from 'react-router'\nimport ThreadComments from '../ThreadComments/ThreadComments'\nimport CommentPost from '../CommentPost/CommentPost'\nimport db from '../../firebase'\nimport Loader from '../../elements/Loader/Loader'\n\nimport '../Feed/Feed.css'\nimport '../Status/Status.css'\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined'\n\nconst Status = () => {\n    const [threadComments, setThreadComments] = useState([])\n    const [status, setStatus] = useState(null)\n    const [statusUsername, setStatusUsername] = useState('')\n    const [originalPost, setOriginalPost] = useState(null)\n    const [originalPostUsername, setOriginalPostUsername] = useState('')\n    const loading= false\n    const history = useHistory()\n    const {postId, commentId} = useParams()\n\n    useEffect(() => {\n      let mounted = true\n      if(postId){\n      db.collection('posts').doc(postId).onSnapshot(snapshot=>{\n         if(mounted){\n            setOriginalPost(snapshot.data())\n         }\n      })          \n\n      db.collection('posts').doc(postId).collection('comments').doc(commentId)\n         .onSnapshot(snapshot=>{\n            if(mounted){\n               setStatus({...snapshot.data()})\n            }\n      })\n\n      db.collection('posts').doc(postId).collection('comments').doc(commentId).collection('threadComments')\n         .orderBy('timestamp', 'desc')\n         .onSnapshot(snapshot=>{\n            if(mounted){\n               setThreadComments(snapshot.docs.map(comment=>({id:comment.id, ...comment.data()})))\n            }\n         })\n       }\n\n      return () => mounted = false\n    }, [postId])\n\n    useEffect(() => {\n      let mounted = true\n      if (originalPost){\n         db.collection('users').doc(originalPost.senderId).onSnapshot(snapshot=>{\n            if(mounted){\n            setOriginalPostUsername(snapshot.data().username)\n            }\n         })\n      }\n\n      return () => mounted = false\n    }, [originalPost])\n\n    useEffect(() => {\n      let mounted = true\n      if(status){\n         db.collection('users').doc(status.senderId).onSnapshot(snapshot=>{\n            if(mounted){\n               setStatusUsername(snapshot.data().username)\n            }\n         })\n      }\n\n      return () => mounted = false\n    }, [status])\n\n    return (\n        <div className='feed'>\n           <div className=\"status__header\">\n              <div className=\"status__backArrow\" onClick={()=>history.goBack()}>\n                 <ArrowBackOutlinedIcon />\n              </div>\n              <h2>Thread</h2>          \n           </div>\n           \n           {status && <CommentPost status={status} comments={threadComments}/>} \n\n           { loading && <div className=\"feed__loader\"><Loader/></div> }\n\n           <ThreadComments comments={threadComments} statusUsername={statusUsername} originalPostUsername={originalPostUsername} />\n\n        </div>\n    )\n}\n\nexport default Status\n\n","import React, {useState} from 'react'\n// import {useParams} from 'react-router'\nimport WidgetsTrends from '../WidgetsTrends/WidgetsTrends'\n// import WidgetsFollow from '../WidgetsFollow/WidgetsFollow'\nimport SearchWidget from '../../elements/SearchWidget/SearchWidget'\n\n// import db from '../../firebase'\nimport '../Widgets/Widgets.css'\n\nconst StatusWidget = () => {\n//    const {username} = useParams()\n//    const [posts, setPosts] = useState([])\n   const [text, setText] = useState('')\n\n    return (\n        <div className='widgets'>\n\n           <SearchWidget \n               value={text} \n               onChange = {(e)=>setText(e.target.value)}\n               onClick={()=>setText('')}           \n               placeholder='Search Twittie' \n            />\n\n            <WidgetsTrends />\n            \n        </div>\n    )\n}\n\nexport default StatusWidget","import React, {useState, useEffect} from 'react'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\nimport UserItem from '../UserItem/UserItem'\r\nimport './exploreUser.css'\r\n\r\nimport db from '../../firebase'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst SearchUser = () => {\r\n    const [search, setSearch] = useState('')\r\n       const [results, setResults] = useState([])\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    let memberList = []\r\n    let uniqueMemberList = []\r\n     let history = useHistory()\r\n    // const [uniqueMemberLists, setUniqueMemberLists] = useState(uniqueMemberList)\r\n\r\n    const onClickResult = (resUser) => {\r\n        history.push(\"/Profile/\" + resUser.username)\r\n    }\r\n  \r\n\r\n    const unsubscribe = ()=>{\r\n        setLoading(true)\r\n        const input = search.toLowerCase()\r\n        const res = db.collection('users').where('username', '==', input).get().then(result => {\r\n            if (result.empty){\r\n                setResults([])\r\n                console.log('No results')\r\n                setLoading(false)\r\n                }\r\n            else {setResults(result.docs.map(doc => ({\r\n                    id: doc.id,\r\n                    ...doc.data()\r\n                }))\r\n                // .filter(result=> !existingRooms.members.includes(result.id))\r\n                )\r\n                setLoading(false)\r\n            }\r\n        })\r\n        return res\r\n    }\r\n\r\n\r\n    \r\n    useEffect(() => {\r\n        const unsubscribe = ()=>{\r\n            setLoading(true)\r\n            const input = search.toLowerCase() \r\n            const res = db.collection('users').where('username', '==', input).get().then(result => {\r\n                if (result.empty){\r\n                    setResults([])\r\n                    console.log('No results')\r\n                    setLoading(false)\r\n                    }\r\n                else {setResults(result.docs.map(doc => ({\r\n                        id: doc.id,\r\n                        ...doc.data()\r\n                    }))\r\n                    // .filter(result=> !existingRooms.members.includes(result.id))\r\n                    )\r\n                    setLoading(false)\r\n                }\r\n            })\r\n            return res\r\n        }\r\n\r\n        return ()=> unsubscribe()\r\n    }, [search])\r\n\r\n    // useEffect(() => {\r\n    //     existingRooms.map(room=>room.members.forEach(member=> memberList.push(member)))\r\n    //     memberList.map(member=>{\r\n    //         return uniqueMemberList.indexOf(member)===-1 && uniqueMemberList.push(member)\r\n    //     })\r\n    //     setUniqueMemberLists(uniqueMemberList)\r\n    // }, [])\r\n\r\n    console.log(memberList)\r\n    console.log(uniqueMemberList)\r\n\r\n    return (\r\n        <div className=\"searchUser\">\r\n           <div className='searchUser__header'>\r\n              <div className=\"searchUser__header-search\">\r\n                <SearchIcon /> \r\n                <input type=\"text\" placeholder='Search @/#'\r\n                   value={search}\r\n                   onChange={e => setSearch(e.target.value)}\r\n                   onKeyUp={unsubscribe}\r\n                   onKeyPress={unsubscribe}\r\n                   onKeyDown={unsubscribe}\r\n                />              \r\n              </div>\r\n\r\n    \r\n           </div>\r\n\r\n           { loading &&  <LinearProgress /> }\r\n           \r\n           <div className=\"users__result\">\r\n           {\r\n               results.filter(res=>!uniqueMemberList.includes(res.id)).map(resUser => {\r\n                   return   <UserItem key={resUser.id}\r\n                                      name = {resUser.displayName}\r\n                                      username = {resUser.username}\r\n                                      photourl = {resUser.photoURL}\r\n                                      onClick = {() => onClickResult(resUser)}\r\n                                      \r\n                   />\r\n               })\r\n           }\r\n\r\n           \r\n           </div>        \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchUser\r\n","import React from 'react'\r\n import SearchUser from './exploreUser'\r\n\r\nfunction explore() {\r\n    return (\r\n        \r\n        <SearchUser />\r\n        \r\n    )\r\n}\r\n\r\nexport default explore\r\n","import React from \"react\";\nimport \"./VideoFooter.css\";\nimport MusicNoteIcon from \"@material-ui/icons/MusicNote\";\nimport Ticker from \"react-ticker\";\n\nfunction VideoFooter({ channel, description, song }) {\n  return (\n    <div className=\"videoFooter\">\n      <div className=\"videoFooter__text\">\n        <h3>@{channel}</h3>\n        <p>{description}</p>\n        <div className=\"videoFooter__ticker\">\n          <MusicNoteIcon className=\"videoFooter__icon\" />\n          <Ticker mode=\"smooth\">\n            {({ index }) => (\n              <>\n                <p>{song}</p>\n              </>\n            )}\n          </Ticker>\n        </div>\n      </div>\n      <img\n        className=\"videoFooter__record\"\n        src=\"https://static.thenounproject.com/png/934821-200.png\"\n        alt=\"\"\n      />\n    </div>\n  );\n}\n\nexport default VideoFooter;\n","import React, {useEffect, useState} from 'react'\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\r\nimport './VideoSidebar.css';\r\nimport {useStateValue} from '../../contexts/StateContextProvider'\r\n\r\nconst Like = ({likes, likeAction, unlikeAction}) => {\r\n    const [{user}] = useStateValue()\r\n    const [isLiked, setisLiked] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if(user.id && likes){\r\n            if(likes.includes(user.id)){\r\n                setisLiked(true)\r\n            } else {\r\n                setisLiked(false)\r\n            }\r\n        }\r\n    }, [likes])\r\n\r\n    return (\r\n        <div>\r\n            { isLiked?\r\n                <span onClick={unlikeAction}><FavoriteIcon/></span>\r\n            :\r\n                <FavoriteBorderIcon onClick={likeAction} />\r\n            }\r\n            <div >{(likes && likes.length>0 )&& likes.length}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Like","import React from \"react\";\nimport \"./VideoSidebar.css\";\nimport MessageIcon from \"@material-ui/icons/Message\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport {likeReels, unlikeReels } from '../../server/serverActions'\nimport Like from \"./Likes\"\nimport {useStateValue} from '../../contexts/StateContextProvider'\n\nfunction VideoSidebar({ likes, shares, messages, reelsId}) {\n  const [{user}] = useStateValue()\n  \n  return (\n    <div className=\"videoSidebar\">\n      <div className=\"videoSidebar__button\">\n      <Like \n                        unlikeAction = {()=>unlikeReels(reelsId, user.id)}\n                        likeAction = {()=>likeReels(reelsId, user.id)}\n                        likes={likes}\n                  />\n\n      </div>\n      <div className=\"videoSidebar__button\">\n        <MessageIcon fontSize=\"large\" />\n        <p>{messages}</p>\n      </div>\n      <div className=\"videoSidebar__button\">\n        <ShareIcon fontSize=\"large\" />\n        <p>{shares}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default VideoSidebar;\n","import React, { useRef, useState } from \"react\";\nimport VideoFooter from \"./VideoFooter\";\nimport VideoSidebar from \"./VideoSidebar\";\nimport \"./Video.css\";\n\nfunction Video({ url, channel, description, song, likes, messages, shares, reelsId }) {\n  const [playing, setPlaying] = useState(false);\n  const videoRef = useRef(null);\n\n  const onVideoPress = () => {\n    if (playing) {\n      videoRef.current.pause();\n      setPlaying(false);\n    } else {\n      videoRef.current.play();\n      setPlaying(true);\n    }\n  };\n\n  return (\n    <div onPointerLeave={() => { videoRef.current.pause(); \n      setPlaying(false);}} onClick={onVideoPress} className=\"video\">\n      <video\n        className=\"video__player\"\n        onLoadStart={() => { videoRef.current.play();\n          setPlaying(true);}}  onLoadedData={() => { videoRef.current.pause();\n              setPlaying(false);}}\n        loop\n        \n        ref={videoRef}\n        src={url}\n      ></video>\n      <VideoFooter channel={channel} description={description} song={song} />\n      <VideoSidebar likes={likes} messages={messages} shares={shares} reelsId={reelsId} />\n    </div>\n  );\n}\n\nexport default Video;\n","import React, { useState, useEffect } from \"react\";\nimport Video from \"./Video\";\nimport db from \"../../firebase\";\nimport \"./Shorts.css\";\nimport {useSpring, animated} from \"react-spring\"\n\nfunction Shorts() {\n  const [videos, setVideos] = useState([]);\n \n  useEffect(() => {\n    db.collection(\"reels\").onSnapshot((snapshot) =>\n      setVideos(snapshot.docs.map((doc) => ({reelsId: doc.id, ...doc.data()})))\n    );\n  }, []);\n\n  const ani = useSpring({\n    from: { x:1000,opacity:0 },\n    to: { x: 0, opacity:1 },\n    config: { duration: 300 },\n  })\n  return (\n    // BEM\n    <animated.div className=\"shorts\" style={ani}>\n      <div className=\"app__videos\">\n        {videos.map(\n          ({ url, channel, description, song, likes, messages, shares, reelsId}) => (\n            <Video\n              url={url}\n              channel={channel}\n              song={song}\n              likes={likes}\n              messages={messages}\n              description={description}\n              shares={shares}\n              reelsId={reelsId}\n            />\n          )\n        )}\n      </div>\n    </animated.div>\n  );\n}\n\nexport default Shorts;\n","import React, {useEffect} from 'react'\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom'\nimport Sidebar from './components/Sidebar/Sidebar'\nimport Feed from './components/Feed/Feed'\nimport Widgets from './components/Widgets/Widgets'\nimport SidebarChat from './components/SidebarChat/SidebarChat'\nimport Chat from './components/Chat/Chat'\nimport ConversationInfo from './components/ConversationInfo/ConversationInfo'\nimport Login from './components/Login/Login'\nimport Profile from './components/Profile/Profile'\nimport ProfileWidgets from './components/ProfileWidgets/ProfileWidgets'\nimport ProfileFollow  from './components/ProfileFollow/ProfileFollow'\nimport Status from './components/Status/Status'\nimport CommentThread from './components/CommentThread/CommentThread'\nimport StatusWidget from './components/StatusWidget/StatusWidget'\nimport Explore from './components/Explore/Explore'\nimport Shorts from './components/Shorts/Shorts'    \n\n\nimport './App.css'\n\nimport ChatContextProvider from './contexts/ChatContextProvider'\nimport {useStateValue} from './contexts/StateContextProvider'\nimport {actionTypes} from './contexts/StateReducers'\n\nconst App = () => {\n  const [{user}, dispatch] = useStateValue()\n\n  useEffect(() => {\n      dispatch({\n        type: actionTypes.SET_USER,\n        user: JSON.parse(localStorage.getItem('twittie_user'))\n      })    \n  }, [])\n\n  return (\n    <div className=\"app\">\n    {\n      user?\n      <Router>  \n        <div className=\"app__mainContent\">\n          <Sidebar />\n          <Switch>\n            <Route exact path='/'>\n                <div className=\"app__main\">\n                  <Feed />\n                  <Widgets />\n                </div>         \n            </Route>\n\n              <Route path=\"/explore\" component={Explore} />\n              <Route path=\"/shorts\" component={Shorts} />\n\n            <Route path='/messages'>\n              <ChatContextProvider>\n                <div className=\"app__main\">\n                  <SidebarChat />\n                  <Switch>\n                    <Route path='/messages/:roomId' exact>\n                      <Chat />\n                    </Route>\n                    <Route path='/messages/:roomId/info'>\n                      <ConversationInfo />\n                    </Route>\n                  </Switch>\n                </div>            \n              </ChatContextProvider>           \n            </Route>       \n\n            <Route path='/profile/:username' >\n                <div className=\"app__main\">\n                  <Switch>\n                    <Route path='/profile/:username' exact component={Profile} />\n                    <Route path='/profile/:username/followinfo' render={()=> <ProfileFollow />} />\n                  </Switch>\n                  <ProfileWidgets />\n                </div>         \n            </Route>\n\n            <Route path='/status/:postId'>\n                <div className=\"app__main\">\n                  <Switch>\n                    <Route path='/status/:postId' exact>\n                        <Status />\n                    </Route> \n                    <Route path='/status/:postId/:commentId'>\n                        <CommentThread />\n                    </Route>\n                  </Switch>\n                  <StatusWidget />\n                </div> \n            </Route>\n\n          </Switch>\n        </div>\n      </Router>\n      :\n      <Login />\n    }\n    </div>   \n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport StateContextProvider from './contexts/StateContextProvider'\nimport IsRoomOpenedContextProvider from './contexts/IsRoomOpenedContextProvider'\n\nReactDOM.render(\n    <StateContextProvider>\n        <IsRoomOpenedContextProvider>\n            <App/>\n        </IsRoomOpenedContextProvider>\n    </StateContextProvider>, \ndocument.querySelector('#root'))"],"sourceRoot":""}