(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},195:function(e,t,a){e.exports=a(268)},200:function(e,t,a){},205:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},243:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},251:function(e,t,a){},252:function(e,t,a){},253:function(e,t,a){},254:function(e,t,a){},255:function(e,t,a){},256:function(e,t,a){},257:function(e,t,a){},258:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(19),r=a.n(c),o=a(2),i=a(15),s=a(11),u=a(152),m=a.n(u),d=(a(200),a(9)),p={user:null},E="SET_USER",f=function(e,t){switch(t.type){case E:return Object(d.a)({},e,{user:t.user});default:return e}},h=Object(n.createContext)(),b=function(){return Object(n.useContext)(h)},v=function(e){var t=e.children;return l.a.createElement(h.Provider,{value:Object(n.useReducer)(f,p)},t)},g=function(e){e.active;var t=e.text,a=e.Icon,n=e.onClick,c=b(),r=Object(o.a)(c,1)[0].user,s="Home"===t,u=s?"":"Profile"===t?"".concat(t.toLowerCase(),"/").concat(r.username):t.toLowerCase();return l.a.createElement(i.c,{to:"/".concat(u),exact:s,className:"sidebarOption",activeClassName:"sidebar__active",onClick:n},l.a.createElement(a,null),l.a.createElement("h2",null,t))},O=a(326),j=a(325),_=a(30),N=a.n(_),w=a(84),S=a.n(w),y=(a(205),a(18)),C=a.n(y),k=C.a.initializeApp({apiKey:"AIzaSyBZg9A3fm_ilvkxALplE4UNxj_88Zg_xbE",authDomain:"gooraccorp.firebaseapp.com",databaseURL:"https://gooraccorp-default-rtdb.firebaseio.com",projectId:"gooraccorp",storageBucket:"gooraccorp.appspot.com",messagingSenderId:"427795909039",appId:"1:427795909039:web:e4e26013045f9e5fac075a",measurementId:"G-3H5NCWN2EM"}).firestore(),I=(C.a.auth(),new C.a.auth.GoogleAuthProvider,k),x=function(){var e=Object(s.f)(),t=b(),a=Object(o.a)(t,1)[0].user,c=Object(n.useState)(a),r=Object(o.a)(c,2),i=r[0],u=r[1],m=Object(n.useState)(null),d=Object(o.a)(m,2),p=d[0],E=d[1],f=Boolean(p),h=f?"post-popover":void 0;return Object(n.useEffect)(function(){I.collection("users").doc(a.id).onSnapshot(function(e){u(e.data())})},[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(j.a,{id:h,open:f,anchorEl:p,onClose:function(){return E(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},style:{transform:"translate(2rem, -1rem)"}},l.a.createElement("ul",{className:"post__expandList"},l.a.createElement("div",{className:"user__item nocursor"},l.a.createElement(O.a,{src:i&&i.photoURL}),l.a.createElement("div",{className:"user__details"},l.a.createElement("h2",null,i&&i.displayName),l.a.createElement("span",null,"@".concat(i&&i.username))),l.a.createElement(S.a,null)),l.a.createElement("li",{onClick:function(){localStorage.clear(),e.push("/"),window.location.reload()},className:"logoutBtn"},l.a.createElement("h3",null,"Log out @",i&&i.username)))),l.a.createElement("div",{className:"sidebarAccount__wrapper","aria-describedby":h,variant:"contained",onClick:function(e){return E(e.currentTarget)}},l.a.createElement("div",{className:"sidebarAccount__ava"},l.a.createElement(O.a,{src:i&&i.photoURL})),l.a.createElement("div",{className:"sidebarAccount__userData"},l.a.createElement("h2",null,i&&i.displayName),l.a.createElement("h2",null,i&&"@".concat(i.username))),l.a.createElement("div",{className:"sidebarAccount__expandIcon"},l.a.createElement(N.a,null))))},T=a(113),R=a.n(T),L=a(63),U=a.n(L),P=a(115),F=a.n(P),A=a(64),B=a.n(A),z=a(304),D=a(153),M=a.n(D),V=a(154),q=a.n(V),W=a(116),H=a.n(W),J={isRoomOpened:null},K="OPENING_ROOM",Z="CLOSING_ROOM",G=function(e,t){switch(t.type){case K:return{isRoomOpened:!0};case Z:return{isRoomOpened:!1};default:return e}},Y=Object(n.createContext)(),Q=function(){return Object(n.useContext)(Y)},$=function(e){var t=e.children;return l.a.createElement(Y.Provider,{value:Object(n.useReducer)(G,J)},t)},X=(a(217),function(){var e=Q(),t=Object(o.a)(e,2),a=(t[0].isRoomOpened,t[1]);return l.a.createElement("div",{className:"sidebar"},l.a.createElement(m.a,{className:"sidebar__twitterIcon"}),l.a.createElement(g,{text:"Home",Icon:R.a}),l.a.createElement(g,{text:"Explore",Icon:U.a}),l.a.createElement(g,{text:"Shorts",Icon:z.a}),l.a.createElement(g,{text:"Messages",Icon:B.a,onClick:function(){a({type:Z})}}),l.a.createElement(g,{text:"Notifications",Icon:F.a}),l.a.createElement(g,{text:"List",Icon:M.a}),l.a.createElement(g,{text:"Profile",Icon:q.a}),l.a.createElement(g,{text:"More",Icon:H.a}),l.a.createElement("button",{variant:"outlined",className:"sidebar__tweet"},l.a.createElement("div",{dir:"auto",className:"css-901oao r-1awozwy r-jwli3a r-6koalj r-18u37iz r-16y2uox r-1qd0xha r-a023e6 r-vw2c0b r-1777fci r-eljoum r-dnmrzs r-bcqeeo r-q4m81j r-qvutc0"},l.a.createElement("svg",{viewBox:"0 0 24 24",fill:"#ffffff",className:"r-jwli3a r-4qtqp9 r-yyyyoo r-1q142lx r-50lct3 r-dnmrzs r-bnwqim r-1plcrui r-lrvibr r-1srniue"},l.a.createElement("g",null,l.a.createElement("path",{d:"M8.8 7.2H5.6V3.9c0-.4-.3-.8-.8-.8s-.7.4-.7.8v3.3H.8c-.4 0-.8.3-.8.8s.3.8.8.8h3.3v3.3c0 .4.3.8.8.8s.8-.3.8-.8V8.7H9c.4 0 .8-.3.8-.8s-.5-.7-1-.7zm15-4.9v-.1h-.1c-.1 0-9.2 1.2-14.4 11.7-3.8 7.6-3.6 9.9-3.3 9.9.3.1 3.4-6.5 6.7-9.2 5.2-1.1 6.6-3.6 6.6-3.6s-1.5.2-2.1.2c-.8 0-1.4-.2-1.7-.3 1.3-1.2 2.4-1.5 3.5-1.7.9-.2 1.8-.4 3-1.2 2.2-1.6 1.9-5.5 1.8-5.7z"}))),l.a.createElement("span",{className:"css-901oao css-16my406 css-bfa6kz r-1qd0xha r-ad9z0x r-bcqeeo r-qvutc0"})),l.a.createElement("span",null,"Tweet")),l.a.createElement(x,null))}),ee=a(43),te=a(309),ae=(a(218),a(65)),ne=a.n(ae),le=function(e){var t=e.type,a=e.accept,n=e.name,c=e.id,r=(e.htmlFor,e.Icon),o=e.onChange,i=e.onClick;return l.a.createElement("div",{onClick:i},l.a.createElement("input",{type:t,accept:a,name:n,id:c,style:{display:"none"},onChange:o}),l.a.createElement("label",{htmlFor:c},l.a.createElement(r,null)))},ce=a(175),re=(a(219),a(155)),oe=a.n(re),ie=a(306),se=a(40),ue=a(321),me=a(305),de=a(307),pe=a(322),Ee=a(308);function fe(e){var t=e.children,a=e.value,n=e.index,c=Object(ce.a)(e,["children","value","index"]);return l.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},c),a===n&&l.a.createElement(ue.a,{p:3},l.a.createElement(me.a,{component:"span"},t)))}var he=Object(ie.a)(function(e){return{root:{backgroundColor:e.palette.background.paper}}});function be(e){var t=e.items,a=he(),n=Object(se.a)(),c=l.a.useState(0),r=Object(o.a)(c,2),i=r[0],s=r[1];return l.a.createElement("div",{className:"tabbarMenu ".concat(a.root)},l.a.createElement(de.a,{position:"static",color:"default"},l.a.createElement(pe.a,{value:i,onChange:function(e,t){s(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"crop and edit image"},t.map(function(e){return l.a.createElement(Ee.a,Object.assign({key:e.id,icon:e.icon,label:e.title},(t=e.id,{id:"full-width-tab-".concat(t),"aria-controls":"full-width-tabpanel-".concat(t)})));var t}))),l.a.createElement(oe.a,{axis:"rtl"===n.direction?"x-reverse":"x",index:i,onChangeIndex:function(e){s(e)}},t.map(function(e){return l.a.createElement(fe,{value:i,index:e.id,dir:n.direction,key:e.id},e.item)})))}var ve=function(e){return new Promise(function(t,a){var n;console.log(e);var l=new FormData;l.append("file",e),l.append("upload_preset","inscatgram"),l.append("cloud_name","smilj4npj4nic"),fetch("https://api.cloudinary.com/v1_1/smilj4npj4nic/image/upload",{method:"post",body:l}).then(function(e){return e.json()}).then(function(e){return n=e.url,console.log(n),t(n)}).catch(function(e){return a(e)})})},ge=a(39),Oe=a.n(ge),je=a(60),_e=function(e){return new Promise(function(t,a){var n=new Image;n.onload=function(){var e=n.naturalWidth,a=n.naturalHeight;t({width:e,height:a})},n.onerror=function(){a("There was some problem with the image.")},n.src=URL.createObjectURL(e)})},Ne=function(){var e=Object(je.a)(Oe.a.mark(function e(t){var a,n,l;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files,n=Object(o.a)(a,1),l=n[0],e.prev=2,e.next=5,_e(l);case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),we=function(e,t){var a=new Date;return"A photo shared by ".concat(e," on ").concat(a.getMonth()+1," ").concat(a.getDate(),", ").concat(a.getFullYear())},Se=a(156),ye=a.n(Se),Ce=(a(242),a(243),function(e){var t=e.open,a=e.onClose,n=e.title,c=e.callback,r=e.children,o=e.Icon,i=e.ButtonText;return l.a.createElement(ye.a,{open:t,onClose:a},l.a.createElement("div",{className:"modal__header"},l.a.createElement("div",{className:"backIcon"},l.a.createElement(o,{onClick:a})),l.a.createElement("h2",null,n),i.length>0&&l.a.createElement(te.a,{onClick:function(){c(),a()}},i)),r)}),ke=function(){return l.a.createElement("i",{className:"fa fa-spinner fa-spin"})},Ie=a(23),xe=a(32),Te=a(34),Re=a(20),Le=a(33),Ue=a(157),Pe=a.n(Ue),Fe=(a(244),a(245),a(310)),Ae=a(327),Be=a(158),ze=a.n(Be),De=a(159),Me=a.n(De),Ve=Object(ie.a)({root:{minWidth:100}});function qe(e){var t=e.val,a=e.setVal,n=Ve();return l.a.createElement("div",{className:n.root},l.a.createElement(Fe.a,{container:!0,spacing:2},l.a.createElement(Fe.a,{item:!0},l.a.createElement(ze.a,null)),l.a.createElement(Fe.a,{item:!0,xs:!0},l.a.createElement(Ae.a,{value:t,onChange:function(e,t){a(t)},min:1,max:100,"aria-labelledby":"continuous-slider"})),l.a.createElement(Fe.a,{item:!0},l.a.createElement(Me.a,null))))}var We=a(161),He=a.n(We),Je=a(162),Ke=a.n(Je),Ze=a(160),Ge=a.n(Ze),Ye=function(e){function t(){var e,a;Object(Ie.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(Te.a)(this,(e=Object(Re.a)(t)).call.apply(e,[this].concat(l)))).state={src:null,crop:{unit:"%",width:30,height:30,aspect:null},originalImageSize:null,croppedImageUrl:null,zoomScale:1},a.onImageLoaded=function(e){a.imageRef=e},a.onCropChange=function(e){a.setState({crop:e})},a.onCropComplete=function(){var e=Object(je.a)(Oe.a.mark(function e(t){var n;return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.imageRef&&t.width&&t.height)){e.next=5;break}return e.next=3,a.getCroppedImg(a.imageRef,t);case 3:n=e.sent,a.setState({croppedImageUrl:n});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onChangeAspectRatio=function(e){a.setState({crop:Object(d.a)({},a.state.crop,{aspect:e})})},a.onChangeZoomScale=function(e){a.setState({zoomScale:e})},a}return Object(Le.a)(t,e),Object(xe.a)(t,[{key:"getCroppedImg",value:function(e,t){var a=this,n=document.createElement("canvas"),l=e.naturalWidth/e.width,c=e.naturalHeight/e.height;n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,t.x*l,t.y*c,t.width*l,t.height*c,0,0,t.width,t.height);var r=new FileReader;n.toBlob(function(e){r.readAsDataURL(e),r.onloadend=function(){a.dataURLtoFile(r.result,"cropped.jpg")}})}},{key:"dataURLtoFile",value:function(e,t){for(var a=e.split(","),n=a[0].match(/:(.*?)/)[1],l=atob(a[1]),c=l.length,r=new Uint8Array(c);c--;)r[c]=l.charCodeAt(c);var o=new File([r],t,{type:n});this.setState({croppedImage:o})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.image,a=e.initialAspectRatio;this.setState({src:t,originalImageSize:a})}},{key:"componentDidUpdate",value:function(e,t){if(t.croppedImage!==this.state.croppedImage&&this.props.setCroppedImageResult(this.state.croppedImage),t.zoomScale!==this.state.zoomScale){var a=1+2/99*(this.state.zoomScale-1);document.querySelector(".cropImage__wrapper .ReactCrop__image").style.transform="scale(".concat(a,")")}}},{key:"render",value:function(){var e=this,t=this.state,a=t.crop,n=t.src,c=t.originalImageSize;return l.a.createElement("div",{className:"cropImage__wrapper"},l.a.createElement("div",{className:"cropImage__imageSelection"},n&&l.a.createElement(Pe.a,{src:n,crop:a,ruleOfThirds:!0,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange,style:{width:"100%"}}),n&&l.a.createElement("div",{className:"cropImage__changeAspectRatio-actions"},l.a.createElement("div",{className:"cropImage__scaleButton"},l.a.createElement("div",{onClick:function(){return e.onChangeAspectRatio(c)},className:"".concat(a.aspect===c&&"blued")},l.a.createElement(Ge.a,null)),l.a.createElement("div",{onClick:function(){return e.onChangeAspectRatio(16/9)},className:"".concat(a.aspect===16/9&&"blued")},l.a.createElement(He.a,null)),l.a.createElement("div",{onClick:function(){return e.onChangeAspectRatio(1)},className:"".concat(1===a.aspect&&"blued")},l.a.createElement(Ke.a,null))),l.a.createElement("div",{className:"cropImage__slider"},l.a.createElement(qe,{val:this.state.zoomScale,setVal:this.onChangeZoomScale})))))}}]),t}(n.PureComponent),Qe=(a(246),function(e){var t=e.image,a=e.altText,n=e.setAltText;return l.a.createElement("div",{className:"alt__wrapper"},l.a.createElement("div",{className:"alt__imageContainer"},l.a.createElement("img",{src:URL.createObjectURL(t),alt:"addALt"})),l.a.createElement("div",{className:"alt__addDescription"},l.a.createElement("h2",null,"Description"),l.a.createElement("textarea",{name:"",id:"",cols:"30",rows:"3",value:a,onChange:function(e){return n(e.target.value)}})))}),$e=a(45),Xe=a.n($e),et=a(68),tt=a.n(et),at=a(87),nt=a.n(at),lt=a(88),ct=a.n(lt),rt=a(89),ot=a.n(rt),it=a(67),st=a.n(it),ut=a(66),mt=a.n(ut),dt=a(24),pt=a.n(dt),Et=function(){var e=b(),t=Object(o.a)(e,1)[0].user,a=t.displayName,c=Object(n.useState)(null),r=Object(o.a)(c,2),i=r[0],s=r[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),d=m[0],p=m[1],E=Object(n.useState)(we(t.displayName)),f=Object(o.a)(E,2),h=f[0],v=f[1],g=Object(n.useState)(null),_=Object(o.a)(g,2),N=_[0],w=_[1],S=Object(n.useState)(null),y=Object(o.a)(S,2),k=y[0],x=y[1],T=Object(n.useState)(!1),R=Object(o.a)(T,2),L=R[0],U=R[1],P=Object(n.useState)({width:0,height:0}),F=Object(o.a)(P,2),A=F[0],B=F[1],z=Object(n.useState)(null),D=Object(o.a)(z,2),M=D[0],V=D[1],q=Object(n.useState)(null),W=Object(o.a)(q,2),H=W[0],J=W[1],K=Object(n.useState)(null),Z=Object(o.a)(K,2),G=Z[0],Y=Z[1],Q=Object(n.useState)(!1),$=Object(o.a)(Q,2),X=$[0],ee=$[1];Object(n.useEffect)(function(){I.collection("users").doc(t.id).onSnapshot(function(e){s(e.data())})},[]);Object(n.useEffect)(function(){V(A.width/A.height)},[A]);var ae=[{id:0,title:"",icon:l.a.createElement(mt.a,null),item:l.a.createElement(Ye,{image:N,setCroppedImageResult:J,initialAspectRatio:M})},{id:1,title:"ALT",icon:"",item:l.a.createElement(Qe,{image:H,altText:h,setAltText:v})}],ce=Boolean(G),re=ce?"post-popover":void 0;return Object(n.useEffect)(function(){document.querySelector("textarea").addEventListener("keydown",function(){var e=this;setTimeout(function(){e.style.cssText="height:auto padding:0",e.style.cssText="height:"+e.scrollHeight+"px"},0)})},[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(Ce,{open:L,onClose:function(){return U(!1)},title:"Edit Photo",callback:function(){w(URL.createObjectURL(H)),x(H),0===h.length&&v(we(a))},Icon:pt.a,ButtonText:"Save"},l.a.createElement(be,{items:ae})),l.a.createElement("div",{className:"tweetBox"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),ee(!0),k?ve(k).then(function(e){I.collection("posts").add({altText:h,text:d,image:e,likes:[],senderId:t.id,timestamp:C.a.firestore.FieldValue.serverTimestamp()}),p(""),v(""),w(null),ee(!1)}).catch(function(e){ee(!1)}):(I.collection("posts").add({altText:h,text:d,image:"",likes:[],senderId:t.id,timestamp:C.a.firestore.FieldValue.serverTimestamp()}),p(""),v(""),w(null),ee(!1))}},l.a.createElement("div",{className:"tweetBox__wrapperInput"},l.a.createElement("div",{className:"tweetBox__ava"},l.a.createElement(O.a,{src:i&&i.photoURL})),l.a.createElement("div",{className:"tweetBox__input"},l.a.createElement("textarea",{rows:"1",placeholder:"What's happening",type:"text",value:d,onChange:function(e){return p(e.target.value)}}),N&&l.a.createElement("div",{className:"tweetBox__input-image"},l.a.createElement(Xe.a,{className:"cancelIcon",onClick:function(){return w(null)}}),l.a.createElement("img",{src:N,alt:"new test"}),l.a.createElement(te.a,{className:"editImage",onClick:function(){return U(!0)}},"Edit")),l.a.createElement("div",{className:"tweetBox__input-actions"},l.a.createElement("div",{className:"tweetBox__input-icons"},l.a.createElement(le,{Icon:nt.a,type:"file",accept:"image/*",name:"image-upload",id:"input-image",onChange:function(e){var t=new FileReader;t.onloadend=function(){w(t.result),x(t.result)},t.readAsDataURL(e.target.files[0]),Ne(e).then(function(e){B({width:e.width,height:e.height})})}}),l.a.createElement(le,{Icon:st.a}),l.a.createElement(le,{Icon:ct.a}),l.a.createElement(le,{Icon:tt.a,"aria-describedby":re,type:"button",onClick:function(e){return Y(e.currentTarget)}}),l.a.createElement(j.a,{id:re,open:ce,anchorEl:G,onClose:function(){return Y(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},style:{borderRadius:"2rem"}},l.a.createElement(ne.a,{onEmojiClick:function(e,t){var a=d+t.emoji;p(a)}})),l.a.createElement(le,{Icon:ot.a})),X?l.a.createElement(te.a,{className:"tweetBox__tweetButton"},l.a.createElement(ke,null)):l.a.createElement(te.a,{type:"submit",className:"tweetBox__tweetButton"},"Tweet")))))))},ft=(a(141),function(e){var t=e.Icon,a=e.value,n=e.onClick;return l.a.createElement("div",{className:"footerIcon_wrapper",onClick:n},l.a.createElement(t,null),l.a.createElement("div",{className:"footerIcon__counter"},a||""))}),ht=a(311),bt=a(312),vt=a(313),gt=a(314),Ot=a(315),jt=a(41),_t=a.n(jt),Nt=function(e){var t=e.split(", "),a=Object(o.a)(t,2),n=a[0],l=a[1],c=n.split("/"),r=Object(o.a)(c,3),i=r[0],s=r[1],u=r[2],m=l.split(":"),d=Object(o.a)(m,3),p=[u,i,s,d[0],d[1],d[2]].map(function(e){return parseInt(e)}),E=Object(o.a)(p,6),f=E[0],h=E[1],b=E[2],v=E[3],g=E[4],O=E[5],j=new Date,_=parseInt(j.getFullYear()),N=parseInt(j.getMonth()+1),w=parseInt(j.getDate()),S=parseInt(j.getHours()),y=parseInt(j.getMinutes()),C=parseInt(j.getSeconds()),k=function(e){return e%4===0&&e%100!==0||e%400===0},I=function(e,t,a,n,l,c){var r=0;if(t<2){for(var o=1;o<a;o++)r+=1;return 86400*r+3600*n+60*l+c}for(var i=0,s=1;s<t;s++)i+=4===s||6===s||9===s||11===s?30:2===s?k(e)?29:28:31;return 86400*(i+a-1)+3600*n+60*l+c},x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return function(e,t,a,n,l){return e<60?"".concat(e," s"):e>59&&e<3600?"".concat(Math.trunc(e/60),"m"):e>3599&&e<86400?"".concat(Math.trunc(e/3600),"h "):e>86399&&e<604800?"".concat(Math.trunc(e/86400),"d"):e>604799?t===a?"".concat(l," ").concat(x[n-1]):"".concat(l," ").concat(x[n-1]," ").concat(a):void 0}(function(e,t,a,n,l,c,r,o,i,s,u,m){var d=I(e,t,a,n,l,c),p=I(r,o,i,s,u,m),E=0;if(r===e||r===e+1)E=0;else for(var f=e+1;f<r;f++)k(f)&&(E+=366),E+=365;var h=k(e)?31622400-d:31536e3-d;return r!==e?h+86400*E+p:p-d}(f,h,b,v,g,O,_,N,w,S,y,C),_,f,h,b)},wt=function(e){return e&&new Date(e.toDate()).toLocaleString([],{hour12:!1})},St=(a(142),function(e){var t=e.props,a=e.profile,c=e.ownProfile,r=e.setIsOpenParentModal,i=a.displayName,u=a.username,m=a.photoURL,d=a.verified,p=t.timestamp,E=t.text,f=t.image,h=t.altText,b=t.postId,v=wt(p),g=Object(s.f)(),_=Object(n.useState)(null),N=Object(o.a)(_,2),w=N[0],S=N[1],y=Object(n.useState)(!1),k=Object(o.a)(y,2),x=k[0],T=k[1],R=Boolean(w),L=R?"post-popover":void 0,U=Object(n.useState)(""),P=Object(o.a)(U,2),F=P[0],A=P[1],B=Object(n.useState)(null),z=Object(o.a)(B,2),D=z[0],M=z[1],V=Object(n.useState)(null),q=Object(o.a)(V,2),W=q[0],H=q[1],J=Object(n.useState)({width:0,height:0}),K=Object(o.a)(J,2),Z=K[0],G=K[1],Y=Object(n.useState)(null),Q=Object(o.a)(Y,2),$=Q[0],X=Q[1],ee=Object(n.useState)(null),ae=Object(o.a)(ee,2),ce=ae[0],re=ae[1],oe=Object(n.useState)(!1),ie=Object(o.a)(oe,2),se=ie[0],ue=ie[1],me=Object(n.useState)(we(c.displayName)),de=Object(o.a)(me,2),pe=de[0],Ee=de[1];Object(n.useEffect)(function(){X(Z.width/Z.height)},[Z]);var fe=[{id:0,title:"",icon:l.a.createElement(mt.a,null),item:l.a.createElement(Ye,{image:D,setCroppedImageResult:re,initialAspectRatio:$})},{id:1,title:"ALT",icon:"",item:l.a.createElement(Qe,{image:ce,altText:pe,setCommentAltText:Ee})}];Object(n.useEffect)(function(){document.querySelector("textarea").addEventListener("keydown",function(){var e=this;setTimeout(function(){e.style.cssText="height:auto padding:0",e.style.cssText="height:"+e.scrollHeight+"px"},0)})},[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ce,{open:se,onClose:function(){return ue(!1)},title:"Edit Photo",callback:function(){M(URL.createObjectURL(ce)),H(ce),0===pe.length&&Ee(we(i))},Icon:pt.a,ButtonText:"Save"},l.a.createElement(be,{items:fe})),l.a.createElement("div",{className:"reply"},l.a.createElement(ht.a,null,l.a.createElement(bt.a,null,l.a.createElement(vt.a,null,l.a.createElement(O.a,{src:m}),l.a.createElement(gt.a,null)),l.a.createElement(Ot.a,null,l.a.createElement("div",{className:"post__body upped"},l.a.createElement("div",{className:"post__header"},l.a.createElement("div",{className:"post__headerText"},l.a.createElement("h3",null,i," "," ",l.a.createElement("span",{className:"post__headerSpecial"},d&&l.a.createElement(_t.a,{className:"post__badge"}),"@".concat(u," . ").concat(p&&Nt(v))))),l.a.createElement("div",{className:"post__headerDescription"}," ",l.a.createElement("p",null," ",E," "))),f.length>0&&l.a.createElement("img",{src:f,alt:h}),l.a.createElement("span",{className:"replyingTo"},"Replying to ",l.a.createElement("p",null,"@".concat(u)))))),l.a.createElement(bt.a,null,l.a.createElement(vt.a,null,l.a.createElement(O.a,{src:c.photoURL})),l.a.createElement(Ot.a,null,l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),T(!0),W?ve(W).then(function(e){I.collection("posts").doc(b).collection("comments").add({commentAltText:pe,text:F,image:e,likes:[],senderId:c.id,timestamp:C.a.firestore.FieldValue.serverTimestamp()}),A(""),Ee(""),M(null),T(!1),r(!1),g.push("/status/".concat(b))}).catch(function(e){console.log(e),T(!1)}):(I.collection("posts").doc(b).collection("comments").add({commentAltText:"",text:F,image:"",likes:[],senderId:c.id,timestamp:C.a.firestore.FieldValue.serverTimestamp()}),A(""),Ee(""),M(null),T(!1),r(!1),g.push("/status/".concat(b)))}},l.a.createElement("div",{className:"tweetBox__input upped"},l.a.createElement("textarea",{rows:"1",placeholder:"Tweet your reply",type:"text",value:F,onChange:function(e){return A(e.target.value)}})),D&&l.a.createElement("div",{className:"tweetBox__input-image"},l.a.createElement(Xe.a,{className:"cancelIcon",onClick:function(){return M(null)}}),l.a.createElement("img",{src:D,alt:"new test"}),l.a.createElement(te.a,{className:"editImage",onClick:function(){return ue(!0)}},"Edit")),l.a.createElement("div",{className:"tweetBox__input-actions"},l.a.createElement("div",{className:"tweetBox__input-icons"},l.a.createElement(le,{Icon:nt.a,type:"file",accept:"image/*",name:"comment-image-upload",id:"comment-image-upload",onChange:function(e){var t=new FileReader;t.onloadend=function(){M(t.result),H(t.result)},t.readAsDataURL(e.target.files[0]),Ne(e).then(function(e){G({width:e.width,height:e.height})})}}),l.a.createElement(le,{Icon:st.a}),l.a.createElement(le,{Icon:ct.a}),l.a.createElement(le,{Icon:tt.a,"aria-describedby":L,type:"button",onClick:function(e){return S(e.currentTarget)}}),l.a.createElement(j.a,{id:L,open:R,anchorEl:w,onClose:function(){return S(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},style:{borderRadius:"2rem"}},l.a.createElement(ne.a,{onEmojiClick:function(e,t){var a=F+t.emoji;A(a)}})),l.a.createElement(le,{Icon:ot.a})),x?l.a.createElement(te.a,{className:"tweetBox__tweetButton"},l.a.createElement(ke,null)):l.a.createElement(te.a,{type:"submit",className:"tweetBox__tweetButton"},"Reply"))))))))}),yt=a(120),Ct=a.n(yt),kt=a(119),It=a.n(kt),xt=function(e){var t=e.likes,a=e.likeAction,c=e.unlikeAction,r=b(),i=Object(o.a)(r,1)[0].user,s=Object(n.useState)(!1),u=Object(o.a)(s,2),m=u[0],d=u[1];return Object(n.useEffect)(function(){i.id&&t&&(t.includes(i.id)?d(!0):d(!1))},[t]),l.a.createElement("div",{className:"footerIcon_wrapper"},m?l.a.createElement("span",{className:"liked",onClick:c},l.a.createElement(It.a,null)):l.a.createElement(Ct.a,{onClick:a}),l.a.createElement("div",{className:"footerIcon__counter"},t&&t.length>0&&t.length))},Tt=a(70),Rt=a.n(Tt),Lt=a(71),Ut=a.n(Lt),Pt=a(72),Ft=a.n(Pt),At=a(53),Bt=a.n(At),zt=a(54),Dt=a.n(zt),Mt=a(38),Vt=a.n(Mt),qt=a(46),Wt=a.n(qt),Ht=a(37),Jt=a.n(Ht),Kt=a(57),Zt=a.n(Kt),Gt=a(56),Yt=a.n(Gt),Qt=a(55),$t=a.n(Qt),Xt=a(69),ea=a.n(Xt),ta=a(42),aa=a.n(ta),na=(a(125),function(e,t){var a=I.collection("users").doc(e),n=I.collection("users").doc(t);a.update({following:C.a.firestore.FieldValue.arrayUnion(t)}),n.update({followers:C.a.firestore.FieldValue.arrayUnion(e)})}),la=function(e,t){var a=I.collection("users").doc(e),n=I.collection("users").doc(t);a.update({following:C.a.firestore.FieldValue.arrayRemove(t)}),n.update({followers:C.a.firestore.FieldValue.arrayRemove(e)})},ca=function(e){I.collection("posts").doc(e).delete()},ra=function(e,t){I.collection("posts").doc(e).update({likes:C.a.firestore.FieldValue.arrayUnion(t)})},oa=function(e,t){I.collection("posts").doc(e).update({likes:C.a.firestore.FieldValue.arrayRemove(t)})},ia=function(e,t){I.collection("posts").doc(e).collection("comments").doc(t).delete()},sa=function(e,t,a){I.collection("posts").doc(e).collection("comments").doc(t).update({likes:C.a.firestore.FieldValue.arrayUnion(a)})},ua=function(e,t,a){I.collection("posts").doc(e).collection("comments").doc(t).update({likes:C.a.firestore.FieldValue.arrayRemove(a)})},ma=function(e,t){I.collection("reels").doc(e).update({likes:C.a.firestore.FieldValue.arrayUnion(t)})},da=function(e,t){I.collection("reels").doc(e).update({likes:C.a.firestore.FieldValue.arrayRemove(t)})},pa=Object(n.forwardRef)(function(e,t){var a=e.altText,c=e.text,r=e.image,i=e.timestamp,u=e.senderId,m=e.postId,p=e.likes,E=Object(s.f)(),f=wt(i),h=Object(n.useState)(null),v=Object(o.a)(h,2),g=v[0],_=v[1],w=Boolean(g),S=w?"post-popover":void 0,y=Object(n.useState)(!1),C=Object(o.a)(y,2),k=C[0],x=C[1],T=b(),R=Object(o.a)(T,1)[0].user,L=Object(n.useState)({id:"",displayName:"",photoURL:"",verified:!1,username:"",followers:[],following:[]}),U=Object(o.a)(L,2),P=U[0],F=U[1],A=Object(n.useState)(null),B=Object(o.a)(A,2),z=B[0],D=B[1],M=P.displayName,V=P.username,q=P.photoURL,W=P.verified,H=Object(n.useState)([]),J=Object(o.a)(H,2),K=J[0],Z=J[1],G=Object(n.useState)(!1),Y=Object(o.a)(G,2),Q=Y[0],$=Y[1],X=function(e){return E.push("/status/".concat(e))};Object(n.useEffect)(function(){I.collection("users").doc(R.id).onSnapshot(function(e){D(Object(d.a)({id:R.id},e.data()))}),I.collection("users").doc(u).onSnapshot(function(e){F(e.data())}),I.collection("posts").doc(m).collection("comments").onSnapshot(function(e){Z(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())}))})},[]),Object(n.useEffect)(function(){P&&$(P.followers.includes(R.id))},[P]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ce,{open:k,onClose:function(){return x(!1)},title:"",callback:function(){},Icon:aa.a,ButtonText:""},l.a.createElement(St,{props:{altText:a,text:c,image:r,timestamp:i,senderId:u,postId:m,likes:p},profile:P,ownProfile:z,setIsOpenParentModal:function(e){return x(e)}})),l.a.createElement("div",{className:"post",ref:t},l.a.createElement("div",{className:"post__avatar"},l.a.createElement(O.a,{src:q})),l.a.createElement("div",{className:"post__body"},l.a.createElement("div",{className:"post__header"},l.a.createElement("div",{className:"post__headerText"},l.a.createElement("h3",null,M," "," ",l.a.createElement("span",{className:"post__headerSpecial"},W&&l.a.createElement(_t.a,{className:"post__badge"}),"@","".concat(V," . ").concat(i&&Nt(f)))),l.a.createElement("div",{className:"post__headerExpandIcon","aria-describedby":S,variant:"contained",onClick:function(e){return _(e.currentTarget)}},l.a.createElement(N.a,null)),l.a.createElement(j.a,{id:S,open:w,anchorEl:g,onClose:function(){return _(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},l.a.createElement("ul",{className:"post__expandList"},u===R.id?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{onClick:function(){return ca(m)}},l.a.createElement("div",{className:"delete"},l.a.createElement(Bt.a,null)),l.a.createElement("h3",{className:"delete"},"Delete")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Wt.a,null)),l.a.createElement("h3",null,"Pin to your profile")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Vt.a,null)),l.a.createElement("h3",null,"Embed Tweet")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Dt.a,null)),l.a.createElement("h3",null,"View Tweet activity"))):l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Jt.a,null)),l.a.createElement("h3",null,"Not interested in this tweet")),Q?l.a.createElement("li",{onClick:function(){return la(R.id,u)}},l.a.createElement("div",null,l.a.createElement($t.a,null)),l.a.createElement("h3",null,"Unfollow ","@".concat(V))):l.a.createElement("li",{onClick:function(){return na(R.id,u)}},l.a.createElement("div",null,l.a.createElement(ea.a,null)),l.a.createElement("h3",null,"Follow ","@".concat(V))),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Yt.a,null)),l.a.createElement("h3",null,"Add/remove from Lists")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Zt.a,null)),l.a.createElement("h3",null,"Block ","@".concat(V))),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Vt.a,null)),l.a.createElement("h3",null,"Embed Tweet")))))),l.a.createElement("div",{className:"post__headerDescription",onClick:function(){return X(m)}},l.a.createElement("p",null," ",c," "))),r.length>0&&l.a.createElement("img",{src:r,alt:a,onClick:function(){return X(m)}}),l.a.createElement("div",{className:"post__footer"},l.a.createElement(ft,{Icon:Rt.a,value:K.length,onClick:function(){return x(!0)}}),l.a.createElement(ft,{Icon:Ut.a,value:0}),l.a.createElement(xt,{likes:p,unlikeAction:function(){return oa(m,R.id)},likeAction:function(){return ra(m,R.id)}}),l.a.createElement(ft,{Icon:Ft.a,value:0})))))}),Ea=function(e){var t=e.posts;return l.a.createElement(l.a.Fragment,null,t.map(function(e){return l.a.createElement(pa,{key:e.id,postId:e.id,altText:e.altText,senderId:e.senderId,username:e.username,text:e.text,avatar:e.avatar,image:e.image,timestamp:e.timestamp,likes:e.likes})}))},fa=a(316),ha=Object(ie.a)(function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}});function ba(){var e=ha();return l.a.createElement("div",{className:e.root},l.a.createElement(fa.a,null))}a(106);var va=a(163),ga=a.n(va),Oa=a(317),ja=(a(247),function(){return l.a.createElement("div",{className:"bottomNav"},l.a.createElement("nav",null,l.a.createElement(i.c,{exact:!0,to:"/",activeClassName:"bottomNav__active"},l.a.createElement(R.a,null)),l.a.createElement(i.c,{to:"/explore",activeClassName:"bottomNav__active"},l.a.createElement(ga.a,null)),l.a.createElement(i.c,{to:"/shorts",activeClassName:"bottomNav_active"},l.a.createElement(Oa.a,null)),l.a.createElement(i.c,{to:"/notifications",activeClassName:"bottomNav__active"},l.a.createElement(F.a,null)),l.a.createElement(i.c,{to:"/messages",activeClassName:"bottomNav__active"},l.a.createElement(B.a,null))))}),_a=function(){var e=b(),t=Object(o.a)(e,1)[0].user,a=Object(n.useState)([]),c=Object(o.a)(a,2),r=c[0],s=c[1],u=Object(n.useState)(!1),m=Object(o.a)(u,2),p=m[0],E=m[1],f=Object(n.useState)(null),h=Object(o.a)(f,2),v=h[0],g=h[1],j=Object(n.useState)([]),_=Object(o.a)(j,2),N=_[0],w=_[1];return Object(n.useEffect)(function(){var e=!0;return I.collection("users").doc(t.id).onSnapshot(function(t){e&&(g(t.data()),w(t.data()&&t.data().following))}),function(){return e=!1}},[]),Object(n.useEffect)(function(){var e=!0;return E(!0),N?I.collection("posts").where("senderId","in",[t.id].concat(Object(ee.a)(N))).orderBy("timestamp","desc").onSnapshot(function(t){if(e){if(t.empty)return void E(!1);s(t.docs.map(function(e){return Object(d.a)({id:e.id},e.data())})),E(!1)}},function(e){console.log(e)}):I.collection("posts").where("senderId","in",[t.id]).orderBy("timestamp","desc").onSnapshot(function(t){if(e){if(t.empty)return void E(!1);s(t.docs.map(function(e){return Object(d.a)({id:e.id},e.data())})),E(!1)}},function(e){console.log(e)}),function(){return e=!1}},[N]),l.a.createElement("div",{className:"feed"},l.a.createElement("div",{className:"feed__header"},l.a.createElement("div",{className:"feed__header-ava"},l.a.createElement(i.c,{to:"../Profile/"+t.username}," ",l.a.createElement(O.a,{src:v&&v.photoURL})," ")),l.a.createElement("h2",null,"Home")),l.a.createElement(Et,null),p&&l.a.createElement("div",{className:"feed__loader"},l.a.createElement(ba,null)),l.a.createElement(Ea,{posts:r}),l.a.createElement(ja,null))},Na=(a(248),function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Boolean(a),i=r?"post-popover":void 0;return l.a.createElement("div",{className:"widgets__widgetContainer"},l.a.createElement("h2",null,"What's happening"),l.a.createElement("ul",{className:"widgets__trendsContainer"},l.a.createElement("li",null,l.a.createElement("div",{className:"popular"},l.a.createElement("span",null,"Popular in Indonesia"),l.a.createElement(N.a,{"aria-describedby":i,variant:"contained",onClick:function(e){return c(e.currentTarget)}}),l.a.createElement(j.a,{id:i,open:r,anchorEl:a,onClose:function(){return c(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},l.a.createElement("ul",{className:"post__expandList"},l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Jt.a,null)),l.a.createElement("h3",null,"This trend is spam")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Jt.a,null)),l.a.createElement("h3",null,"This trend is abusive or harmfull")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Jt.a,null)),l.a.createElement("h3",null,"This trend is a duplicate")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Jt.a,null)),l.a.createElement("h3",null,"This trend is low quality"))))),l.a.createElement("div",{className:"hashtag"},"Toklenpedia"),l.a.createElement("div",{className:"tweetNumber"},"5012 Tweets")),l.a.createElement("li",null,l.a.createElement("div",{className:"popular"},l.a.createElement("span",null,"Popular in Indonesia"),l.a.createElement(N.a,null)),l.a.createElement("div",{className:"hashtag"},"Bukanbapak Sale"),l.a.createElement("div",{className:"tweetNumber"},"4099 Tweets")),l.a.createElement("li",null,l.a.createElement("div",{className:"popular"},l.a.createElement("span",null,"Popular in Indonesia"),l.a.createElement(N.a,null)),l.a.createElement("div",{className:"hashtag"},"FIFAWorldCupU20"),l.a.createElement("div",{className:"tweetNumber"},"4022 Tweets")),l.a.createElement("li",null,l.a.createElement("div",{className:"popular"},l.a.createElement("span",null,"Popular in Indonesia"),l.a.createElement(N.a,null)),l.a.createElement("div",{className:"hashtag"},"MotoGPMandalika"),l.a.createElement("div",{className:"tweetNumber"},"3088 Tweets"))))}),wa=(a(249),function(e){var t=e.display;return l.a.createElement(i.b,{to:t?"/profile/".concat(t.username):"/notfound"},l.a.createElement("div",{className:"userItemFollow--user__item"},l.a.createElement(O.a,{src:t&&t.photoURL}),l.a.createElement("div",{className:"userItemFollow--user__details"},l.a.createElement("h2",null,t?t.displayName:"Empty Room"),l.a.createElement("span",null,t&&"@".concat(t.username))),l.a.createElement(te.a,null,"Follow")))}),Sa=(a(250),function(){var e=b(),t=Object(o.a)(e,1)[0].user,a=Object(n.useState)([]),c=Object(o.a)(a,2),r=c[0],i=c[1];return Object(n.useEffect)(function(){var e=!0;return I.collection("users").limit(6).onSnapshot(function(t){e&&i(t.docs.map(function(e){return Object(d.a)({id:e.id},e.data())}))}),function(){return e=!1}},[]),l.a.createElement("div",{className:"widgets__widgetContainer"},l.a.createElement("h2",null,"Who to follow"),l.a.createElement("ul",{className:"widgets__trendsContainer"},r&&r.filter(function(e){return e.id!==t.id}).map(function(e){return l.a.createElement("li",{key:e.id},l.a.createElement(wa,{display:e}))})))}),ya=(a(251),function(e){var t=e.value,a=e.onChange,c=e.onClick,r=e.placeholder,i=Object(n.useState)(!1),s=Object(o.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(!1),p=Object(o.a)(d,2),E=p[0],f=p[1];return l.a.createElement("div",{className:"searchWidget__wrapper"},l.a.createElement("div",{className:"searchWidget ".concat(E?"beingPressed":"")},l.a.createElement(U.a,{className:"searchWidget__searchIcon"}),l.a.createElement("input",{type:"text",placeholder:r,onFocus:function(){m(!0),f(!0)},onBlur:function(){return f(!1)},value:t,onChange:a}),u&&t.length>0&&l.a.createElement(Xe.a,{onClick:c})))}),Ca=(a(126),function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1];return l.a.createElement("div",{className:"widgets"},l.a.createElement(ya,{value:a,onChange:function(e){return c(e.target.value)},onClick:function(){return c("")},placeholder:"Search Twittie"}),l.a.createElement(Na,null),l.a.createElement(Sa,null))}),ka=a(164),Ia=a(165),xa=a.n(Ia),Ta=(a(252),function(e){var t=e.value,a=e.onChange,c=e.onClick,r=Object(n.useState)(!1),i=Object(o.a)(r,2),s=i[0],u=i[1],m=Object(n.useState)(!1),d=Object(o.a)(m,2),p=d[0],E=d[1];return l.a.createElement("div",{className:"commonSearch__search"},l.a.createElement("div",{className:"commonSearch__searchContainer ".concat(p&&"pressed")},l.a.createElement(xa.a,null),l.a.createElement("input",{type:"text",className:"commonSearch__input ".concat(p&&"inputPressed"),placeholder:"Search for people and group",onFocus:function(){u(!0),E(!0)},onBlur:function(){return E(!1)},value:t,onChange:a}),s&&t.length>0&&l.a.createElement(Xe.a,{onClick:c})))}),Ra=a(328),La=a(318),Ua=(a(143),function(e){var t=e.name,a=e.username,n=e.photourl,c=e.clicked,r=e.onClick;return l.a.createElement("div",{className:"user__item",onClick:c?void 0:r},l.a.createElement(O.a,{src:n}),l.a.createElement("div",{className:"user__details"},l.a.createElement("h2",null,t),l.a.createElement("span",null,"@",a)),c&&l.a.createElement(S.a,null))}),Pa=function(e){e.roomId;var t=e.members,a=(e.clicked,b()),c=Object(o.a)(a,1)[0].user,r=Object(n.useState)(""),i=Object(o.a)(r,2),s=i[0],u=i[1],m=Object(n.useState)(null),d=Object(o.a)(m,2),p=d[0],E=d[1];return Object(n.useEffect)(function(){u(t.filter(function(e){return e!==c.id}).toString())},[]),Object(n.useEffect)(function(){s.length>0&&I.collection("users").doc(s).onSnapshot(function(e){E(e.data())})},[s]),l.a.createElement("div",{className:"user__item nocursor"},l.a.createElement(O.a,{src:p&&p.photoURL}),l.a.createElement("div",{className:"user__details"},l.a.createElement("h2",null,p&&p.displayName),l.a.createElement("span",null,p&&"@".concat(p.username))),l.a.createElement(S.a,null))},Fa=(a(253),"add_room"),Aa="remove_room",Ba="empty_room",za=function(e,t){switch(t.type){case Fa:return[].concat(Object(ee.a)(e),[t.room]);case Aa:return e.filter(function(e){return e.id!==t.id});case Ba:return[];default:return e}},Da=Object(n.createContext)(),Ma=function(e){var t=e.children,a=Object(n.useReducer)(za,[]),c=Object(o.a)(a,2),r=c[0],i=c[1];return l.a.createElement(Da.Provider,{value:{rooms:r,dispatch:i}},t)},Va=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),i=Object(o.a)(r,2),s=i[0],u=i[1],m=Object(n.useState)([]),p=Object(o.a)(m,2),E=p[0],f=p[1],h=Object(n.useState)(!1),v=Object(o.a)(h,2),g=v[0],j=v[1],_=b(),N=Object(o.a)(_,1)[0].user,w=Object(n.useContext)(Da),S=w.rooms,y=w.dispatch,C=[],k=[],x=function(e){return T(e)},T=function(e){y({type:Aa,id:e.id})};Object(n.useEffect)(function(){var e=I.collection("rooms").where("members","array-contains",N.id).onSnapshot(function(e){return u(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())}))});return function(){e()}},[]),s.map(function(e){return e.members.forEach(function(e){return C.push(e)})}),C.map(function(e){return-1===k.indexOf(e)&&k.push(e)});var R=function(){j(!0);var e=a.toLowerCase();return I.collection("users").where("username","==",e).get().then(function(e){e.empty?(f([]),console.log("No results"),j(!1)):(f(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())})),j(!1))})};return Object(n.useEffect)(function(){return function(){return function(){j(!0);var e=a.toLowerCase();return I.collection("users").where("username","==",e).get().then(function(e){e.empty?(f([]),console.log("No results"),j(!1)):(f(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())})),j(!1))})}()}},[a]),console.log(C),console.log(k),l.a.createElement("div",{className:"searchUser"},l.a.createElement("div",{className:"searchUser__header"},l.a.createElement("div",{className:"searchUser__header-search"},l.a.createElement(U.a,null),l.a.createElement("input",{type:"text",placeholder:"Search People",value:a,onChange:function(e){return c(e.target.value.toLowerCase())},onKeyUp:R,onKeyPress:R,onKeyDown:R})),S.length>0&&l.a.createElement("div",{className:"chips"},S.map(function(e){return l.a.createElement(Ra.a,{key:e.id,avatar:l.a.createElement(O.a,{src:e.photoURL}),label:e.displayName,onClick:function(){return x(e)},onDelete:function(){return x(e)}})}))),g&&l.a.createElement(La.a,null),l.a.createElement("div",{className:"users__result"},E.filter(function(e){return!k.includes(e.id)}).map(function(e){return l.a.createElement(Ua,{key:e.id,name:e.displayName,username:e.username,photourl:e.photoURL,onClick:function(){y({type:Fa,room:e})},clicked:(t=e,S.some(function(e){return e.id===t.id}))});var t}),s.map(function(e){return l.a.createElement(Pa,{key:e.id,roomId:e.id,members:e.members})})))},qa=(a(254),function(e){var t=e.split(", "),a=Object(o.a)(t,2),n=a[0],l=a[1],c=n.split("/"),r=Object(o.a)(c,3),i=r[0],s=r[1],u=r[2],m=l.split(":"),d=Object(o.a)(m,3),p=[u,i,s,d[0],d[1],d[2]].map(function(e){return parseInt(e)}),E=Object(o.a)(p,6),f=E[0],h=E[1],b=E[2],v=E[3],g=E[4],O=E[5],j=new Date,_=parseInt(j.getFullYear()),N=parseInt(j.getMonth()+1),w=parseInt(j.getDate()),S=parseInt(j.getHours()),y=parseInt(j.getMinutes()),C=parseInt(j.getSeconds()),k=function(e){return e%4===0&&e%100!==0||e%400===0},I=function(e,t,a,n,l,c){var r=0;if(t<2){for(var o=1;o<a;o++)r+=1;return 86400*r+3600*n+60*l+c}for(var i=0,s=1;s<t;s++)i+=4===s||6===s||9===s||11===s?30:2===s?k(e)?29:28:31;return 86400*(i+a-1)+3600*n+60*l+c},x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return function(e,t,a,n,l,c,r){return e<86400?"".concat(c,":").concat(r," ").concat(c<12?"AM":"PM"):e>86399&&e<172800?"YESTERDAY":e>172799?"".concat(x[n-1]," ").concat(l,", ").concat(a):void 0}(function(e,t,a,n,l,c,r,o,i,s,u,m){var d=I(e,t,a,n,l,c),p=I(r,o,i,s,u,m),E=0;if(r===e||r===e+1)E=0;else for(var f=e+1;f<r;f++)k(f)&&(E+=366),E+=365;var h=k(e)?31622400-d:31536e3-d;return r!==e?h+86400*E+p:p-d}(f,h,b,v,g,O,_,N,w,S,y,C),0,f,h,b,v,g)}),Wa=function(e){e.name;var t=e.roomId,a=(e.members,b()),c=Object(o.a)(a,1)[0].user,r=Object(n.useState)([]),s=Object(o.a)(r,2),u=s[0],m=s[1],d=Object(n.useState)(null),p=Object(o.a)(d,2),E=p[0],f=p[1],h=Object(n.useState)(""),v=Object(o.a)(h,2),g=v[0],j=v[1];Object(n.useEffect)(function(){var e=!0;return t&&I.collection("rooms").doc(t).collection("messages").orderBy("timestamp","desc").onSnapshot(function(t){e&&m(t.docs.map(function(e){return e.data()}))}),function(){return e=!1}},[]),Object(n.useEffect)(function(){var e=!0;return t&&I.collection("rooms").doc(t).onSnapshot(function(t){e&&j(t.data().members.filter(function(e){return e!==c.id})[0])}),function(){return e=!1}},[t]),Object(n.useEffect)(function(){var e=!0;return g&&I.collection("users").doc(g).onSnapshot(function(t){e&&f(t.data())}),function(){return e=!1}},[g]);return l.a.createElement(i.c,{to:"/messages/".concat(t&&t),className:"sidebarChatOption",activeClassName:"active_chat"},l.a.createElement(O.a,{src:E?E.photoURL:null}),l.a.createElement("div",{className:"sidebarChatOption__info"},l.a.createElement("h2",null," ",E?E.displayName:"Empty Room",l.a.createElement("span",null,E?"@".concat(E.username):"")),l.a.createElement("p",null,u[0]&&(u[0].message.length>25?"".concat(u[0].message.slice(0,24)," ..."):u[0].message))),l.a.createElement("div",{className:"sidebarChatOption__date"},u[0]&&function(e){if(e){var t=wt(e);return qa(t)}}(u[0].timestamp)))},Ha=(a(255),function(){var e=b(),t=Object(o.a)(e,1)[0].user,a=Q(),c=Object(o.a)(a,1)[0].isRoomOpened,r=Object(n.useContext)(Da),i=r.rooms,s=r.dispatch,u=Object(n.useState)(!1),m=Object(o.a)(u,2),p=m[0],E=m[1],f=Object(n.useState)([]),h=Object(o.a)(f,2),v=h[0],g=h[1],O=Object(n.useState)(""),j=Object(o.a)(O,2),_=j[0],N=j[1],w=Object(ka.useMediaQuery)({maxWidth:914});Object(n.useEffect)(function(){var e=I.collection("rooms").where("members","array-contains",t.id).onSnapshot(function(e){return g(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())}))});return function(){return e()}},[t]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ce,{open:p,onClose:function(){return E(!1)},title:"New Message",callback:function(){i&&i.forEach(function(e){I.collection("rooms").add({alias:"".concat(t.displayName," ").concat(t.username," ").concat(e.displayName," ").concat(e.username),members:[t.id,e.id]}),s({type:Aa,id:e.id})})},Icon:aa.a,ButtonText:"Next"},l.a.createElement(Va,null)),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"sidebarChat ".concat(c&&w&&"noned")},l.a.createElement("div",{className:"sidebarChat__header"},l.a.createElement("h2",null,"Messages"),l.a.createElement("div",{className:"sidebarChat__addMessage"},l.a.createElement(B.a,{onClick:function(){return E(!0)}}))),l.a.createElement(Ta,{value:_,onChange:function(e){return N(e.target.value)},onClick:function(){return N("")}}),l.a.createElement("div",{className:"sidebarChat__chats"},v.filter(function(e){return e.alias.toLowerCase().includes(_.toLowerCase())}).map(function(e){return l.a.createElement(Wa,{key:e.id,members:e.members,roomId:e.id})})))))}),Ja=(a(256),a(167)),Ka=a.n(Ja),Za=a(168),Ga=a.n(Za),Ya=a(129),Qa=a.n(Ya),$a=a(166),Xa=a.n($a),en=a(323),tn=a(319),an=a(271),nn=Object(ie.a)(function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",outline:"none"}}}),ln=function(e){var t=e.open,a=e.onClose,n=e.imgsrc,c=nn();return l.a.createElement(en.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:c.modal,open:t,onClose:a,closeAfterTransition:!0,BackdropComponent:tn.a,BackdropProps:{timeout:500}},l.a.createElement(an.a,{in:t},l.a.createElement("div",{className:"modalImage__imageWrapper"},l.a.createElement("img",{src:n,alt:"popupimge"}))))},cn=function(e){var t=e.msg,a=b(),c=Object(o.a)(a,1)[0].user,r=Object(n.useState)(!1),i=Object(o.a)(r,2),s=i[0],u=i[1],m=Object(n.useState)(""),d=Object(o.a)(m,2),p=d[0],E=d[1],f=t.id,h=t.data,v=h.image,g=h.message,O=h.timestamp,j=h.senderId,_=function(e){E(e),u(!0)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(ln,{open:s,onClose:function(){return u(!1)},imgsrc:p}),j===c.id?l.a.createElement("div",{className:"chat__item ",key:f},l.a.createElement("p",{className:"chat__message chat__receiver"},v&&l.a.createElement("img",{src:v,alt:"testim",onClick:function(){return _(v)}}),g&&l.a.createElement("span",null,g)),l.a.createElement("div",{className:"chat__timestamp"},wt(O)," ",l.a.createElement(Xa.a,null))):l.a.createElement("div",{className:"chat__item",key:f},l.a.createElement("p",{className:"chat__message"},v&&l.a.createElement("img",{src:v,alt:"testim",onClick:function(){return _(v)}}),g&&l.a.createElement("span",null,g)),l.a.createElement("div",{className:"chat__timestamp lefted"},wt(O))))},rn=function(){var e=Object(s.g)().roomId,t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],r=a[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),d=m[0],p=m[1],E=Object(n.useState)(""),f=Object(o.a)(E,2),h=f[0],v=f[1],g=Object(n.useState)({}),_=Object(o.a)(g,2),N=_[0],w=_[1],S=b(),y=Object(o.a)(S,1)[0].user,k=Q(),x=Object(o.a)(k,2),T=(x[0].isRoomOpened,x[1]),R=Object(s.f)(),L=Object(n.useState)(we(y.displayName)),U=Object(o.a)(L,2),P=U[0],F=U[1],A=Object(n.useState)(null),B=Object(o.a)(A,2),z=B[0],D=B[1],M=Object(n.useState)(!1),V=Object(o.a)(M,2),q=V[0],W=V[1],H=Object(n.useState)(null),J=Object(o.a)(H,2),G=J[0],Y=J[1],$=Object(n.useState)(null),X=Object(o.a)($,2),ee=X[0],ae=X[1],ce=Object(n.useState)(!1),re=Object(o.a)(ce,2),oe=re[0],ie=re[1],se=Object(n.useState)({width:0,height:0}),ue=Object(o.a)(se,2),me=ue[0],de=ue[1],pe=Object(n.useState)(null),Ee=Object(o.a)(pe,2),fe=Ee[0],he=Ee[1],ge=Object(n.useState)(null),Oe=Object(o.a)(ge,2),je=Oe[0],_e=Oe[1];Object(n.useEffect)(function(){e&&I.collection("rooms").doc(e).onSnapshot(function(e){v(e.data()&&e.data().members.filter(function(e){return e!==y.id})[0])}),I.collection("rooms").doc(e).collection("messages").orderBy("timestamp","asc").onSnapshot(function(e){r(e.docs.map(function(e){return{id:e.id,data:e.data()}}))}),T({type:K,isRoomOpened:!0})},[e]),Object(n.useEffect)(function(){h&&I.collection("users").doc(h).onSnapshot(function(e){w(e.data())})},[h]);var Se=function(t){t.preventDefault(),W(!0),ee?ve(ee).then(function(t){I.collection("rooms").doc(e).collection("messages").add({senderId:y.id,message:d,image:t,timestamp:C.a.firestore.FieldValue.serverTimestamp()}),p(""),Y(null),ae(null),W(!1)}).catch(function(e){W(!1)}):(I.collection("rooms").doc(e).collection("messages").add({senderId:y.id,message:d,timestamp:C.a.firestore.FieldValue.serverTimestamp()}),p(""),Y(null),W(!1))};Object(n.useEffect)(function(){he(me.width/me.height)},[me]);var ye=[{id:0,title:"",icon:l.a.createElement(mt.a,null),item:l.a.createElement(Ye,{image:G,setCroppedImageResult:_e,initialAspectRatio:fe})},{id:1,title:"ALT",icon:"",item:l.a.createElement(Qe,{image:je,altText:P,setAltText:F})}],Ie=Boolean(z),xe=Ie?"post-popover":void 0;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ce,{open:oe,onClose:function(){return ie(!1)},title:"Edit Photo",callback:function(){Y(URL.createObjectURL(je)),ae(je),0===P.length&&F(we(y.displayName))},Icon:pt.a,ButtonText:"Save"},l.a.createElement(be,{items:ye})),l.a.createElement("div",{className:"chat"},l.a.createElement("div",{className:"chat__header"},l.a.createElement("div",{className:"chat__backArrow"},l.a.createElement(pt.a,{onClick:function(){T({type:Z}),R.push("/messages")}})),l.a.createElement("div",{className:"chat__header-ava"},l.a.createElement(O.a,{src:N&&N.photoURL})),l.a.createElement("h2",null,N&&N.displayName),l.a.createElement(i.b,{to:"/messages/".concat(e,"/info")},l.a.createElement(Ka.a,{member:N}))),l.a.createElement("div",{className:"chat__body"},c.map(function(e){return l.a.createElement(cn,{key:e.id,msg:e})})),l.a.createElement("div",{className:"chat__footer"},G&&l.a.createElement("div",{className:"chat__footer-ImageBox"},l.a.createElement(Xe.a,{className:"cancelIcon",onClick:function(){return Y(null)}}),l.a.createElement("img",{src:G,alt:"new test"}),l.a.createElement(te.a,{className:"editImage",onClick:function(){return ie(!0)}},"Edit")),l.a.createElement(le,{Icon:Ga.a,type:"file",accept:"image/*",name:"image-upload",id:"input-image",onChange:function(e){var t=new FileReader;t.onloadend=function(){Y(t.result),ae(t.result)},t.readAsDataURL(e.target.files[0]),Ne(e).then(function(e){de({width:e.width,height:e.height})})}}),l.a.createElement(st.a,null),l.a.createElement("form",{onSubmit:Se},l.a.createElement("input",{type:"text",placeholder:"Start a new message",value:d,onChange:function(e){return p(e.target.value)}}),l.a.createElement("div",{className:"chat__footer-emowrapper"},l.a.createElement(tt.a,{"aria-describedby":xe,type:"button",onClick:function(e){return D(e.currentTarget)}}),l.a.createElement(j.a,{id:xe,open:Ie,anchorEl:z,onClose:function(){return D(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},style:{transform:"translate(-2rem, -1rem)"}},l.a.createElement(ne.a,{onEmojiClick:function(e,t){var a=d+t.emoji;p(a)}}))),G||d.length>0?q?l.a.createElement("span",{className:"spinnerSpan"},l.a.createElement(ke,null)):l.a.createElement(Qa.a,{type:"submit",className:"readyBtn",onClick:Se}):l.a.createElement(Qa.a,null)))))},on=a(108),sn=a(324),un=(a(257),function(){var e=Object(s.f)(),t=Object(s.g)().roomId,a=b(),c=Object(o.a)(a,1)[0].user,r=Q(),i=Object(o.a)(r,2),u=(i[0].isRoomOpened,i[1]),m=Object(n.useState)({checkedB:!1}),p=Object(o.a)(m,2),E=p[0],f=p[1],h=Object(n.useState)(""),v=Object(o.a)(h,2),g=v[0],O=v[1],j=Object(n.useState)({}),_=Object(o.a)(j,2),N=_[0],w=_[1];Object(n.useEffect)(function(){t&&(I.collection("rooms").doc(t).onSnapshot(function(e){O(e.data()&&e.data().members.filter(function(e){return e!==c.id})[0])}),u({type:K}))},[t]),Object(n.useEffect)(function(){g&&I.collection("users").doc(g).onSnapshot(function(e){w(e.data())})},[g]);return l.a.createElement("div",{className:"conversationInfo"},l.a.createElement("div",{className:"conversationInfo__header"},l.a.createElement("div",{className:"conversationInfo__header--back"},l.a.createElement(pt.a,{onClick:function(){return e.goBack()}})),l.a.createElement("h2",null,"Conversation Info")),l.a.createElement(wa,{display:N}),l.a.createElement("div",{className:"notifications"},l.a.createElement("h2",null,"Notifications"),l.a.createElement("div",{className:"mute"},l.a.createElement("p",null,"Mute conversation"),l.a.createElement(sn.a,{checked:E.checkedB,onChange:function(e){f(Object(d.a)({},E,Object(on.a)({},e.target.name,e.target.checked)))},color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}}))),l.a.createElement("ul",{className:"userActions"},l.a.createElement("li",null,"Block @".concat(N&&N.username)),l.a.createElement("li",null,"Report @".concat(N&&N.username)),l.a.createElement("li",{className:"red",onClick:function(){t&&I.collection("rooms").doc(t).update({members:C.a.firestore.FieldValue.arrayRemove(c.id)}).then(function(t){return e.push("/messages")})}},"Leave Conversation")))});a(258);var mn=function(){var e=b(),t=Object(o.a)(e,2),a=(t[0].user,t[1]),c=Object(n.useState)({name:"",username:"",email:"",password:"",confirmPassword:""}),r=Object(o.a)(c,2),i=r[0],s=r[1],u=Object(n.useState)({email:"",password:""}),m=Object(o.a)(u,2),p=m[0],f=m[1],h=Object(n.useState)(""),v=Object(o.a)(h,2),g=v[0],O=v[1],j=Object(n.useState)(!1),_=Object(o.a)(j,2),N=_[0],w=_[1],S=Object(n.useState)(!1),y=Object(o.a)(S,2),k=y[0],x=y[1];Object(n.useEffect)(function(){var e=i.name,t=i.username,a=i.email,n=i.password;if(k&&!g.length){w(!0);try{I.collection("users").add({bio:"",displayName:e,email:a,followers:[],following:[],joined:C.a.firestore.FieldValue.serverTimestamp(),password:n,photoURL:"",rooms:[],username:t,verified:!1,wallpaper:"https://static.onecms.io/wp-content/uploads/sites/28/2017/05/blue0517.jpg"}).then(function(e){console.log(e),K(!1),Q(!0)})}catch(g){return void console.log(g)}}},[k,g]);var T=l.a.useState(""),R=Object(o.a)(T,2),L=R[0],U=R[1],P=l.a.useState(""),F=Object(o.a)(P,2),A=F[0],B=F[1],z=l.a.useState(!1),D=Object(o.a)(z,2),M=D[0],V=D[1],q=function(){var e=i.username,t=i.email;I.collection("users").where("username","==",e.toLowerCase()).get().then(function(e){e.empty?(I.collection("users").where("email","==",t).get().then(function(e){e.empty?(V(!1),B("")):(V(!0),B("Email already taken"))}),U("")):(V(!0),U("UserName alredy taken"))})},W=l.a.useState(!0),H=Object(o.a)(W,2),J=H[0],K=H[1],Z=l.a.useState(!0),G=Object(o.a)(Z,2),Y=G[0],Q=G[1],$=l.a.useState(!1),X=Object(o.a)($,2),ee=X[0],te=X[1];return l.a.createElement("div",{className:"app"},l.a.createElement("div",{hidden:ee,className:"welcome"},l.a.createElement("h1",{className:"qoute"},"See what's",l.a.createElement("br",null)," happening in the ",l.a.createElement("br",null),"world Among you!"),l.a.createElement("button",{onClick:function(){te(!0),Q(!1)},className:"btn"},"Create account"),l.a.createElement("button",{onClick:function(){te(!0),K(!1)},className:"btn2"},"Login")),l.a.createElement("div",{hidden:J,className:"login"},l.a.createElement("h1",{className:"uh1"}," To get started, enter"),l.a.createElement("h1",{className:"h1"},"your Email and Password"),l.a.createElement("form",{className:"form",autoComplete:"off",onSubmit:function(e){var t=p.email,n=p.password;e.preventDefault(),w(!0),I.collection("users").where("email","==",t).where("password","==",n).limit(1).get().then(function(e){return e.docs.length?Object(d.a)({id:e.docs[0].id},e.docs[0].data()):void O("Invalid credential")}).then(function(e){e?function(e){try{e.password=void 0,localStorage.setItem("twittie_user",JSON.stringify(e)),a({type:E,user:JSON.parse(localStorage.getItem("twittie_user"))}),w(!1)}catch(g){return console.log(g),void w(!1)}}(e):(O("Incorrect Email or Password"),w(!1))}).catch(function(e){w(!1),O("Incorrect Email or Password")})}},l.a.createElement("input",{type:"email",name:"email",placeholder:"Email",value:p.email,onChange:function(e){return f(Object(d.a)({},p,{email:e.target.value.toLowerCase().replace(" ","")}))}}),l.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:p.password,onChange:function(e){return f(Object(d.a)({},p,{password:e.target.value}))},required:!0}),l.a.createElement("button",{type:"submit",className:"btn"},N?l.a.createElement(ke,null):"Log in"),g.length>0&&l.a.createElement("div",{className:"error"},g))),l.a.createElement("div",{hidden:Y,className:"signup"},l.a.createElement("h1",{className:"uh1"},"Create an"),l.a.createElement("h1",{className:"h1"},"account"),l.a.createElement("form",{className:"form1",autoComplete:"off",onSubmit:function(e){e.preventDefault(),x(!0),O(function(e){var t={},a=e.name,n=e.username,l=e.email,c=e.password,r=e.confirmPassword;0===n.length&&(t.erUsername="Username must not be empty"),0===a.length&&(t.erName="Full Name must not be empty"),l?/(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*/.test(l)||(t.erEmail="Email address is invalid"):t.erEmail="Email address is required",c?/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[a-zA-Z\d@$.!%*#?&]/.test(c)||(t.erPassword="Password must contain atleast 8 characters, an number, an uppercase, a lowercase, and a special character"):t.erPassword="Password is required",c!==r&&(t.erPasswords="Passwords are not identical");var o=t.erName,i=t.erUsername,s=t.erEmail,u=t.erPassword,m=t.erPasswords;return o||i||s||u||m||""}(i))}},l.a.createElement("input",{type:"text",name:"name",placeholder:"Full Name",value:i.name,onChange:function(e){return s(Object(d.a)({},i,{name:e.target.value}))}}),l.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:i.username,onChange:function(e){return s(Object(d.a)({},i,{username:e.target.value.toLowerCase().replace(" ","")}))},onKeyPress:q()}),"    ",l.a.createElement("p",{className:"usernamea"},L),l.a.createElement("input",{type:"text",name:"email",placeholder:"Email",value:i.email,onChange:function(e){return s(Object(d.a)({},i,{email:e.target.value.toLowerCase().replace(" ","")}))},onKeyPress:q()})," ",l.a.createElement("p",{className:"usernamea"},A),l.a.createElement("input",{type:"password",name:"password",placeholder:"Create Password",value:i.password,onChange:function(e){return s(Object(d.a)({},i,{password:e.target.value}))}}),l.a.createElement("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:i.confirmPassword,onChange:function(e){return s(Object(d.a)({},i,{confirmPassword:e.target.value}))}}),l.a.createElement("button",{disabled:M,type:"submit",className:"btn"},N?l.a.createElement(ke,null):"Sign up"),g.length>0&&l.a.createElement("div",{className:"error"},g))))},dn=a(169),pn=a.n(dn),En=a(170),fn=a.n(En),hn=a(320),bn=a(130),vn=a.n(bn),gn=(a(259),function(e){var t=e.profile,a=e.setUpdatedProfileState,c=t.bio,r=t.displayName,i=t.location,s=t.wallpaper,u=t.photoURL,m=t.website,p=Object(n.useState)({displayName:r,bio:c||"",location:i||"",website:m||""}),E=Object(o.a)(p,2),f=E[0],h=E[1],b=Object(n.useState)({photoSrc:u,wallpaperSrc:s}),v=Object(o.a)(b,2),g=v[0],O=v[1],j=Object(n.useState)({photoToSend:u,wallpaperToSend:s}),_=Object(o.a)(j,2),N=_[0],w=_[1],S=Object(n.useState)(null),y=Object(o.a)(S,2),C=y[0],k=y[1],I=Object(n.useState)({photo:{width:0,height:0},wallpaper:{width:0,height:0}}),x=Object(o.a)(I,2),T=x[0],R=x[1],L=Object(n.useState)({photo:null,wallpaper:null}),U=Object(o.a)(L,2),P=U[0],F=U[1],A=Object(n.useState)(!1),B=Object(o.a)(A,2),z=B[0],D=B[1],M=Object(n.useState)(""),V=Object(o.a)(M,2),q=V[0],W=V[1],H=function(e,t){var a=new FileReader;a.onloadend=function(){"photo"===t&&(O(Object(d.a)({},g,{photoSrc:a.result})),w(Object(d.a)({},N,{photoToSend:a.result})),W("photo")),"wallpaper"===t&&(O(Object(d.a)({},g,{wallpaperSrc:a.result})),w(Object(d.a)({},N,{wallpaperToSend:a.result})),W("wallpaper")),D(!0)},a.readAsDataURL(e.target.files[0]),Ne(e).then(function(e){"photo"===t&&R(Object(d.a)({},T,{photo:{width:e.width,height:e.height}})),"wallpaper"===t&&R(Object(d.a)({},T,{wallpaper:{width:e.width,height:e.height}}))})};Object(n.useEffect)(function(){F(Object(d.a)({},P,{photo:T.photo.width/T.photo.height,wallpaper:T.wallpaper.width/T.wallpaper.height}))},[T]);var J=[{id:0,title:"",item:l.a.createElement(Ye,{image:"wallpaper"===q?g.wallpaperSrc:g.photoSrc,setCroppedImageResult:k,initialAspectRatio:"wallpaper"===q?P.wallpaper:P.photo})}];return Object(n.useEffect)(function(){a({profileState:f,pictureToSend:N})},[f,N]),l.a.createElement(l.a.Fragment,null,l.a.createElement(Ce,{open:z,onClose:function(){D(!1),W("")},title:"Edit Media",callback:function(){"photo"===q&&(console.log("from photo",C),O(Object(d.a)({},g,{photoSrc:URL.createObjectURL(C)})),w(Object(d.a)({},N,{photoToSend:C}))),"wallpaper"===q&&(console.log("from wallpaper",C),O(Object(d.a)({},g,{wallpaperSrc:URL.createObjectURL(C)})),w(Object(d.a)({},N,{wallpaperToSend:C})))},Icon:pt.a,ButtonText:"Apply"},l.a.createElement(be,{items:J})),l.a.createElement("div",{className:"editProfile"},l.a.createElement("div",{className:"editProfile__theme",style:{backgroundImage:"url(".concat(g.wallpaperSrc&&g.wallpaperSrc,")")}},l.a.createElement("div",{className:"editProfile__theme-photoWrapper"},g.photoSrc&&l.a.createElement("img",{src:g.photoSrc,alt:"".concat(r)}),l.a.createElement("div",{className:"editProfile__btnWrapper"},l.a.createElement(le,{Icon:vn.a,type:"file",accept:"image/*",name:"image-upload",id:"input-wallpaper",onChange:function(e){H(e,"photo"),W("photo")}}))),l.a.createElement("div",{className:"editProfile__theme-themeActions"},l.a.createElement("div",null,l.a.createElement(le,{Icon:vn.a,type:"file",accept:"image/*",name:"image-upload",id:"input-photo",onChange:function(e){H(e,"wallpaper"),W("wallpaper")}})),l.a.createElement("div",null,l.a.createElement(aa.a,{onClick:function(){O(Object(d.a)({},g,{wallpaperSrc:null})),R(Object(d.a)({},T,{walpaper:{width:0,height:0}})),F(Object(d.a)({},P,{wallpaper:null})),w(Object(d.a)({},N,{wallpaperToSend:""}))}})," "))),l.a.createElement("form",{noValidate:!0,autoComplete:"off"},l.a.createElement(hn.a,{id:"displayName",label:"Name",variant:"filled",value:f.displayName,onChange:function(e){return h(Object(d.a)({},f,{displayName:e.target.value}))}}),l.a.createElement(hn.a,{id:"bio",label:"Bio",variant:"filled",value:f.bio,onChange:function(e){return h(Object(d.a)({},f,{bio:e.target.value}))}}),l.a.createElement(hn.a,{id:"location",label:"Location",variant:"filled",value:f.location,onChange:function(e){return h(Object(d.a)({},f,{location:e.target.value}))}}),l.a.createElement(hn.a,{id:"website",label:"Website",variant:"filled",value:f.website,onChange:function(e){return h(Object(d.a)({},f,{website:e.target.value}))},className:"lastbordered"}))))}),On=function(e){var t=e.profile,a=b(),c=Object(o.a)(a,1)[0].user,r=Object(n.useState)([]),i=Object(o.a)(r,2),s=i[0],u=i[1],m=Object(n.useState)([]),d=Object(o.a)(m,2),p=d[0],E=d[1],f=Object(n.useState)(null),h=Object(o.a)(f,2),v=h[0],g=h[1],j=Object(n.useState)(null),_=Object(o.a)(j,2),N=_[0],w=_[1];return Object(n.useEffect)(function(){I.collection("users").doc(c.id).onSnapshot(function(e){e.empty||u(e.data()&&e.data().following)})},[]),Object(n.useEffect)(function(){t&&t.followers.length>0&&E(t.followers.filter(function(e){return s.includes(e)}))},[s,t]),Object(n.useEffect)(function(){var e=p.length;e>0&&(e>1&&I.collection("users").doc(p[1]).onSnapshot(function(e){w(e.data())}),I.collection("users").doc(p[0]).onSnapshot(function(e){g(e.data())}))},[p]),console.log(p),l.a.createElement("div",{className:"followedInfo"},p.length>0?l.a.createElement(l.a.Fragment,null,v&&l.a.createElement(O.a,{src:v.photoURL}),p.length>1&&N&&l.a.createElement(O.a,{src:N.photoURL}),l.a.createElement("span",null,"Followed by ","".concat(v?v.displayName:""," ")," ",2===p.length&&N?"and ".concat(N.displayName):""," ",p.length>2&&N?", ".concat(N.displayName,", and ").concat(p.length-2," others"):""," ")):l.a.createElement("span",null,"Not followed by anyone you follow"))},jn=(a(260),function(e){e.posts;var t=Object(n.useState)({bio:"",displayName:"",followers:[],following:[],location:"",photoURL:"",website:""}),a=Object(o.a)(t,2),c=a[0],r=a[1],u=b(),m=Object(o.a)(u,1)[0].user,p=Object(s.g)().username,E=Object(n.useState)({}),f=Object(o.a)(E,2),h=f[0],v=f[1],g=Object(n.useState)(null),O=Object(o.a)(g,2),j=O[0],_=O[1],N=Object(n.useState)(null),w=Object(o.a)(N,2),S=w[0],y=w[1],C=Object(n.useState)(!1),k=Object(o.a)(C,2),x=k[0],T=k[1],R=Object(n.useState)(!1),L=Object(o.a)(R,2),U=L[0],P=L[1],F=Object(n.useState)(!1),A=Object(o.a)(F,2),z=A[0],D=A[1],M=Object(n.useState)(!1),V=Object(o.a)(M,2),q=V[0],W=V[1],J=(c&&c.id)===m.id,K=Object(n.useState)(!1),Z=Object(o.a)(K,2),G=Z[0],Y=Z[1],Q=Object(n.useState)(!1),$=Object(o.a)(Q,2),X=$[0],ee=$[1],te=Object(n.useState)(""),ae=Object(o.a)(te,2),ne=ae[0],le=ae[1];Object(n.useEffect)(function(){I.collection("users").where("username","==",p).onSnapshot(function(e){r(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())})[0])})},[p]);return Object(n.useEffect)(function(){if(console.log("isPhotoReady: ".concat(x,", isWallpaperReady: ").concat(U)),x&&U){var e=h.profileState,t=e.displayName,a=e.bio,n=e.location,l=e.website;!function e(){I.collection("users").doc(m.id).update({displayName:t,bio:a,location:n,website:l,photoURL:j,wallpaper:S}).then(function(e){D(!1)}).catch(function(t){e()})}()}},[x,U]),Object(n.useEffect)(function(){c&&(J||Y(c.followers.includes(m.id)))},[c]),l.a.createElement(l.a.Fragment,null,l.a.createElement(Ce,{open:q,onClose:function(){return W(!1)},title:"Edit Profile",callback:function(){var e=h.pictureToSend,t=e.photoToSend,a=e.wallpaperToSend;D(!0),t===c.photoURL&&(_(c.photoURL),T(!0)),t!==c.photoURL&&function e(){return ve(t).then(function(e){_(e),T(!0)}).catch(function(t){e()})}(),a===c.wallpaper&&(y(c.wallpaper),P(!0)),a!==c.wallpaper&&(null===a?(y(""),P(!0)):function e(){ve(a).then(function(e){y(e),P(!0)}).catch(function(t){e()})}())},Icon:aa.a,ButtonText:"Save"},l.a.createElement(gn,{profile:c,setUpdatedProfileState:v})),l.a.createElement(ln,{open:X,onClose:function(){return ee(!1)},imgsrc:ne}),l.a.createElement("div",{className:"userProfile"},l.a.createElement("div",{className:"userProfile__theme",style:{backgroundImage:"url(".concat(c&&c.wallpaper,")")}},l.a.createElement("div",{className:"photoWrapper"},c&&c.photoURL&&l.a.createElement("img",{src:c.photoURL,alt:"".concat(c.displayName),onClick:function(){return e=c.photoURL,le(e),void ee(!0);var e}}))),l.a.createElement("div",{className:"infoWrapper"},l.a.createElement("div",{className:"userProfile__actions"},l.a.createElement("div",{className:"moreWrapper"},l.a.createElement(H.a,null)),!J&&l.a.createElement("div",{className:"mailWrapper"},l.a.createElement(B.a,null)),J?l.a.createElement("div",{className:"followWrapper",onClick:function(){return W(!0)}},"Edit Profile"):G?l.a.createElement("div",{className:"followWrapper",onClick:function(){return la(m.id,c.id)}},"Followed"):l.a.createElement("div",{className:"followWrapper",onClick:function(){return na(m.id,c.id)}},"Follow")),l.a.createElement("h2",null,c&&c.displayName),p&&l.a.createElement("span",null,"@".concat(p)),c&&l.a.createElement("p",null,c.bio),l.a.createElement("div",{className:"bioInfo"},c&&c.location&&l.a.createElement("div",null," ",l.a.createElement(Wt.a,null)," ",l.a.createElement("span",null,c.location)),c&&c.website&&l.a.createElement("div",{className:"blued"}," ",l.a.createElement(pn.a,null)," ",l.a.createElement("span",null,c.website)),l.a.createElement("div",null,l.a.createElement(fn.a,null)," ",l.a.createElement("span",null,"Sep 2020"))),l.a.createElement("div",{className:"countInfo"},l.a.createElement(i.b,{to:"/profile/".concat(p,"/followinfo")},l.a.createElement("span",null,c&&c.following.length," ",l.a.createElement("p",null,"Following"))),l.a.createElement(i.b,{to:"/profile/".concat(p,"/followinfo")},l.a.createElement("span",null,void 0!==c&&c.followers.length," ",l.a.createElement("p",null,"Followers"))),J&&z&&l.a.createElement("div",{className:"themeSpinner"}," ",l.a.createElement(ke,null)," ")),l.a.createElement("div",{className:"themeBottom"},!J&&l.a.createElement(On,{profile:c})))))}),_n=a(121),Nn=a.n(_n),wn=a(80),Sn=function(){var e=Object(s.g)().username,t=Object(s.f)(),a=Object(n.useState)([]),c=Object(o.a)(a,2),r=c[0],i=c[1],u=Object(n.useState)(!1),m=Object(o.a)(u,2),p=m[0],E=m[1],f=Object(n.useState)({bio:"",displayName:"",followers:[],following:[],id:"",location:"",photoURL:"",username:"",wallpaper:"",website:""}),h=Object(o.a)(f,2),b=h[0],v=h[1];Object(n.useEffect)(function(){I.collection("users").where("username","==",e).onSnapshot(function(e){v(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())})[0])})},[e]),Object(n.useEffect)(function(){E(!0),b&&(E(!1),I.collection("posts").where("senderId","==",b.id).orderBy("timestamp","desc").onSnapshot(function(e){i(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())})),E(!1)}))});var g=[{id:0,title:"Tweets",item:l.a.createElement(l.a.Fragment,null,p&&l.a.createElement("div",{className:"feed__loader"},l.a.createElement(ba,null)),l.a.createElement(Ea,{posts:r}))},{id:1,title:"Tweets & replies",item:l.a.createElement(l.a.Fragment,null,"  ",p&&l.a.createElement("div",{className:"feed__loader"},l.a.createElement(ba,null))," ")},{id:2,title:"Media",item:l.a.createElement(l.a.Fragment,null,p&&l.a.createElement("div",{className:"feed__loader"},l.a.createElement(ba,null)),l.a.createElement(Ea,{posts:r.filter(function(e){return e.image.length>0})}))},{id:3,title:"Likes",item:l.a.createElement(l.a.Fragment,null," ",p&&l.a.createElement("div",{className:"feed__loader"},l.a.createElement(ba,null))," ")}],O=Object(wn.useSpring)({from:{x:600,opacity:.5},to:{x:0,opacity:1},config:{duration:220}});return l.a.createElement(wn.animated.div,{className:"feed",style:O},l.a.createElement(wn.animated.div,{className:"profile__header"},l.a.createElement("div",{className:"profile__backArrow",onClick:function(){return t.goBack()}},l.a.createElement(pt.a,null)),l.a.createElement("div",{className:"profile__title"},l.a.createElement("div",{className:"profile__title_title"},l.a.createElement("h2",{className:"userName"},b&&b.displayName),l.a.createElement(Nn.a,null)),l.a.createElement("span",null,r&&r.length," tweets"))),l.a.createElement(jn,{profile:b}),l.a.createElement(be,{items:g}))},yn=(a(261),function(e){var t=e.posts,a=Object(n.useState)([]),c=Object(o.a)(a,2),r=c[0],i=c[1];return Object(n.useEffect)(function(){i(t.filter(function(e){return e.image.length>0}).slice(0,6).map(function(e){return e.image}))},[]),l.a.createElement("div",{className:"widgets__widgetContainerforPhotos"},l.a.createElement("div",{className:"wcfpRow"},l.a.createElement("div",{className:"square bcA",style:{backgroundImage:"url(".concat(r.length>0&&r[0],")")}}),l.a.createElement("div",{className:"square",style:{backgroundImage:"url(".concat(r.length>0&&r[1],")")}}),l.a.createElement("div",{className:"square bcB",style:{backgroundImage:"url(".concat(r.length>0&&r[2],")")}})),l.a.createElement("div",{className:"wcfpRow"},l.a.createElement("div",{className:"square bcD",style:{backgroundImage:"url(".concat(r.length>0&&r[3],")")}}),l.a.createElement("div",{className:"square",style:{backgroundImage:"url(".concat(r.length>0&&r[4],")")}}),l.a.createElement("div",{className:"square bcC",style:{backgroundImage:"url(".concat(r.length>0&&r[5],")")}})))}),Cn=function(){var e=Object(s.g)().username,t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(""),u=Object(o.a)(i,2),m=u[0],p=u[1],E=Object(n.useState)(null),f=Object(o.a)(E,2),h=f[0],b=f[1];return Object(n.useEffect)(function(){I.collection("users").where("username","==",e).onSnapshot(function(e){b(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())})[0])})},[e]),Object(n.useEffect)(function(){h&&I.collection("posts").where("senderId","==",h.id).orderBy("timestamp","desc").onSnapshot(function(e){r(e.docs.map(function(e){return e.data()}))})},[h]),l.a.createElement("div",{className:"widgets"},l.a.createElement(ya,{value:m,onChange:function(e){return p(e.target.value)},onClick:function(){return p("")},placeholder:"Search Twittie"}),c.length>0&&l.a.createElement(yn,{posts:c}),l.a.createElement(Sa,null),l.a.createElement(Na,null))},kn=(a(262),function(){var e=Object(s.f)(),t=Object(s.g)().username,a=Object(n.useState)([]),c=Object(o.a)(a,2),r=c[0],i=c[1],u=Object(n.useState)([]),m=Object(o.a)(u,2),p=m[0],E=m[1],f=Object(n.useState)({}),h=Object(o.a)(f,2),b=h[0],v=h[1],g=Object(n.useState)([]),O=Object(o.a)(g,2),j=O[0],_=O[1];Object(n.useEffect)(function(){t&&I.collection("users").where("username","==",t).onSnapshot(function(e){v(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())})[0])})},[]),Object(n.useEffect)(function(){b.id&&I.collection("posts").where("senderId","==",b.id).orderBy("timestamp","desc").onSnapshot(function(e){_(e.docs.map(function(e){return e.data()}))})},[b]),Object(n.useEffect)(function(){b.id&&(console.log(b.displayName,b.id),I.collection("users").where("followers","array-contains",b.id).onSnapshot(function(e){i(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())}))}),I.collection("users").where("following","array-contains",b.id).onSnapshot(function(e){E(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())}))}))},[b]),console.log(r),console.log(p);var N=[{id:0,title:"Followers",item:l.a.createElement("ul",null,p&&p.map(function(e){return l.a.createElement("li",{key:e.id}," ",l.a.createElement(wa,{display:e}))}))},{id:1,title:"Following",item:l.a.createElement("ul",null,r&&r.map(function(e){return l.a.createElement("li",{key:e.id}," ",l.a.createElement(wa,{display:e}))}))}];return l.a.createElement("div",{className:"feed"},l.a.createElement("div",{className:"pro"},l.a.createElement("div",{className:"profile__backArrow",onClick:function(){return e.goBack()}},l.a.createElement(pt.a,null)),l.a.createElement("div",{className:"profile__title"},l.a.createElement("div",{className:"profile__title_title"},l.a.createElement("h2",null,b.displayName),l.a.createElement(Nn.a,null)),l.a.createElement("span",null,j.length>0?"".concat(j.length," tweets"):""))),l.a.createElement(be,{items:N}))}),In=a(122),xn=function(e){var t=e.props,a=e.profile,c=e.ownProfile,r=e.setIsOpenParentModal,i=e.originalPostSender,u=a.displayName,m=a.username,d=a.photoURL,p=a.verified,E=t.timestamp,f=t.text,h=t.image,b=t.altText,v=t.commentId,g=wt(E),_=Object(s.f)(),N=Object(s.g)().postId,w=Object(n.useState)(null),S=Object(o.a)(w,2),y=S[0],k=S[1],x=Object(n.useState)(!1),T=Object(o.a)(x,2),R=T[0],L=T[1],U=Boolean(y),P=U?"post-popover":void 0,F=Object(n.useState)(""),A=Object(o.a)(F,2),B=A[0],z=A[1],D=Object(n.useState)(null),M=Object(o.a)(D,2),V=M[0],q=M[1],W=Object(n.useState)(null),H=Object(o.a)(W,2),J=H[0],K=H[1],Z=Object(n.useState)({width:0,height:0}),G=Object(o.a)(Z,2),Y=G[0],Q=G[1],$=Object(n.useState)(null),X=Object(o.a)($,2),ee=X[0],ae=X[1],ce=Object(n.useState)(null),re=Object(o.a)(ce,2),oe=re[0],ie=re[1],se=Object(n.useState)(!1),ue=Object(o.a)(se,2),me=ue[0],de=ue[1],pe=Object(n.useState)(we(c.displayName)),Ee=Object(o.a)(pe,2),fe=Ee[0],he=Ee[1];Object(n.useEffect)(function(){ae(Y.width/Y.height)},[Y]);var ge=[{id:0,title:"",icon:l.a.createElement(mt.a,null),item:l.a.createElement(Ye,{image:V,setCroppedImageResult:ie,initialAspectRatio:ee})},{id:1,title:"ALT",icon:"",item:l.a.createElement(Qe,{image:oe,altText:fe,setCommentAltText:he})}];Object(n.useEffect)(function(){document.querySelector("textarea").addEventListener("keydown",function(){var e=this;setTimeout(function(){e.style.cssText="height:auto padding:0",e.style.cssText="height:"+e.scrollHeight+"px"},0)})},[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ce,{open:me,onClose:function(){return de(!1)},title:"Edit Photo",callback:function(){q(URL.createObjectURL(oe)),K(oe),0===fe.length&&he(we(u))},Icon:pt.a,ButtonText:"Save",setIsOpenParentModal:r},l.a.createElement(be,{items:ge})),l.a.createElement("div",{className:"reply"},l.a.createElement(ht.a,null,l.a.createElement(bt.a,null,l.a.createElement(vt.a,null,l.a.createElement(O.a,{src:d}),l.a.createElement(gt.a,null)),l.a.createElement(Ot.a,null,l.a.createElement("div",{className:"post__body upped"},l.a.createElement("div",{className:"post__header"},l.a.createElement("div",{className:"post__headerText"},l.a.createElement("h3",null,u," "," ",l.a.createElement("span",{className:"post__headerSpecial"},p&&l.a.createElement(_t.a,{className:"post__badge"}),"@".concat(m," . ").concat(E&&Nt(g))))),l.a.createElement("div",{className:"post__headerDescription"}," ",l.a.createElement("p",null," ",f," "))),h.length>0&&l.a.createElement("img",{src:h,alt:b}),l.a.createElement("span",{className:"replyingTo"},"Replying to ",l.a.createElement("p",null,"@".concat(m," @").concat(i&&i.username)))))),l.a.createElement(bt.a,null,l.a.createElement(vt.a,null,l.a.createElement(O.a,{src:c.photoURL})),l.a.createElement(Ot.a,null,l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),L(!0),J?ve(J).then(function(e){I.collection("posts").doc(N).collection("comments").doc(v).collection("threadComments").add({commentAltText:fe,text:B,image:e,likes:[],senderId:c.id,timestamp:C.a.firestore.FieldValue.serverTimestamp()}),z(""),he(""),q(null),L(!1),r(!1),_.push("/status/".concat(N,"/").concat(v))}).catch(function(e){console.log(e),L(!1)}):(I.collection("posts").doc(N).collection("comments").doc(v).collection("threadComments").add({commentAltText:"",text:B,image:"",likes:[],senderId:c.id,timestamp:C.a.firestore.FieldValue.serverTimestamp()}),z(""),he(""),q(null),L(!1),r(!1),_.push("/status/".concat(N,"/").concat(v)))}},l.a.createElement("div",{className:"tweetBox__input upped"},l.a.createElement("textarea",{rows:"1",placeholder:"Tweet your reply",type:"text",value:B,onChange:function(e){return z(e.target.value)}})),V&&l.a.createElement("div",{className:"tweetBox__input-image"},l.a.createElement(Xe.a,{className:"cancelIcon",onClick:function(){return q(null)}}),l.a.createElement("img",{src:V,alt:"new test"}),l.a.createElement(te.a,{className:"editImage",onClick:function(){return de(!0)}},"Edit")),l.a.createElement("div",{className:"tweetBox__input-actions"},l.a.createElement("div",{className:"tweetBox__input-icons"},l.a.createElement(le,{Icon:nt.a,type:"file",accept:"image/*",name:"comment-image-upload",id:"comment-image-upload",onChange:function(e){var t=new FileReader;t.onloadend=function(){q(t.result),K(t.result)},t.readAsDataURL(e.target.files[0]),Ne(e).then(function(e){Q({width:e.width,height:e.height})})}}),l.a.createElement(le,{Icon:st.a}),l.a.createElement(le,{Icon:ct.a}),l.a.createElement(le,{Icon:tt.a,"aria-describedby":P,type:"button",onClick:function(e){return k(e.currentTarget)}}),l.a.createElement(j.a,{id:P,open:U,anchorEl:y,onClose:function(){return k(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},style:{borderRadius:"2rem"}},l.a.createElement(ne.a,{onEmojiClick:function(e,t){var a=B+t.emoji;z(a)}})),l.a.createElement(le,{Icon:ot.a})),R?l.a.createElement(te.a,{className:"tweetBox__tweetButton"},l.a.createElement(ke,null)):l.a.createElement(te.a,{type:"submit",className:"tweetBox__tweetButton"},"Reply"))))))))},Tn=Object(n.forwardRef)(function(e,t){var a=e.commentAltText,c=e.text,r=e.image,u=e.timestamp,m=e.senderId,p=e.commentId,E=e.likes,f=e.statusUsername,h=Object(s.f)(),v=Object(s.g)().postId,g=wt(u),_=Object(n.useState)(null),w=Object(o.a)(_,2),S=w[0],y=w[1],C=Boolean(S),k=C?"post-popover":void 0,x=b(),T=Object(o.a)(x,1)[0].user,R=Object(n.useState)({id:"",displayName:"",photoURL:"",verified:!1,username:"",followers:[],following:[]}),L=Object(o.a)(R,2),U=L[0],P=L[1],F=U.displayName,A=U.username,B=U.photoURL,z=U.verified,D=Object(n.useState)(null),M=Object(o.a)(D,2),V=M[0],q=M[1],W=Object(n.useState)(null),H=Object(o.a)(W,2),J=H[0],K=H[1],Z=Object(n.useState)(null),G=Object(o.a)(Z,2),Y=G[0],Q=G[1],$=Object(n.useState)(!1),X=Object(o.a)($,2),ee=X[0],te=X[1],ae=Object(n.useState)([]),ne=Object(o.a)(ae,2),le=ne[0],ce=ne[1],re=function(e){return h.push("/status/".concat(v,"/").concat(e))},oe=Object(n.useState)(!1),ie=Object(o.a)(oe,2),se=ie[0],ue=ie[1];Object(n.useEffect)(function(){var e=!0;return I.collection("users").doc(T.id).onSnapshot(function(t){e&&q(Object(d.a)({id:T.id},t.data()))}),I.collection("users").doc(m).onSnapshot(function(t){e&&P(t.data())}),I.collection("posts").doc(v).collection("comments").doc(p).collection("threadComments").onSnapshot(function(t){e&&ce(t.docs.map(function(e){return Object(d.a)({id:e.id},e.data())}))}),I.collection("posts").doc(v).onSnapshot(function(t){e&&K(t.data())}),function(){return e=!1}},[]),Object(n.useEffect)(function(){var e=!0;return J&&I.collection("users").doc(J.senderId).onSnapshot(function(t){e&&Q(t.data())}),function(){return e=!1}},[J]),Object(n.useEffect)(function(){U&&ue(U.followers.includes(T.id))},[U]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ce,{open:ee,onClose:function(){return te(!1)},title:"",callback:function(){},Icon:aa.a,ButtonText:""},l.a.createElement(xn,{props:{threadAlttext:a,image:r,timestamp:u,senderId:m,commentId:p,likes:E},profile:U,ownProfile:V,setIsOpenParentModal:function(e){return te(e)},originalPostSender:Y})),l.a.createElement("div",{className:"post",ref:t},l.a.createElement("div",{className:"post__avatar"},l.a.createElement(O.a,{src:B})),l.a.createElement("div",{className:"post__body"},l.a.createElement("div",{className:"post__header"},l.a.createElement("div",{className:"post__headerText"},l.a.createElement("h3",null,F," "," ",l.a.createElement("span",{className:"post__headerSpecial"},z&&l.a.createElement(_t.a,{className:"post__badge"}),"@","".concat(A," . ").concat(u&&Nt(g)))),l.a.createElement("div",{className:"post__headerExpandIcon","aria-describedby":k,variant:"contained",onClick:function(e){return y(e.currentTarget)}},l.a.createElement(N.a,null)),l.a.createElement(j.a,{id:k,open:C,anchorEl:S,onClose:function(){return y(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},l.a.createElement("ul",{className:"post__expandList"},m===T.id?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{onClick:function(){return ia(v,p)}},l.a.createElement("div",{className:"delete"},l.a.createElement(Bt.a,null)),l.a.createElement("h3",{className:"delete"},"Delete")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Wt.a,null)),l.a.createElement("h3",null,"Pin to your profile")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Vt.a,null)),l.a.createElement("h3",null,"Embed Tweet")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Dt.a,null)),l.a.createElement("h3",null,"View Tweet activity"))):l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Jt.a,null)),l.a.createElement("h3",null,"Not interested in this tweet")),se?l.a.createElement("li",{onClick:function(){return la(T.id,m)}},l.a.createElement("div",null,l.a.createElement($t.a,null)),l.a.createElement("h3",null,"Unfollow ","@".concat(A))):l.a.createElement("li",{onClick:function(){return na(T.id,m)}},l.a.createElement("div",null,l.a.createElement(ea.a,null)),l.a.createElement("h3",null,"Follow ","@".concat(A))),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Yt.a,null)),l.a.createElement("h3",null,"Add/remove from Lists")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Zt.a,null)),l.a.createElement("h3",null,"Block ","@".concat(A))),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Vt.a,null)),l.a.createElement("h3",null,"Embed Tweet")))))),f&&l.a.createElement("div",{className:"post__replyingTo"},"Replying To ",l.a.createElement(i.b,{to:"/profile/".concat(f)},"@".concat(f))),l.a.createElement("div",{className:"post__headerDescription",onClick:function(){return re(p)}},l.a.createElement("p",null," ",c," "))),r.length>0&&l.a.createElement("img",{src:r,alt:a,onClick:function(){return re(p)}}),l.a.createElement("div",{className:"post__footer"},l.a.createElement(ft,{Icon:Rt.a,value:le.length,onClick:function(){return te(!0)}}),l.a.createElement(ft,{Icon:Ut.a,value:0}),l.a.createElement(xt,{likes:E,likeAction:function(){return sa(v,p,T.id)},unlikeAction:function(){return ua(v,p,T.id)}}),l.a.createElement(ft,{Icon:Ft.a,value:0})))))}),Rn=function(e){var t=e.comments,a=e.statusUsername;return l.a.createElement(l.a.Fragment,null,l.a.createElement(In.a,null,t.map(function(e){return l.a.createElement(Tn,{key:e.id,commentId:e.id,commentAltText:e.commentAltText,senderId:e.senderId,username:e.username,text:e.text,avatar:e.avatar,image:e.image,timestamp:e.timestamp,likes:e.likes,statusUsername:a})})))},Ln=function(e){var t=e.status,a=e.comments,c=Object(s.g)().postId,r=b(),i=Object(o.a)(r,1)[0].user,u=Object(n.useState)({id:"",displayName:"",photoURL:"",verified:!1,username:"",followers:[],following:[]}),m=Object(o.a)(u,2),d=m[0],p=m[1],E=d.displayName,f=d.username,h=d.photoURL,v=d.verified,g=t.altText,_=t.text,w=t.image,S=t.timestamp,y=t.senderId,C=t.likes,k=wt(S),x=Object(s.f)(),T=Object(n.useState)(!1),R=Object(o.a)(T,2),L=R[0],U=R[1],P=Object(n.useState)(null),F=Object(o.a)(P,2),A=F[0],B=F[1],z=Boolean(A),D=z?"post-popover":void 0,M=Object(n.useState)(!1),V=Object(o.a)(M,2),q=V[0],W=V[1];Object(n.useEffect)(function(){var e=!0;return I.collection("users").doc(y).onSnapshot(function(t){e&&p(t.data())}),function(){return e=!1}},[]),Object(n.useEffect)(function(){d&&W(d.followers.includes(i.id))},[d]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ce,{open:L,onClose:function(){return U(!1)},title:"",callback:function(){},Icon:aa.a,ButtonText:""},l.a.createElement(St,{props:{altText:g,text:_,image:w,timestamp:S,senderId:y,postId:c,likes:C},profile:d,ownProfile:i,setIsOpenParentModal:function(e){return U(e)}})),l.a.createElement("div",{className:"statusPost"},l.a.createElement("div",{className:"post bottomWhited"},l.a.createElement("div",{className:"post__avatar"},l.a.createElement(O.a,{src:h})),l.a.createElement("div",{className:"post__body"},l.a.createElement("div",{className:"post__header"},l.a.createElement("div",{className:"post__headerText"},l.a.createElement("div",{className:"post__statusPostHeader"},l.a.createElement("h3",null,E," ",v&&l.a.createElement(_t.a,{className:"post__badge"})," "),l.a.createElement("span",{className:"post__headerSpecial"},f&&"@".concat(f," "))),l.a.createElement("div",{className:"post__headerExpandIcon","aria-describedby":D,variant:"contained",onClick:function(e){return B(e.currentTarget)}},l.a.createElement(N.a,null)),l.a.createElement(j.a,{id:D,open:z,anchorEl:A,onClose:function(){return B(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},l.a.createElement("ul",{className:"post__expandList"},y===i.id?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{onClick:function(){ca(c),x.push("/")}},l.a.createElement("div",{className:"delete"},l.a.createElement(Bt.a,null)),l.a.createElement("h3",{className:"delete"},"Delete")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Wt.a,null)),l.a.createElement("h3",null,"Pin to your profile")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Vt.a,null)),l.a.createElement("h3",null,"Embed Tweet")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Dt.a,null)),l.a.createElement("h3",null,"View Tweet activity"))):l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Jt.a,null)),l.a.createElement("h3",null,"Not interested in this tweet")),q?l.a.createElement("li",{onClick:function(){return la(i.id,y)}},l.a.createElement("div",null,l.a.createElement($t.a,null)),l.a.createElement("h3",null,"Unfollow ","@".concat(f))):l.a.createElement("li",{onClick:function(){return na(i.id,y)}},l.a.createElement("div",null,l.a.createElement(ea.a,null)),l.a.createElement("h3",null,"Follow ","@".concat(f))),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Yt.a,null)),l.a.createElement("h3",null,"Add/remove from Lists")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Zt.a,null)),l.a.createElement("h3",null,"Block ","@".concat(f))),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Vt.a,null)),l.a.createElement("h3",null,"Embed Tweet"))))))))),l.a.createElement("div",{className:"statusPost__body"},l.a.createElement("div",{className:"statusPost__body--message"},_),w&&l.a.createElement("img",{src:w,alt:g}),l.a.createElement("div",{className:"statusPost__body--date"},S&&Nt(k))),l.a.createElement("div",{className:"statusPost__footer"},l.a.createElement("div",{className:"post__footer"},l.a.createElement(ft,{Icon:Rt.a,value:a.length,onClick:function(){return U(!0)}}),l.a.createElement(ft,{Icon:Ut.a,value:0}),l.a.createElement(xt,{likes:C,likeAction:function(){return ra(c,i.id)},unlikeAction:function(){return oa(c,i.id)}}),l.a.createElement(ft,{Icon:Ft.a,value:0})))))},Un=(a(147),function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),i=Object(o.a)(r,2),u=i[0],m=i[1],p=Object(n.useState)(""),E=Object(o.a)(p,2),f=E[0],h=E[1],b=Object(s.f)(),v=Object(s.g)().postId;return Object(n.useEffect)(function(){var e=!0;return v&&(I.collection("posts").doc(v).onSnapshot(function(t){e&&m(Object(d.a)({},t.data()))}),I.collection("posts").doc(v).collection("comments").orderBy("timestamp","desc").onSnapshot(function(t){e&&c(t.docs.map(function(e){return Object(d.a)({id:e.id},e.data())}))})),function(){return e=!1}},[v]),Object(n.useEffect)(function(){var e=!0;return u&&I.collection("users").doc(u.senderId).onSnapshot(function(t){e&&h(t.data().username)}),function(){return e=!1}},[u]),l.a.createElement("div",{className:"feed"},l.a.createElement("div",{className:"status__header"},l.a.createElement("div",{className:"status__backArrow",onClick:function(){return b.goBack()}},l.a.createElement(pt.a,null)),l.a.createElement("h2",null,"Tweet")),u&&l.a.createElement(Ln,{status:u,comments:a}),!1,l.a.createElement(Rn,{comments:a,statusUsername:f}))}),Pn=Object(n.forwardRef)(function(e,t){var a=e.commentAltText,c=e.text,r=e.image,u=e.timestamp,m=e.senderId,d=e.threadCommentId,p=(e.likes,e.statusUsername),E=e.originalPostUsername,f=Object(s.g)(),h=f.postId,v=f.commentId,g=wt(u),_=Object(n.useState)(null),w=Object(o.a)(_,2),S=w[0],y=w[1],C=Boolean(S),k=C?"post-popover":void 0,x=b(),T=Object(o.a)(x,1)[0].user,R=Object(n.useState)({id:"",displayName:"",photoURL:"",verified:!1,username:""}),L=Object(o.a)(R,2),U=L[0],P=L[1],F=U.displayName,A=U.username,B=U.photoURL,z=U.verified;Object(n.useEffect)(function(){I.collection("users").doc(m).onSnapshot(function(e){P(e.data())})},[]);var D=function(e,t,a){!function(e,t,a){I.collection("posts").doc(e).collection("comments").doc(t).collection("threadComments").doc(a).delete()}(e,t,a)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"post",ref:t},l.a.createElement("div",{className:"post__avatar"},l.a.createElement(O.a,{src:B})),l.a.createElement("div",{className:"post__body"},l.a.createElement("div",{className:"post__header"},l.a.createElement("div",{className:"post__headerText"},l.a.createElement("h3",null,F," "," ",l.a.createElement("span",{className:"post__headerSpecial"},z&&l.a.createElement(_t.a,{className:"post__badge"}),"@","".concat(A," . ").concat(u&&Nt(g)))),l.a.createElement("div",{className:"post__headerExpandIcon","aria-describedby":k,variant:"contained",onClick:function(e){return y(e.currentTarget)}},l.a.createElement(N.a,null)),l.a.createElement(j.a,{id:k,open:C,anchorEl:S,onClose:function(){return y(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},l.a.createElement("ul",{className:"post__expandList"},m===T.id?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{onClick:function(){return D(h,v,d)}},l.a.createElement("div",{className:"delete"},l.a.createElement(Bt.a,null)),l.a.createElement("h3",{className:"delete"},"Delete")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Wt.a,null)),l.a.createElement("h3",null,"Pin to your profile")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Vt.a,null)),l.a.createElement("h3",null,"Embed Tweet")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Dt.a,null)),l.a.createElement("h3",null,"View Tweet activity"))):l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Jt.a,null)),l.a.createElement("h3",null,"Not interested in this tweet")),l.a.createElement("li",{onClick:function(){return la(T.id,m)}},l.a.createElement("div",null,l.a.createElement($t.a,null)),l.a.createElement("h3",null,"Unfollow ","@".concat(A))),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Yt.a,null)),l.a.createElement("h3",null,"Add/remove from Lists")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Zt.a,null)),l.a.createElement("h3",null,"Block ","@".concat(A))),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Vt.a,null)),l.a.createElement("h3",null,"Embed Tweet")))))),p&&l.a.createElement("div",{className:"post__replyingTo"},"Replying To",l.a.createElement(i.b,{to:"/profile/".concat(p)},"@".concat(p," ")),l.a.createElement(i.b,{to:"/profile/".concat(E)},"@".concat(E))),l.a.createElement("div",{className:"post__headerDescription"},l.a.createElement("p",null," ",c," "))),r.length>0&&l.a.createElement("img",{src:r,alt:a}))))}),Fn=function(e){var t=e.comments,a=e.statusUsername,n=e.originalPostUsername;return l.a.createElement(In.a,null,t.map(function(e){return l.a.createElement(Pn,{key:e.id,threadCommentId:e.id,commentAltText:e.commentAltText,senderId:e.senderId,username:e.username,text:e.text,avatar:e.avatar,image:e.image,timestamp:e.timestamp,likes:e.likes,statusUsername:a,originalPostUsername:n})}))},An=function(e){var t=e.status,a=e.comments,c=Object(s.g)(),r=c.postId,u=c.commentId,m=b(),p=Object(o.a)(m,1)[0].user,E=Object(n.useState)(null),f=Object(o.a)(E,2),h=f[0],v=f[1],g=Object(n.useState)(null),_=Object(o.a)(g,2),w=_[0],S=_[1],y=Object(n.useState)({id:"",displayName:"",photoURL:"",verified:!1,username:"",followers:[],following:[]}),C=Object(o.a)(y,2),k=C[0],x=C[1],T=k.displayName,R=k.username,L=k.photoURL,U=k.verified,P=Object(n.useState)(null),F=Object(o.a)(P,2),A=F[0],B=F[1],z=t.commentAltText,D=t.text,M=t.image,V=t.timestamp,q=t.senderId,W=t.likes,H=wt(V),J=Object(s.f)(),K=Object(n.useState)(!1),Z=Object(o.a)(K,2),G=Z[0],Y=Z[1],Q=Object(n.useState)(null),$=Object(o.a)(Q,2),X=$[0],ee=$[1],te=Boolean(X),ae=te?"post-popover":void 0,ne=Object(n.useState)(!1),le=Object(o.a)(ne,2),ce=le[0],re=le[1];Object(n.useEffect)(function(){var e=!0;return I.collection("users").doc(p.id).onSnapshot(function(t){e&&B(Object(d.a)({id:p.id},t.data()))}),I.collection("users").doc(q).onSnapshot(function(t){e&&x(t.data())}),I.collection("posts").doc(r).onSnapshot(function(t){e&&v(t.data())}),function(){return e=!1}},[]),Object(n.useEffect)(function(){var e=!0;return h&&I.collection("users").doc(h.senderId).onSnapshot(function(t){e&&S(t.data())}),function(){return e=!1}},[h]),Object(n.useEffect)(function(){k&&re(k.followers.includes(p.id))},[k]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ce,{open:G,onClose:function(){return Y(!1)},title:"",callback:function(){},Icon:aa.a,ButtonText:""},l.a.createElement(xn,{props:{threadAltText:z,text:D,image:M,timestamp:V,senderId:q,postId:r,likes:W,commentId:u},profile:k,ownProfile:A,originalPostSender:w,setIsOpenParentModal:function(e){return Y(e)}})),l.a.createElement("div",{className:"statusPost"},l.a.createElement("div",{className:"post bottomWhited"},l.a.createElement("div",{className:"post__avatar"},l.a.createElement(O.a,{src:L})),l.a.createElement("div",{className:"post__body"},l.a.createElement("div",{className:"post__header"},l.a.createElement("div",{className:"post__headerText"},l.a.createElement("div",{className:"post__statusPostHeader"},l.a.createElement("h3",null,T," ",U&&l.a.createElement(_t.a,{className:"post__badge"})," "),l.a.createElement("span",{className:"post__headerSpecial"},R&&"@".concat(R," "))),l.a.createElement("div",{className:"post__headerExpandIcon","aria-describedby":ae,variant:"contained",onClick:function(e){return ee(e.currentTarget)}},l.a.createElement(N.a,null)),l.a.createElement(j.a,{id:ae,open:te,anchorEl:X,onClose:function(){return ee(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},l.a.createElement("ul",{className:"post__expandList"},q===p.id?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{onClick:function(){return function(e,t){ia(e,t),J.push("/status/".concat(e))}(r,u)}},l.a.createElement("div",{className:"delete"},l.a.createElement(Bt.a,null)),l.a.createElement("h3",{className:"delete"},"Delete")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Wt.a,null)),l.a.createElement("h3",null,"Pin to your profile")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Vt.a,null)),l.a.createElement("h3",null,"Embed Tweet")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Dt.a,null)),l.a.createElement("h3",null,"View Tweet activity"))):l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Jt.a,null)),l.a.createElement("h3",null,"Not interested in this tweet")),ce?l.a.createElement("li",{onClick:function(){return la(p.id,q)}},l.a.createElement("div",null,l.a.createElement($t.a,null)),l.a.createElement("h3",null,"Unfollow ","@".concat(R))):l.a.createElement("li",{onClick:function(){return na(p.id,q)}},l.a.createElement("div",null,l.a.createElement(ea.a,null)),l.a.createElement("h3",null,"Follow ","@".concat(R))),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Yt.a,null)),l.a.createElement("h3",null,"Add/remove from Lists")),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Zt.a,null)),l.a.createElement("h3",null,"Block ","@".concat(R))),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement(Vt.a,null)),l.a.createElement("h3",null,"Embed Tweet"))))))))),w&&l.a.createElement("div",{className:"post__replyingTo addMoreLeftPadd"},"Replying To ",l.a.createElement(i.b,{to:"/profile/".concat(R)},"@".concat(R)),"  ",l.a.createElement(i.b,{to:"/profile/".concat(w.username)},"@".concat(w.username))),l.a.createElement("div",{className:"statusPost__body"},l.a.createElement("div",{className:"statusPost__body--message"},D),M&&l.a.createElement("img",{src:M,alt:z}),l.a.createElement("div",{className:"statusPost__body--date"},V&&Nt(H))),l.a.createElement("div",{className:"statusPost__footer"},l.a.createElement("div",{className:"post__footer"},l.a.createElement(ft,{Icon:Rt.a,value:a.length,onClick:function(){return Y(!0)}}),l.a.createElement(ft,{Icon:Ut.a,value:0}),l.a.createElement(xt,{likes:W,likeAction:function(){return sa(r,u,p.id)},unlikeAction:function(){return ua(r,u,p.id)}}),l.a.createElement(ft,{Icon:Ft.a,value:0})))))},Bn=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),i=Object(o.a)(r,2),u=i[0],m=i[1],p=Object(n.useState)(""),E=Object(o.a)(p,2),f=E[0],h=E[1],b=Object(n.useState)(null),v=Object(o.a)(b,2),g=v[0],O=v[1],j=Object(n.useState)(""),_=Object(o.a)(j,2),N=_[0],w=_[1],S=Object(s.f)(),y=Object(s.g)(),C=y.postId,k=y.commentId;return Object(n.useEffect)(function(){var e=!0;return C&&(I.collection("posts").doc(C).onSnapshot(function(t){e&&O(t.data())}),I.collection("posts").doc(C).collection("comments").doc(k).onSnapshot(function(t){e&&m(Object(d.a)({},t.data()))}),I.collection("posts").doc(C).collection("comments").doc(k).collection("threadComments").orderBy("timestamp","desc").onSnapshot(function(t){e&&c(t.docs.map(function(e){return Object(d.a)({id:e.id},e.data())}))})),function(){return e=!1}},[C]),Object(n.useEffect)(function(){var e=!0;return g&&I.collection("users").doc(g.senderId).onSnapshot(function(t){e&&w(t.data().username)}),function(){return e=!1}},[g]),Object(n.useEffect)(function(){var e=!0;return u&&I.collection("users").doc(u.senderId).onSnapshot(function(t){e&&h(t.data().username)}),function(){return e=!1}},[u]),l.a.createElement("div",{className:"feed"},l.a.createElement("div",{className:"status__header"},l.a.createElement("div",{className:"status__backArrow",onClick:function(){return S.goBack()}},l.a.createElement(pt.a,null)),l.a.createElement("h2",null,"Thread")),u&&l.a.createElement(An,{status:u,comments:a}),!1,l.a.createElement(Fn,{comments:a,statusUsername:f,originalPostUsername:N}))},zn=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1];return l.a.createElement("div",{className:"widgets"},l.a.createElement(ya,{value:a,onChange:function(e){return c(e.target.value)},onClick:function(){return c("")},placeholder:"Search Twittie"}),l.a.createElement(Na,null))},Dn=(a(263),function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),i=Object(o.a)(r,2),u=i[0],m=i[1],p=Object(n.useState)(!1),E=Object(o.a)(p,2),f=E[0],h=E[1],b=[],v=Object(s.f)(),g=function(){h(!0);var e=a.toLowerCase();return I.collection("users").where("username","==",e).get().then(function(e){e.empty?(m([]),console.log("No results"),h(!1)):(m(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())})),h(!1))})};return Object(n.useEffect)(function(){return function(){return function(){h(!0);var e=a.toLowerCase();return I.collection("users").where("username","==",e).get().then(function(e){e.empty?(m([]),console.log("No results"),h(!1)):(m(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())})),h(!1))})}()}},[a]),console.log([]),console.log(b),l.a.createElement("div",{className:"searchUser"},l.a.createElement("div",{className:"searchUser__header"},l.a.createElement("div",{className:"searchUser__header-search"},l.a.createElement(U.a,null),l.a.createElement("input",{type:"text",placeholder:"Search @/#",value:a,onChange:function(e){return c(e.target.value)},onKeyUp:g,onKeyPress:g,onKeyDown:g}))),f&&l.a.createElement(La.a,null),l.a.createElement("div",{className:"users__result"},u.filter(function(e){return!b.includes(e.id)}).map(function(e){return l.a.createElement(Ua,{key:e.id,name:e.displayName,username:e.username,photourl:e.photoURL,onClick:function(){return function(e){v.push("/Profile/"+e.username)}(e)}})})))});var Mn=function(){return l.a.createElement(Dn,null)},Vn=(a(264),a(172)),qn=a.n(Vn),Wn=a(171);var Hn=function(e){var t=e.channel,a=e.description,n=e.song;return l.a.createElement("div",{className:"videoFooter"},l.a.createElement("div",{className:"videoFooter__text"},l.a.createElement("h3",null,"@",t),l.a.createElement("p",null,a),l.a.createElement("div",{className:"videoFooter__ticker"},l.a.createElement(qn.a,{className:"videoFooter__icon"}),l.a.createElement(Wn.a,{mode:"smooth"},function(e){return e.index,l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,n))}))),l.a.createElement("img",{className:"videoFooter__record",src:"https://static.thenounproject.com/png/934821-200.png",alt:""}))},Jn=(a(148),a(173)),Kn=a.n(Jn),Zn=a(174),Gn=a.n(Zn),Yn=function(e){var t=e.likes,a=e.likeAction,c=e.unlikeAction,r=b(),i=Object(o.a)(r,1)[0].user,s=Object(n.useState)(!1),u=Object(o.a)(s,2),m=u[0],d=u[1];return Object(n.useEffect)(function(){i.id&&t&&(t.includes(i.id)?d(!0):d(!1))},[t]),l.a.createElement("div",null,m?l.a.createElement("span",{onClick:c},l.a.createElement(It.a,null)):l.a.createElement(Ct.a,{onClick:a}),l.a.createElement("div",null,t&&t.length>0&&t.length))};var Qn=function(e){var t=e.likes,a=e.shares,n=e.messages,c=e.reelsId,r=b(),i=Object(o.a)(r,1)[0].user;return l.a.createElement("div",{className:"videoSidebar"},l.a.createElement("div",{className:"videoSidebar__button"},l.a.createElement(Yn,{unlikeAction:function(){return da(c,i.id)},likeAction:function(){return ma(c,i.id)},likes:t})),l.a.createElement("div",{className:"videoSidebar__button"},l.a.createElement(Kn.a,{fontSize:"large"}),l.a.createElement("p",null,n)),l.a.createElement("div",{className:"videoSidebar__button"},l.a.createElement(Gn.a,{fontSize:"large"}),l.a.createElement("p",null,a)))};a(265);var $n=function(e){var t=e.url,a=e.channel,c=e.description,r=e.song,i=e.likes,s=e.messages,u=e.shares,m=e.reelsId,d=Object(n.useState)(!1),p=Object(o.a)(d,2),E=p[0],f=p[1],h=Object(n.useRef)(null);return l.a.createElement("div",{onPointerLeave:function(){h.current.pause(),f(!1)},onClick:function(){E?(h.current.pause(),f(!1)):(h.current.play(),f(!0))},className:"video"},l.a.createElement("video",{className:"video__player",onLoadStart:function(){h.current.play(),f(!0)},onLoadedData:function(){h.current.pause(),f(!1)},loop:!0,ref:h,src:t}),l.a.createElement(Hn,{channel:a,description:c,song:r}),l.a.createElement(Qn,{likes:i,messages:s,shares:u,reelsId:m}))};a(266);var Xn=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)(function(){I.collection("reels").onSnapshot(function(e){return c(e.docs.map(function(e){return Object(d.a)({reelsId:e.id},e.data())}))})},[]);var r=Object(wn.useSpring)({from:{x:1e3,opacity:0},to:{x:0,opacity:1},config:{duration:300}});return l.a.createElement(wn.animated.div,{className:"shorts",style:r},l.a.createElement("div",{className:"app__videos"},a.map(function(e){var t=e.url,a=e.channel,n=e.description,c=e.song,r=e.likes,o=e.messages,i=e.shares,s=e.reelsId;return l.a.createElement($n,{url:t,channel:a,song:c,likes:r,messages:o,description:n,shares:i,reelsId:s})})))},el=(a(267),function(){var e=b(),t=Object(o.a)(e,2),a=t[0].user,c=t[1];return Object(n.useEffect)(function(){c({type:E,user:JSON.parse(localStorage.getItem("twittie_user"))})},[]),l.a.createElement("div",{className:"app"},a?l.a.createElement(i.a,null,l.a.createElement("div",{className:"app__mainContent"},l.a.createElement(X,null),l.a.createElement(s.c,null,l.a.createElement(s.a,{exact:!0,path:"/"},l.a.createElement("div",{className:"app__main"},l.a.createElement(_a,null),l.a.createElement(Ca,null))),l.a.createElement(s.a,{path:"/explore",component:Mn}),l.a.createElement(s.a,{path:"/shorts",component:Xn}),l.a.createElement(s.a,{path:"/messages"},l.a.createElement(Ma,null,l.a.createElement("div",{className:"app__main"},l.a.createElement(Ha,null),l.a.createElement(s.c,null,l.a.createElement(s.a,{path:"/messages/:roomId",exact:!0},l.a.createElement(rn,null)),l.a.createElement(s.a,{path:"/messages/:roomId/info"},l.a.createElement(un,null)))))),l.a.createElement(s.a,{path:"/profile/:username"},l.a.createElement("div",{className:"app__main"},l.a.createElement(s.c,null,l.a.createElement(s.a,{path:"/profile/:username",exact:!0,component:Sn}),l.a.createElement(s.a,{path:"/profile/:username/followinfo",render:function(){return l.a.createElement(kn,null)}})),l.a.createElement(Cn,null))),l.a.createElement(s.a,{path:"/status/:postId"},l.a.createElement("div",{className:"app__main"},l.a.createElement(s.c,null,l.a.createElement(s.a,{path:"/status/:postId",exact:!0},l.a.createElement(Un,null)),l.a.createElement(s.a,{path:"/status/:postId/:commentId"},l.a.createElement(Bn,null))),l.a.createElement(zn,null)))))):l.a.createElement(mn,null))});r.a.render(l.a.createElement(v,null,l.a.createElement($,null,l.a.createElement(el,null))),document.querySelector("#root"))}},[[195,1,2]]]);
//# sourceMappingURL=main.dcd77230.chunk.js.map